{"version":3,"sources":["store/slice/auth.slice.js","store/slice/counter.slice.js","store/slice/loading.slice.js","store/index.js","fonts/chinese.msyh.ttf","images/logo_title.png","components/Guest/Invoice.js","images/receipt_logo.png","components/Guest/Receipt.js","components/Guest/Quotation.js","services/auth.service.js","components/Guest/SignIn.js","components/Guest/SignUp.js","components/Common/AppHeader/index.js","components/Common/Sidebar/FixedSidebar.js","components/Common/Sidebar/CollapsedSidebar.js","components/Common/DataGrid/index.js","components/Admin/User.js","components/Common/MultiSelect/index.js","components/Admin/Chair/Stock.js","components/Admin/Desk/Stock.js","components/Admin/Accessory/Stock.js","components/Admin/Salement/ProductList/index.js","components/Admin/Salement/SalesOrder/View.js","components/Admin/Salement/SalesOrder/Detail.js","components/Admin/Salement/SalesOrder/Create.js","components/Admin/Salement/SalesOrder/Edit.js","components/Admin/Salement/Quotation/View.js","components/Admin/Salement/Quotation/Detail.js","components/Admin/Salement/Quotation/Create.js","components/Admin/Salement/Quotation/Edit.js","components/Admin/Delivery/Chair.js","components/Admin/Delivery/Desk.js","components/Admin/Delivery/Accessory.js","components/Admin/Purchase/Listing.js","components/Admin/Purchase/Order/view.js","components/Admin/Purchase/Create/columns.js","components/Admin/Purchase/Create/StockTab.js","components/Admin/Purchase/Create/index.js","components/Admin/Purchase/Order/create.js","components/Admin/Purchase/Shipment/view.js","components/Admin/Purchase/Shipment/create.js","components/Admin/index.js","components/Standard/Chair/Stock.js","components/Standard/Desk/Stock.js","components/Standard/Accessory/Stock.js","components/Standard/Salement/ProductList/index.js","components/Standard/Salement/SalesOrder/View.js","components/Standard/Salement/SalesOrder/Detail.js","components/Standard/Salement/SalesOrder/Create.js","components/Standard/Salement/SalesOrder/Edit.js","components/Standard/Salement/Quotation/View.js","components/Standard/Salement/Quotation/Detail.js","components/Standard/Salement/Quotation/Create.js","components/Standard/Salement/Quotation/Edit.js","components/Standard/index.js","components/Common/Routes/AdminRoute.js","components/Common/Routes/GuestRoute.js","components/Common/Routes/PrivateRoute.js","components/Common/DeliveryPDF/index.js","App.js","reportWebVitals.js","index.js"],"names":["auth","createSlice","name","initialState","isLoggedIn","isAdmin","token","reducers","loginSuccess","state","action","payload","loginFail","logout","actions","counter","value","increment","decrement","incrementByAmount","beginLoading","endLoading","reducer","combineReducers","loading","preloadedState","localStorage","getItem","JSON","parse","store","configureStore","subscribe","setItem","stringify","getState","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","header","width","fontSize","lineHeight","marginBottom","flexDirection","alignItems","title","fontFamily","textTransform","logo","marginLeft","info","companyInfo","paddingRight","clientInfo","email","color","textDecoration","subtitle","margin","fontWeight","text","textAlign","table","border","tableRow","borderBottom","minHeight","tableColumn","flex","padding","borderRight","Font","register","family","src","microsoft_yahei","monthNames","connect","props","useState","success","setSuccess","Seller","ChairStocks","DeskStocks","AccessoryStocks","ServiceToOrders","DeskToOrders","order","setOrder","id","useParams","useEffect","source","axios","CancelToken","getOrder","cancelToken","cancel","getDateString","time","tmp","Date","getMonth","getDate","getFullYear","get","then","response","console","log","data","catch","error","Backdrop","sx","zIndex","theme","drawer","open","CircularProgress","test","navigator","userAgent","document","style","wrap","createdAt","prefix","invoiceNum","substr","logoTitle","unit","floor","block","street","district","phone","cells","content","backgroundColor","firstName","lastName","timeLine","paymentTerms","paid","dueDate","map","rowIndex","rowArr","rowRestProps","length","index","cellArr","cellRestProps","flexBasis","maxWidth","item","ChairToOrder","qty","brand","model","withHeadrest","withAdArmrest","remark","deliveryOption","unitPrice","find","stock","stockId","armSize","feetSize","beamSize","hasDeskTop","topMaterial","topLength","topWidth","topThickness","topColor","topRoundedCorners","topCornerRadius","topHoleCount","topHolePosition","topHoleType","AccessoryToOrder","category","description","price","Array","Math","max","fill","reduce","acc","cur","discountType","discount","DeskToOrder","surchargeType","surcharge","position","bottom","left","flexGrow","marginTop","fileName","_blob","_url","_error","height","Warning","Typography","receiptLogo","note","ServiceToQuotations","DeskToQuotations","quotation","setQuotation","getQuotation","getDateNum","quotationNum","validTil","ChairToQuotation","AccessoryToQuotation","DeskToQuotation","dispatch","defaults","headers","common","type","Copyright","variant","align","Link","href","login","Promise","resolve","reject","post","Box","mx","mt","display","LogoTitile","alt","Avatar","m","bgcolor","component","onSubmit","event","preventDefault","form","currentTarget","FormData","password","err","Swal","fire","icon","html","message","replace","allowOutsideClick","noValidate","Grid","container","spacing","xs","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Button","mb","RouterLink","to","history","push","sm","FormControl","InputLabel","size","Select","labelId","defaultValue","MenuItem","justifyContent","drawerHeight","handleDrawerToggle","AppBar","maxHeight","Toolbar","IconButton","edge","onClick","mr","Menu","noWrap","useFixedSidebarStyles","makeStyles","root","boxSizing","drawerWidth","overflow","borderRadius","navlink","transition","minWidth","FixedSidebar","handleLogout","lists","classes","expList","setExpList","expIndex","setExpIndex","className","list","listIndex","List","pl","listitem","itemIndex","children","ListItem","button","secondaryAction","ExpandMore","transform","ListItemIcon","ListItemText","primary","Collapse","in","disablePadding","child","childIndex","path","exact","activeClassName","Divider","Logout","handleDrawerClose","mobileOpen","Drawer","onClose","ModalProps","keepMounted","PaperProps","e","descendingComparator","a","b","orderBy","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","columns","onSelectAllClick","numSelected","nonSelect","rowCount","onRequestSort","TableHead","TableRow","TableCell","indeterminate","checked","onChange","inputProps","property","nonSort","restProps","p","sortDirection","TableSortLabel","active","direction","IconComponent","ArrowDropDownIcon","EnhancedTableToolbar","onBulkEditClick","onBulkRemoveClick","pr","alpha","palette","main","activatedOpacity","Tooltip","Delete","useDataGridStyles","tableCellClasses","head","teal","grey","DataGrid","rows","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","rowsLength","setRowsLength","prevRows","useRef","current","join","filter","row","includes","emptyRows","Paper","TableContainer","Table","target","newSelecteds","n","TableBody","slice","isItemSelected","indexOf","role","tabIndex","bkColor","selectedIndex","newSelected","concat","handleClick","filedIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","users","setUsers","editOpen","setEditOpen","setID","formProps","setFormProps","setType","handleEditClick","handleRemoveClick","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","getUsers","isActive","stopPropagation","put","edit","onEditClick","onRemoveClick","ids","Dialog","DialogTitle","DialogContent","Stack","DialogContentText","DialogActions","useStyles","formControl","marginRight","float","indeterminateColor","selectAllText","selectedAll","MenuProps","ITEM_HEIGHT","anchorOrigin","vertical","horizontal","transformOrigin","CheckableMultiSelect","options","isAllSelected","htmlFor","multiple","renderValue","option","hideColumns","Stock","useTheme","formMode","setFormMode","stocks","setStocks","formOpen","setFormOpen","balance","setBalance","setUnitPrice","shipmentQty","setShipmentQty","features","setFeatures","filterBrand","setFilterBrand","filterModel","setFilterModel","selectedHideColumns","setSelectedHideColumns","frameColor","backColor","seatColor","backMaterial","seatMaterial","multiline","shipmentDate","arrivalDate","getStocks","handleSave","thumbnailURL","uploadData","append","url","Boolean","Number","handleCreate","startIcon","Add","accept","files","ml","flexWrap","c","chars","Autocomplete","renderInput","params","values","thumbnail","showCloseButton","showConfirmButton","column","i","hideColumn","undefined","fullScreen","useMediaQuery","breakpoints","down","restParams","InputLabelProps","shrink","defaultChecked","Remove","filterSupplier","setFilterSupplier","filterColor","setFilterColor","supplierCode","autocomParams","initStocks","setInitStocks","filterCategory","setFilterCategory","selected_category","ProductList","styled","ProductListItem","boxShadow","ProductListItemText","indigo","ProductPriceAmount","amount","whiteSpace","textOverflow","flexShrink","paddingLeft","orders","setOrders","initOrders","setInitOrders","setName","setEmail","setPhone","whatsAppOpen","setWhatsAppOpen","emailOpen","setEmailOpen","detailOpen","setDetailOpen","whatsAppMessage","emailContent","filterAnchor","setFilterAnchor","orderIndex","setOrderIndex","paymentLink","setPaymentLink","searchInvoiceNumber","setSearchInvoiceNumber","searchPhoneNumber","setSearchPhoneNumber","chairDeliveries","deskDeliveries","accessoryDeliveries","getOrders","isSentToShipment","AccessoryToOrders","shipmentId","ChairToOrders","onKeyPressed","key","searchedOrders","toLowerCase","onKeyPress","isPreOrder","seller","orderDate","createdTime","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","clientAddress","preOrder","products","my","Badge","badgeContent","Deck","receiptIcon","emailIcon","Email","whatsappIcon","ReactDOMServer","renderToStaticMarkup","qrcode","level","qrerror","WhatsApp","pathname","onFilterClick","onlyCountries","defaultCountry","InputProps","readOnly","inputRef","minRows","maxRows","link","secondary","ref","proDeliveryDate","estDeliveryDate","from","delivered","topSketchURL","chairToOrders","deskToOrders","accessoryToOrders","TabPanel","other","hidden","chairColumns","hideChairColumns","deskColumns","hideDeskColumns","accessoryColumns","materialOptions","componentType","initialClient","initialCart","initialServices","setTopHoleCount","setTopHolePosition","setTopHoleType","setTopMaterial","setTopColor","setTopLength","setTopWidth","setTopThickness","setTopRoundedCorners","setTopCornerRadius","sketchUrl","setSketchUrl","clientForm","currentStep","setCurrentStep","addOpen","setAddOpen","deskAddOpen","setDeskAddOpen","setHasDeskTop","productType","setProductType","productId","setProductId","productDetail","setProductDetail","productPrice","setProductPrice","productAmount","setProductAmount","productRemark","setProductRemark","deliveryChecked0","setDeliveryChecked0","deliveryChecked1","setDeliveryChecked1","deliveryChecked2","setDeliveryChecked2","deliveryChecked3","setDeliveryChecked3","cart","setCart","cartItemStatus","setCartItemStatus","setPaid","chairStocks","setChairStocks","deskStocks","setDeskStocks","accessoryStocks","setAccessoryStocks","initAccessoryStocks","setInitAccessoryStocks","stocksIndex","setStocksIndex","chairFeatures","setChairFeatures","deskFeatures","setDeskFeatures","setAccessoryFeatures","chairFilterBrand","setChairFilterBrand","chairFilterModel","setChairFilterModel","deskFilterSupplier","setDeskFilterSupplier","deskFilterModel","setDeskFilterModel","deskFilterColor","setDeskFilterColor","accessoryFilterCategory","setAccessoryFilterCategory","initServices","service","Object","assign","services","setServices","selectedHideChairColumns","setSelectedHideChairColumns","selectedHideDeskColumns","setSelectedHideDeskColumns","getDeskFeatures","getAccessoryFeatures","getChairStocks","getDeskStocks","getAccessoryStocks","Stepper","activeStep","step","labelProps","checkValidity","optional","Step","StepLabel","setValue","min","RadioGroup","Radio","px","deliveryOptions","productDeliveryOption","onEditCartProduct","product","productIndex","borderColor","Tabs","Tab","add","newService","uuidv4","Card","pb","serviceId","newServices","onDeleteService","Close","onChangeServiceDes","parseFloat","onChangeServicePrice","clientData","paymentData","productCategory","disabled","newCart","endAdornment","InputAdornment","visibility","newVal","suffix","visible","fieldParams","selectParams","selectOption","selectOptionIndex","Create","Detail","Edit","useLocation","client","sellerId","deskTopProps","val","quotations","setquotations","quotationIndex","setquotationIndex","getQuotations","quotationDate","toInvoice","handleToInvoiceClick","DriveFolderUpload","deliveries","setDeliveries","setIDs","getDeliveries","SalesOrder","ChairStock","reamrk","deliveryPDF","poNum","DeskStock","akNum","heworkNum","AccessoryStock","searchPONumber","setSearchPONumber","shipments","setShipments","initShipments","setInitShipments","getShipments","searchedShipments","shipment","ponumber","showItem","Visibility","View","Listing","deskHideColumns","StockTab","chairOrders","deskOrders","accessoryOrders","setChairOrders","setDeskOrders","setAccessoryOrders","getItemFromStocks","items","items_","orderId","getOrdersInTypes","getStockQtyToOrder","orderedQty","updateOrders","newItems","qtyToOrder","arrayContainStock","CreatePurchaseOrder","chairs","desks","accessories","getProductsOrdered","ShipmentView","ShipmentCreate","menuLists","Storefront","BookOnline","DeliveryDining","PeopleAlt","setMobileOpen","useRouteMatch","CollapsedSidebar","User","SalesOrderView","SalesOrderCreate","SalesOrderEdit","QuotationView","QuotationCreate","QuotationEdit","ChairDelivery","DeskDelivery","PurchaseOrder","POCreate","Shipment","rel","Component","rest","render","deliveryId","setLink","signature","window","location","createTheme","components","MuiButton","variants","defaultProps","styleOverrides","MuiTextField","MuiSelect","MuiFormControl","baseURL","interceptors","request","use","config","status","App","setLoading","ThemeProvider","CssBaseline","Container","disableGutters","modal","Invoice","Receipt","Quotation","SignIn","SignUp","Admin","Standard","DeliveryPDF","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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AI,YACJyB,GAAI,CAAE5E,MAAO,KACbwV,SAAS,GAEX,CACErS,GAAI,QACJuL,MAAO,SAET,CACEvL,GAAI,QACJuL,MAAO,SAET,CACEvL,GAAI,YACJuL,MAAO,SAET,CACEvL,GAAI,UACJuL,MAAO,WAET,CACEvL,GAAI,MACJuL,MAAO,OAET,CACEvL,GAAI,aACJuL,MAAO,eAET,CACEvL,GAAI,YACJuL,MAAO,cAET,CACEvL,GAAI,YACJuL,MAAO,cAET,CACEvL,GAAI,eACJuL,MAAO,iBAET,CACEvL,GAAI,eACJuL,MAAO,iBAET,CACEvL,GAAI,eACJuL,MAAO,YAET,CACEvL,GAAI,gBACJuL,MAAO,uBAET,CACEvL,GAAI,SACJuL,MAAO,kBAET,CACEvL,GAAI,eACJuL,MAAO,YAET,CACEvL,GAAI,cACJuL,MAAO,YAILwZ,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,iBACA,WACA,WAGIC,GAAc,CAClB,CACEhlB,GAAI,OAEN,CACEA,GAAI,YACJyB,GAAI,CAAE5E,MAAO,KACbwV,SAAS,GAEX,CACErS,GAAI,eACJuL,MAAO,YAET,CACEvL,GAAI,QACJuL,MAAO,SAET,CACEvL,GAAI,YACJuL,MAAO,SAET,CACEvL,GAAI,UACJuL,MAAO,WAET,CACEvL,GAAI,MACJuL,MAAO,OAET,CACEvL,GAAI,QACJuL,MAAO,SAET,CACEvL,GAAI,UACJuL,MAAO,YAET,CACEvL,GAAI,WACJuL,MAAO,aAET,CACEvL,GAAI,WACJuL,MAAO,aAET,CACEvL,GAAI,SACJuL,MAAO,kBAET,CACEvL,GAAI,eACJuL,MAAO,YAET,CACEvL,GAAI,cACJuL,MAAO,YAIL0Z,GAAkB,CACtB,QACA,WACA,YACA,YACA,iBACA,WACA,WAGIC,GAAmB,CACvB,CACEllB,GAAI,OAEN,CACEA,GAAI,YACJyB,GAAI,CAAE5E,MAAO,KACbwV,SAAS,GAEX,CACErS,GAAI,OACJuL,MAAO,QAET,CACEvL,GAAI,WACJuL,MAAO,YAET,CACEvL,GAAI,SACJuL,MAAO,kB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","file":"static/js/main.38cf4fd5.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const auth = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    token: null,\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.token = action.payload.token;\r\n      state.isAdmin = action.payload.isAdmin;\r\n    },\r\n    loginFail: (state) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    logout: (state) => {\r\n      state.isLoggedIn = false;\r\n      state.isAdmin = false;\r\n      state.token = null;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loginSuccess, loginFail, logout } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'loading',\r\n  initialState: {\r\n    value: false,\r\n  },\r\n  reducers: {\r\n    beginLoading: (state) => {\r\n      state.value = true;\r\n    },\r\n    endLoading: (state) => {\r\n      state.value = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport auth from './slice/auth.slice';\r\nimport counter from './slice/counter.slice';\r\nimport loading from './slice/loading.slice';\r\n\r\nconst reducer = combineReducers({\r\n  auth,\r\n  counter,\r\n  loading,\r\n});\r\n\r\nconst preloadedState = localStorage.getItem('state')\r\n  ? JSON.parse(localStorage.getItem('state'))\r\n  : {};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  preloadedState,\r\n});\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('state', JSON.stringify(store.getState()));\r\n});\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/chinese.msyh.554cdb5e.ttf\";","export default \"data:image/png;base64,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\"","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/salesOrder/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        console.log(response.data);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Invoice</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>19/F</Text>\r\n                    <Text>Bel Trade Commercial Building</Text>\r\n                    <Text>3 Burrows Street</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text>\r\n                    Blueocean International (HK) Ltd.\r\n                  </Text>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    marginTop: \"5px\",\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  The warranty is effective from the date of purchase from\r\n                  Blueocean International (HK) Ltd by the original purchaser.\r\n                  Such warranty applies under the following terms and conditions\r\n                  and is covered by the original manufacturers for specific\r\n                  period stated:\r\n                </Text>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n          fileName=\"somename.pdf\"\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Invoice</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>19/F</Text>\r\n                <Text>Bel Trade Commercial Building</Text>\r\n                <Text>3 Burrows Street</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                        item.model\r\n                      }\\n${\r\n                        item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"\r\n                      }\\n${\r\n                        item.withAdArmrest\r\n                          ? \"With Adjustable Armrest\"\r\n                          : \"Without Adjustable Armrest\"\r\n                      }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                        item.ChairToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                        order.DeskStocks.find(\r\n                          (stock) => stock.id === item.stockId\r\n                        ).model\r\n                      }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\\nRemark: ${item.AccessoryToOrder.remark}\\n${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 45,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd.\r\n              </Text>\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                marginTop: \"5px\",\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              The warranty is effective from the date of purchase from Blueocean\r\n              International (HK) Ltd by the original purchaser. Such warranty\r\n              applies under the following terms and conditions and is covered by\r\n              the original manufacturers for specific period stated:\r\n            </Text>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n              `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","export default __webpack_public_path__ + \"static/media/receipt_logo.15fa4131.png\";","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\nimport receiptLogo from \"images/receipt_logo.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  receiptLogo: {\r\n    width: 70,\r\n    marginLeft: 10,\r\n  },\r\n  note: {\r\n    flexDirection: \"row\",\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/salesOrder/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Receipt</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>19/F</Text>\r\n                    <Text>Bel Trade Commercial Building</Text>\r\n                    <Text>3 Burrows Street</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    Blueocean International (HK) Ltd. \\r\\n\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <View style={styles.note}>\r\n                  <Text\r\n                    style={{\r\n                      marginTop: \"5px\",\r\n                      fontSize: 10,\r\n                      lineHeight: 1.2,\r\n                      color: \"#888888\",\r\n                      width: \"80%\",\r\n                    }}\r\n                  >\r\n                    The warranty is effective from the date of purchase from\r\n                    Blueocean International (HK) Ltd by the original purchaser.\r\n                    Such warranty applies under the following terms and\r\n                    conditions and is covered by the original manufacturers for\r\n                    specific period stated:\r\n                  </Text>\r\n                  <Image src={receiptLogo} style={styles.receiptLogo} />\r\n                </View>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text></Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Receipt</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>19/F</Text>\r\n                <Text>Bel Trade Commercial Building</Text>\r\n                <Text>3 Burrows Street</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                        item.model\r\n                      }\\n${\r\n                        item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"\r\n                      }\\n${\r\n                        item.withAdArmrest\r\n                          ? \"With Adjustable Armrest\"\r\n                          : \"Without Adjustable Armrest\"\r\n                      }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                        item.ChairToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                        order.DeskStocks.find(\r\n                          (stock) => stock.id === item.stockId\r\n                        ).model\r\n                      }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\\nRemark: ${item.AccessoryToOrder.remark}\\n${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd. \\r\\n\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <View style={styles.note}>\r\n              <Text\r\n                style={{\r\n                  marginTop: \"5px\",\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                  width: \"80%\",\r\n                }}\r\n              >\r\n                The warranty is effective from the date of purchase from\r\n                Blueocean International (HK) Ltd by the original purchaser. Such\r\n                warranty applies under the following terms and conditions and is\r\n                covered by the original manufacturers for specific period\r\n                stated:\r\n              </Text>\r\n              <Image src={receiptLogo} style={styles.receiptLogo} />\r\n            </View>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n              `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text></Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [quotation, setQuotation] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToQuotations: [],\r\n    DeskToQuotations: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotation({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getDateNum = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${tmp.getFullYear()}${tmp.getMonth()}${tmp.getDate()}`;\r\n  };\r\n\r\n  const getQuotation = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/quotation/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setQuotation(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <View style={styles.header}>\r\n            <View>\r\n              <Text style={styles.title}>Quotation</Text>\r\n              <Text>Date: {getDateString(quotation.createdAt)}</Text>\r\n              <Text>\r\n                {`No: Q-${quotation.Seller.prefix}${getDateNum(\r\n                  quotation.createdAt\r\n                )}${(\"000\" + quotation.quotationNum).substr(-3)}`}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.logo}>\r\n              <Image src={logoTitle} />\r\n            </View>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean International (HK) Ltd.</Text>\r\n              <Text>19/F</Text>\r\n              <Text>Bel Trade Commercial Building</Text>\r\n              <Text>3 Burrows Street</Text>\r\n              <Text>Wanchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {quotation.name}</Text>\r\n              {quotation.unit ? <Text>Unit {quotation.unit}</Text> : null}\r\n              {quotation.floor ? <Text>Floor {quotation.floor}</Text> : null}\r\n              {quotation.block ? <Text>Block {quotation.block}</Text> : null}\r\n              <Text>{quotation.street}</Text>\r\n              <Text>{quotation.district}</Text>\r\n              <Text>Phone: {quotation.phone}</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>{quotation.email}</Tspan>\r\n              </Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"Salesperson\", width: \"15%\" },\r\n                  { content: \"Proposed Delivery Date\", width: \"55%\" },\r\n                  { content: \"Payment Terms\", width: \"15%\" },\r\n                  { content: \"Valid Til\", textAlign: \"right\", width: \"15%\" },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: `${quotation.Seller.firstName} ${quotation.Seller.lastName}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content:\r\n                      quotation.timeLine % 7 === 0\r\n                        ? `Est ${quotation.timeLine / 7} working week${\r\n                            quotation.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                          } after payment`\r\n                        : `Est ${quotation.timeLine} working day${\r\n                            quotation.timeLine === 1 ? \"\" : \"s\"\r\n                          } after payment`,\r\n                    width: \"55%\",\r\n                  },\r\n                  { content: quotation.paymentTerms, width: \"15%\" },\r\n                  {\r\n                    content: `${quotation.validTil} month${\r\n                      quotation.validTil === 1 ? \"\" : \"s\"\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"QTY\", width: \"15%\" },\r\n                  { content: \"Description\", width: \"55%\" },\r\n                  { content: \"Unit Price\", width: \"15%\" },\r\n                  {\r\n                    content: \"Line Total (HKD)\",\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              ...quotation.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                      item.model\r\n                    }\\n${\r\n                      item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"\r\n                    }\\n${\r\n                      item.withAdArmrest\r\n                        ? \"With Adjustable Armrest\"\r\n                        : \"Without Adjustable Armrest\"\r\n                    }\\nRemark: ${item.ChairToQuotation.remark}\\n${JSON.parse(\r\n                      item.ChairToQuotation.deliveryOption\r\n                    )}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToQuotation.unitPrice *\r\n                      item.ChairToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.DeskToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Desk Model: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                    }\r\n                    Color of Legs: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                        Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                        Table Top Color: ${item.topColor}${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          }${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                        Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice * item.qty}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.name}\\nAccessory Category: ${\r\n                      item.category\r\n                    }\\nRemark: ${\r\n                      item.AccessoryToQuotation.remark\r\n                    }\\n${JSON.parse(item.AccessoryToQuotation.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToQuotation.unitPrice *\r\n                      item.AccessoryToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.ServiceToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: \"1\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.description}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    quotation.ChairStocks.length -\r\n                    quotation.DeskStocks.length -\r\n                    quotation.AccessoryStocks.length -\r\n                    quotation.ServiceToQuotations.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"55%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SUBTOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"DISCOUNT\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SURCHARGE\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"TOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) -\r\n                      (quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100) +\r\n                      (quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: \"absolute\",\r\n                width: \"70%\",\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              Blueocean International (HK) Ltd. \\r\\n\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: \"row\", margin: \"5px 0\" }}>\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  margin: \"0 10px 0 0\",\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text></Text>\r\n              </View>\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: \"5px\",\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: \"5px 10px 0 0\",\r\n                  backgroundColor: \"#888888\",\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Agreement to this quotation represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 12,\r\n              fontWeight: \"bold\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid quotation url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import axios from 'axios';\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/user/login', data)\r\n      .then((response) => {\r\n        // handle success\r\n        const { token, type } = response.data;\r\n        const isAdmin = type === 'admin' ? true : false;\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        dispatch({ type: 'auth/loginSuccess', payload: { token, isAdmin } });\r\n        resolve();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        reject(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: 'auth/logout' });\r\n};\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport { login } from 'services/auth.service';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    props\r\n      .login({\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n      })\r\n      .then()\r\n      .catch((err) => {\r\n        form.password.value = '';\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Login Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx = {{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src = {LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx = {{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box\r\n          maxWidth = \"sm\"\r\n          width = \"100%\"\r\n          component = \"form\"\r\n          onSubmit = {handleSubmit}\r\n          noValidate\r\n          sx = {{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type = \"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx = {{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Link,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    axios\r\n      .post('user/register', {\r\n        firstName: data.get('firstName'),\r\n        lastName: data.get('lastName'),\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n        prefix: data.get('prefix'),\r\n        type: data.get('type'),\r\n      })\r\n      .then(() => {\r\n        // handle success\r\n        props.history.push('/signin');\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'SignUp Success',\r\n          html: `Your account was successfully registered.<br>You can use your account once Adminstrator allows.`,\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        // handle error\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'SignUp Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                autoComplete=\"fname\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"Last Name\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"prefix\"\r\n                label=\"Prefix\"\r\n                type=\"text\"\r\n                autoComplete=\"prefix\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                  Type\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"user-type-select-label\"\r\n                  id=\"user-type-select\"\r\n                  defaultValue=\"\"\r\n                  name=\"type\"\r\n                  label=\"Type\"\r\n                >\r\n                  <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                  <MenuItem value=\"driver\">Driver</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                {'Already have an account? Sign In'}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@mui/material';\r\nimport { Menu as MenuIcon } from '@mui/icons-material';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AppHeader = ({\r\n  component: Component,\r\n  auth,\r\n  drawerHeight,\r\n  handleDrawerToggle,\r\n  title,\r\n  ...rest\r\n}) => (\r\n  <AppBar\r\n    position=\"static\"\r\n    sx={{\r\n      backgroundColor: '#5664d2',\r\n      flexBasis: `${drawerHeight}px`,\r\n      maxHeight: `${drawerHeight}px`,\r\n    }}\r\n  >\r\n    <Toolbar variant=\"dense\">\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        sx={{ mr: 2, display: { sm: 'none' } }}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap component=\"div\">\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n);\r\n\r\nAppHeader.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  drawerHeight: PropTypes.number.isRequired,\r\n  handleDrawerToggle: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppHeader);\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n    overflow: 'auto',\r\n    '&::-webkit-scrollbar': {\r\n      width: 8,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#6b778c',\r\n      borderRadius: 4,\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({ drawerWidth, handleLogout, lists }) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Box\r\n      className = {classes.root}\r\n      sx = {{\r\n        display: { xs: 'none', sm: 'block' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                activeClassName=\"active\"\r\n                {...listitem}\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem button className={classes.navlink} onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Collapse,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({\r\n  drawerWidth,\r\n  handleLogout,\r\n  handleDrawerClose,\r\n  lists,\r\n  mobileOpen,\r\n}) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"temporary\"\r\n      open={mobileOpen}\r\n      onClose={handleDrawerClose}\r\n      ModalProps={{\r\n        keepMounted: true, // Better open performance on mobile.\r\n      }}\r\n      PaperProps={{\r\n        className: classes.root,\r\n      }}\r\n      sx={{\r\n        display: { xs: 'block', sm: 'none' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key = {`list-${listIndex}`}>\r\n          { list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null }\r\n          { list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key = { `listitem-${itemIndex}` }\r\n                  button\r\n                  className = {classes.navlink}\r\n                  onClick = { () => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key = { `listcollapse-${itemIndex}` }\r\n                  in = { expIndex === itemIndex && expList === listIndex }\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key = {`listitem-${itemIndex}`}\r\n                {...listitem}\r\n                activeClassName = \"active\"\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem\r\n          button\r\n          className = {classes.navlink}\r\n          onClick = {(e) => {\r\n            handleDrawerClose(e);\r\n            handleLogout(e);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary = \"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  handleDrawerClose: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n  mobileOpen: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { alpha } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  tableCellClasses,\r\n  TableSortLabel,\r\n} from '@mui/material';\r\nimport { yellow, grey, teal } from '@mui/material/colors';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from '@mui/icons-material';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\n// This method is created for cross-browser compatibility, if you don't\r\n// need to support IE11, you can use Array.prototype.sort() directly\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    columns,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    nonSelect,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {!nonSelect && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{\r\n                'aria-label': 'select all desserts',\r\n              }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {columns.map(({ id, label, nonSort, sx, ...restProps }) => (\r\n          <TableCell\r\n            key={id}\r\n            align=\"left\"\r\n            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n            sortDirection={orderBy === id ? order : false}\r\n            {...restProps}\r\n          >\r\n            {nonSort ? (\r\n              label\r\n            ) : (\r\n              <TableSortLabel\r\n                active={orderBy === id}\r\n                direction={orderBy === id ? order : 'asc'}\r\n                onClick={createSortHandler(id)}\r\n                IconComponent={ArrowDropDownIcon}\r\n              >\r\n                {label}\r\n              </TableSortLabel>\r\n            )}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  columns: PropTypes.arrayOf(Object).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const { title, numSelected, onBulkEditClick, onBulkRemoveClick } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      sx={{\r\n        pl: { sm: 2 },\r\n        pr: { xs: 1, sm: 1 },\r\n        ...(numSelected > 0 && {\r\n          bgcolor: (theme) =>\r\n            alpha(\r\n              theme.palette.primary.main,\r\n              theme.palette.action.activatedOpacity\r\n            ),\r\n        }),\r\n      }}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          {title}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 && (\r\n        <>\r\n          {onBulkEditClick && (\r\n            <Tooltip title=\"Edit\">\r\n              <IconButton onClick={onBulkEditClick}>\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n          {onBulkRemoveClick && (\r\n            <Tooltip title=\"Delete\">\r\n              <IconButton onClick={onBulkRemoveClick}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  title: PropTypes.string,\r\n  numSelected: PropTypes.number,\r\n  onBulkEditClick: PropTypes.func,\r\n  onBulkRemoveClick: PropTypes.func,\r\n};\r\n\r\nconst useDataGridStyles = makeStyles((theme) => ({\r\n  table: {\r\n    [`& .MuiTableCell-root.${tableCellClasses.head}`]: {\r\n      backgroundColor: teal[400],\r\n      '&, & *': { color: teal[50] },\r\n      fontSize: 16,\r\n      fontWeight: 600,\r\n    },\r\n    [`& .MuiTableCell-root.${tableCellClasses.body}`]: {\r\n      fontSize: 14,\r\n    },\r\n    '& .MuiTableRow-root': {\r\n      height: 40,\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: grey[50],\r\n      },\r\n      '&:last-child td, &:last-child th': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst DataGrid = (props) => {\r\n  const {\r\n    title,\r\n    columns,\r\n    nonSelect,\r\n    onBulkEditClick,\r\n    onBulkRemoveClick,\r\n    rows,\r\n  } = props;\r\n\r\n  const classes = useDataGridStyles();\r\n\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('index');\r\n  const [selected, setSelected] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [rowsLength, setRowsLength] = useState(rows.length)\r\n\r\n  const prevRows = useRef();\r\n\r\n  useEffect(() => {\r\n    if (prevRows.current !== rows.map((tmp) => tmp.id).join(',')) {\r\n      prevRows.current = rows.map((tmp) => tmp.id).join(',');\r\n      setSelected(\r\n        selected.filter((item) => rows.map((row) => row.id).includes(item))\r\n      );\r\n    }\r\n\r\n    if (rows.length !== rowsLength) {\r\n      setPage(0);\r\n      setRowsLength(rows.length)\r\n    }\r\n  }, [rows, selected]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  // Avoid a layout jump when reaching the last page with empty rows.\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mt: 2 }}>\r\n        <EnhancedTableToolbar\r\n          title={title}\r\n          numSelected={selected.length}\r\n          onBulkEditClick={\r\n            onBulkEditClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkEditClick(selected);\r\n              }\r\n              : null\r\n          }\r\n          onBulkRemoveClick={\r\n            onBulkRemoveClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkRemoveClick(selected);\r\n              }\r\n              : null\r\n          }\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            sx={{ minWidth: 750 }}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              columns={columns}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              nonSelect={nonSelect}\r\n              rowCount={rows.length}\r\n            />\r\n            <TableBody>\r\n              {/* if you don't need to support IE11, you can replace the `stableSort` call with:\r\n                 rows.slice().sort(getComparator(order, orderBy)) */}\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={index}\r\n                      selected={isItemSelected}\r\n                      style={row.bkColor === 1 ? { backgroundColor: \"#cccccc\"} : {}}\r\n                    >\r\n                      {!nonSelect && (\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            onClick={(event) => handleClick(event, row.id)}\r\n                            color=\"primary\"\r\n                            checked={isItemSelected}\r\n                            inputProps={{\r\n                              'aria-labelledby': labelId,\r\n                            }}\r\n                          />\r\n                        </TableCell>\r\n                      )}\r\n\r\n                      {columns.map(\r\n                        (\r\n                          { id, label, nonSort, sx, ...restProps },\r\n                          filedIndex\r\n                        ) => (\r\n                          <TableCell\r\n                            key={filedIndex}\r\n                            component=\"th\"\r\n                            id={filedIndex === 0 ? labelId : ''}\r\n                            scope=\"row\"\r\n                            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n                            {...restProps}\r\n                          >\r\n                            {id === 'index' ? row[id] + 1 : row[id]}\r\n                          </TableCell>\r\n                        )\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow\r\n                  style={{\r\n                    height: 33 * emptyRows,\r\n                  }}\r\n                >\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nDataGrid.propTypes = {\r\n  title: PropTypes.string,\r\n  nonSelect: PropTypes.bool,\r\n  columns: PropTypes.array.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  onBulkRemoveClick: PropTypes.func,\r\n  onBulkEditClick: PropTypes.func,\r\n};\r\n\r\nexport default DataGrid;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FormControl,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'email',\r\n    label: 'Email',\r\n  },\r\n  {\r\n    id: 'firstName',\r\n    label: 'First Name',\r\n  },\r\n  {\r\n    id: 'lastName',\r\n    label: 'Last Name',\r\n  },\r\n  {\r\n    id: 'type',\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'prefix',\r\n    label: 'Prefix',\r\n  },\r\n  {\r\n    id: 'isActive',\r\n    label: 'Active',\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'edit',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const [id, setID] = useState('');\r\n  const [formProps, setFormProps] = useState([]);\r\n  const [type, setType] = useState('');\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      setID(users[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'email',\r\n          defaultValue: users[index].email,\r\n          label: 'Email',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'firstName',\r\n          defaultValue: users[index].firstName,\r\n          label: 'First Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'lastName',\r\n          defaultValue: users[index].lastName,\r\n          label: 'Last Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'prefix',\r\n          defaultValue: users[index].prefix,\r\n          label: 'Prefix',\r\n          width: '100%',\r\n        },\r\n      ]);\r\n      setType(users[index].type);\r\n    }\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current account permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep this account.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/user/${users[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getUsers();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairColors permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/user', { data: { ids: selected } })\r\n          .then((response) => {\r\n            // handle success\r\n            getUsers();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    new axios.put(`/user/${id}`, {\r\n      email: data.get('email'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n      type: type,\r\n      prefix: data.get('prefix'),\r\n    })\r\n      .then((response) => {\r\n        // handle success\r\n        setEditOpen(false);\r\n        getUsers();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEditOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEditOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getUsers = (cancelToken) => {\r\n    axios\r\n      .get('/user', { cancelToken: cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setUsers(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let source = axios.CancelToken.source();\r\n    getUsers(source.token);\r\n    return () => source.cancel('Users Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <DataGrid\r\n        title=\"Users\"\r\n        rows={users.map(({ isActive, ...restProps }, index) => ({\r\n          index,\r\n          isActive: (\r\n            <Checkbox\r\n              checked={isActive}\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                axios\r\n                  .put(`/user/${restProps.id}`, {\r\n                    isActive: !isActive,\r\n                  })\r\n                  .then(() => {\r\n                    getUsers();\r\n                  })\r\n                  .catch(function (error) {\r\n                    // handle error\r\n                    Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Error',\r\n                      text: error.response.data.message,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  })\r\n                  .then(function () {\r\n                    // always executed\r\n                  });\r\n              }}\r\n            />\r\n          ),\r\n          edit: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleEditClick(index);\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          ),\r\n          delete: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleRemoveClick(index);\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          ),\r\n          ...restProps,\r\n        }))}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        open={editOpen}\r\n        PaperProps={{ component: 'form', onSubmit: handleSave }}\r\n      >\r\n        <DialogTitle>Edit User</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <DialogContentText>\r\n              Please Edit the User information and Click Save button.\r\n            </DialogContentText>\r\n            {formProps.map(({ width, ...restProps }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            ))}\r\n            <FormControl>\r\n              <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                Type\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"user-type-select-label\"\r\n                id=\"user-type-select\"\r\n                value={type}\r\n                label=\"Type\"\r\n                onChange={(event) => {\r\n                  event.preventDefault();\r\n                  setType(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"admin\">Admin</MenuItem>\r\n                <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                <MenuItem value=\"driver\">Driver</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop: 30,\r\n      marginRight: 20,\r\n      width: '40%',\r\n      float: \"right\"\r\n    },\r\n    indeterminateColor: {\r\n      color: \"#f50057\"\r\n    },\r\n    selectAllText: {\r\n      fontWeight: 500\r\n    },\r\n    selectedAll: {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.08)\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.08)\"\r\n      }\r\n    }\r\n  }));\r\n  \r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 1;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250\r\n      }\r\n    },\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\"\r\n    },\r\n    transformOrigin: {\r\n      vertical: \"top\",\r\n      horizontal: \"center\"\r\n    },\r\n    variant: \"menu\"\r\n};\r\n\r\nfunction CheckableMultiSelect(props) {\r\n    const { options, onChange, selected } = props\r\n    const classes = useStyles();\r\n    // const [selected, setSelected] = useState([]);\r\n    const isAllSelected =\r\n        options.length > 0 && selected.length === options.length;\r\n\r\n    const handleChange = (event) => {\r\n        const value = event.target.value;\r\n        if (value[value.length - 1] === \"all\") {\r\n            onChange(selected.length === options.length ? [] : options);\r\n        return;\r\n        }\r\n        onChange(value);\r\n    };\r\n\r\n    return (\r\n        <FormControl className={classes.formControl} variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"mutiple-select-label\">Select columns</InputLabel>\r\n            <Select\r\n                multiple\r\n                value={selected}\r\n                onChange={handleChange}\r\n                renderValue={(selected) => selected.join(\", \")}\r\n                MenuProps={MenuProps}\r\n                label=\"Select columns\"\r\n                size=\"normal\"\r\n            >\r\n                <MenuItem\r\n                value=\"all\"\r\n                classes={{\r\n                    root: isAllSelected ? classes.selectedAll : \"\"\r\n                }}\r\n                >\r\n                <ListItemIcon>\r\n                    <Checkbox\r\n                    classes={{ indeterminate: classes.indeterminateColor }}\r\n                    checked={isAllSelected}\r\n                    indeterminate={\r\n                        selected.length > 0 && selected.length < options.length\r\n                    }\r\n                    />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    classes={{ primary: classes.selectAllText }}\r\n                    primary=\"Select All\"\r\n                />\r\n                </MenuItem>\r\n                {options.map((option) => (\r\n                <MenuItem key={option} value={option}>\r\n                    <ListItemIcon>\r\n                    <Checkbox checked={selected.indexOf(option) > -1} />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={option} />\r\n                </MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nexport default CheckableMultiSelect;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"brand\",\r\n          label: \"Brand\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].brand,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"model\",\r\n          label: \"Model\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].model,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"frameColor\",\r\n          label: \"Frame Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].frameColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backColor\",\r\n          label: \"Back Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"seatColor\",\r\n          label: \"Seat Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backMaterial\",\r\n          label: \"Back Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"seatMaterial\",\r\n          label: \"Seat Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"withHeadrest\",\r\n          label: \"Headrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"withAdArmrest\",\r\n          label: \"Adjustable Armrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current ChairStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected ChairStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/chairStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        console.log(response.data);\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"brand\",\r\n              label: \"Brand\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"model\",\r\n              label: \"Model\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"frameColor\",\r\n              label: \"Frame Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backColor\",\r\n              label: \"Back Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"seatColor\",\r\n              label: \"Seat Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backMaterial\",\r\n              label: \"Back Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"seatMaterial\",\r\n              label: \"Seat Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"withHeadrest\",\r\n              label: \"Headrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"withAdArmrest\",\r\n              label: \"Adjustable Armrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", e.target.files[0]);\r\n                const response = await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: \"Brand\",\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: \"Model\",\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect\r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns}\r\n      />\r\n      <DataGrid\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: \"5px\" }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n              withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || \"No\",\r\n              arrivalDate: arrivalDate || \"No\",\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 5 && i < 16) {\r\n              if (\r\n                selectedHideColumns.find(\r\n                  (hideColumn) => hideColumn === column.label\r\n                )\r\n              )\r\n                return column;\r\n            } else {\r\n              return column;\r\n            }\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Supplier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Supplier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: 'none' }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append('file', e.target.files[0]);\r\n                const response = await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"name\",\r\n          label: \"Name\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].name,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"category\",\r\n          label: \"Category\",\r\n          type: \"select\",\r\n          defaultValue: stocks[index].category,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current AccessoryStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected AccessoryStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/accessoryStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"category\",\r\n              label: \"Category\",\r\n              type: \"select\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            shipmentDate: shipmentDate || \"No\",\r\n            arrivalDate: arrivalDate || \"No\",\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id=\"category_select\">Category</InputLabel>\r\n                    <Select labelId=\"category_select\" {...restParams}>\r\n                      <MenuItem value=\"Desk Accessories\">\r\n                        Desk Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Chair Accessories\">\r\n                        Chair Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                      <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                      <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                      <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport { blue, pink, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"invoiceNum\",\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"orderDate\",\r\n    label: \"Order\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"isPreOrder\",\r\n    label: \"PreOrder\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"receiptIcon\",\r\n    nonSort: true,\r\n    label: \"Receipt\",\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  // {\r\n  //   id: \"shipment\",\r\n  //   label: \"Shipment\",\r\n  //   nonSort: true,\r\n  //   align: \"center\",\r\n  //   sx: { maxWidth: 100, width: 100 },\r\n  // },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Con\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"tact\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"PreOrder\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Receipt\",\r\n  // \"Shipment\"\r\n  \"Con\",\r\n  \"tact\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Order permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Orders permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/salesOrder\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get(\"/salesOrder\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        let orders = [];\r\n        response.data.map(item => {\r\n          let order = item;\r\n          order.isSentToShipment = false;\r\n          if (order.AccessoryToOrders.length !== 0 && order.AccessoryToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.ChairToOrders.length !== 0 && order.ChairToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.DeskToOrders.length !== 0 && order.DeskToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n\r\n          orders.push(order);\r\n        });\r\n        setOrders(orders);\r\n        setInitOrders(orders);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  const createSingleOrder = (id) => {\r\n    let order = orders.filter(item => item.id === id);\r\n    order = orders.length > 0 ? orders[0] : null;\r\n    console.log(order);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <div>\r\n        <CheckableMultiSelect\r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns}\r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              isSentToShipment,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n                (!orders[index].DeskStocks.length ||\r\n                  !orders[index].DeskStocks.reduce(\r\n                    (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                  ))\r\n                ? \"No\"\r\n                : \"Yes\",\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink to={`/invoice/${id}`} target=\"_blank\">\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            // shipment: (\r\n            //   <Button color=\"primary\" disabled={isSentToShipment} onClick={() => createSingleOrder(id)}>Single</Button>\r\n            // ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/order/edit\",\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (\r\n                selectedHideColumns.find(\r\n                  (hideColumn) => hideColumn === column.label\r\n                )\r\n              )\r\n                return column;\r\n            } else {\r\n              return column;\r\n            }\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input name=\"id\" type=\"hidden\" value={item.id} />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post(\"/salesOrder/products\", {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n      Object.assign(service, { productType: \"misc\" })\r\n    )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductId(item.id);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                          }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                  chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductId(\"\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/order\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/order\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType !== \"desk\" ||\r\n                  item.id !== productId\r\n                )\r\n                  return item;\r\n\r\n                return {\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                };\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                      \"Left\",\r\n                      \"Right\",\r\n                      \"Center\",\r\n                      \"Left_Right\",\r\n                      \"Left_Right_Center\",\r\n                    ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: true, //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Remark\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box >\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToOrders,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id == stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption,\r\n          }))\r\n        )}\r\n        initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { blue, pink, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"quotationNum\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"quotationDate\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Con\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"tact\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Con\",\r\n  \"tact\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Quotation permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Quotations permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/quotation\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            ).concat(\r\n              quotation.ServiceToQuotations.map(\r\n                ({ description, id, price }) => ({\r\n                  productType: \"misc\",\r\n                  id: id,\r\n                  price: price,\r\n                  description: description\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/salesOrder/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail?.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/admin/order\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => { });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get(\"/quotation\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect\r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns}\r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink to={`/quotation/${id}`} target=\"_blank\">\r\n                {quotationNum}\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/quotation/edit\",\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (\r\n                selectedHideColumns.find(\r\n                  (hideColumn) => hideColumn === column.label\r\n                )\r\n              )\r\n                return column;\r\n            } else {\r\n              return column;\r\n            }\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  console.log(\"cart----\", cart);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: true, //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Remark\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id == stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'brand', label: 'Brand' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'frameColor', label: 'FColor' },\r\n  { id: 'backColor', label: 'BColor' },\r\n  { id: 'seatColor', label: 'SColor' },\r\n  { id: 'withHeadrest', label: 'Headrest' },\r\n  { id: 'withAdArmrest', label: 'Armrest' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/chair`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allChair', props)\r\n      .then((response) => {\r\n        // handle \r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Chair Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, ChairStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            brand: ChairStock === null ? '' : ChairStock.brand,\r\n            model: ChairStock === null ? '' : ChairStock.model,\r\n            frameColor: ChairStock === null ? '' : ChairStock.frameColor,\r\n            backColor: ChairStock === null ? '' : ChairStock.backColor,\r\n            seatColor: ChairStock === null ? '' : ChairStock.seatColor,\r\n            withHeadrest: ChairStock === null ? 'No' : ChairStock.withHeadrest ? 'Yes' : 'No',\r\n            withAdArmrest: ChairStock === null ? 'No' : ChairStock.withAdArmrest ? 'Yes' : 'No',\r\n            remark: ChairStock === null ? '' : ChairStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/chair/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'akNum', label: 'AK #', sx: { minWidth: 100 } },\r\n  { id: 'heworkNum', label: 'Hework #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'color', label: 'Color' },\r\n  { id: 'armSize', label: 'Arm Size' },\r\n  { id: 'feetSize', label: 'Feet Size' },\r\n  { id: 'beamSize', label: 'Beam Size' },\r\n  { id: 'deskTop', label: 'Table Top' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'akNum',\r\n          label: 'AK #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].akNum,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'heworkNum',\r\n          label: 'Hework #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].heworkNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'akNum',\r\n        label: 'AK #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n      {\r\n        name: 'heworkNum',\r\n        label: 'Hework #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/desk`, {\r\n        ids,\r\n        akNum: data.get('akNum'),\r\n        heworkNum: data.get('heworkNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allDesk', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Desk Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, DeskStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            model: DeskStock === null ? \"\" : DeskStock.model,\r\n            color: DeskStock === null ? \"\" : DeskStock.color,\r\n            color: DeskStock === null ? \"\" : DeskStock.color,\r\n            armSize: DeskStock === null ? \"\" : DeskStock.armSize,\r\n            feetSize: DeskStock === null ? \"\" : DeskStock.feetSize,\r\n            beamSize: DeskStock === null ? \"\" : DeskStock.beamSize,\r\n            deskTop: `${\r\n              restProps.hasDeskTop\r\n                ? `${restProps.topMaterial}, ${restProps.topColor}, ${restProps.topLength}x${restProps.topWidth}x${restProps.topThickness}, ${restProps.topRoundedCorners}-R${restProps.topCornerRadius}, ${restProps.topHoleCount}-${restProps.topHoleType}`\r\n                : 'Without DeskTop'\r\n            }`,\r\n            remark: DeskStock === null ? \"\" : DeskStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/desk/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit AK and Hework #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'category', label: 'Category' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/accessory`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allAccessory', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Accessory Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, AccessoryStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            category: AccessoryStock === null ? \"\" : AccessoryStock.category,\r\n            remark: AccessoryStock === null ? \"\" : AccessoryStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/accessory/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    TextField,\r\n    Paper,\r\n    IconButton\r\n} from \"@mui/material\";\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport {\r\n    Add as AddIcon,\r\n    Delete as DeleteIcon,\r\n    Edit as EditIcon,\r\n    Visibility as VisibilityIcon,\r\n} from \"@mui/icons-material\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nconst columns = [\r\n    {\r\n        id: \"ponumber\",\r\n        label: \"Po Number\",\r\n        sx: { paddingLeft: 10 },\r\n    },\r\n    {\r\n        id: \"orderDate\",\r\n        label: \"Order Date\",\r\n    },\r\n    {\r\n        id: \"arrivalDate\",\r\n        label: \"Arrival Date\",\r\n    },\r\n    // {\r\n    //     id: \"showItem\",\r\n    //     nonSort: true,\r\n    //     label: \"Show\",\r\n    //     sx: { maxWidth: 100, width: 100, paddingLeft: 0 },\r\n    // },\r\n    // {\r\n    //     id: \"edit\",\r\n    //     nonSort: true,\r\n    //     label: \"Edit\",\r\n    //     sx: { maxWidth: 100, width: 100 },\r\n    // },\r\n    // {\r\n    //     nonSort: true,\r\n    //     id: \"delete\",\r\n    //     label: \"Delete\",\r\n    //     sx: { maxWidth: 100, width: 100 },\r\n    // },\r\n];\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    const { auth } = state;\r\n    return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n    const { type } = props;\r\n    const [searchPONumber, setSearchPONumber] = useState(\"\");\r\n    const [shipments, setShipments] = useState([]);\r\n    const [initShipments, setInitShipments] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // const source = axios.CancelToken.source();\r\n        // getShipments(source.token);\r\n        getShipments(\"\");\r\n        // return () => source.cancel(\"Brand Component got unmounted\");\r\n    }, []);\r\n\r\n    const getShipments = (cancelToken) => {\r\n        axios\r\n            .get(\"/shipment\", { cancelToken })\r\n            .then((response) => {\r\n                // handle success\r\n                console.log(response.data);\r\n                setShipments(response.data);\r\n                setInitShipments(response.data);\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            })\r\n            .then(function () {\r\n                // always executed\r\n            });\r\n    };\r\n\r\n    const handleRemoveClick = (index) => {\r\n        if (index < shipments.length && index >= 0) {\r\n            Swal.fire({\r\n                title: \"Are you sure?\",\r\n                text: \"This action will remove current Shipment permanently.\",\r\n                icon: \"question\",\r\n                showCancelButton: true,\r\n                confirmButtonText: \"Yes, Remove!\",\r\n                cancelButtonText: \"No, Keep It.\",\r\n                allowOutsideClick: false,\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    axios\r\n                        .delete(`/shipment/${shipments[index].id}`)\r\n                        .then((response) => {\r\n                            // handle success\r\n                            getShipments();\r\n                        })\r\n                        .catch(function (error) {\r\n                            // handle error\r\n                            Swal.fire({\r\n                                icon: \"error\",\r\n                                title: \"Error\",\r\n                                text: error.response.data.message,\r\n                                allowOutsideClick: false,\r\n                            });\r\n                            console.log(error);\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const onKeyPressed = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            const searchedShipments = initShipments.filter((shipment) =>\r\n                shipment.ponumber.toLowerCase().includes(searchPONumber.toLowerCase())\r\n            );\r\n            // .filter((order) => order.phone.includes(searchPhoneNumber));\r\n            setShipments(searchedShipments);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                height: \"100%\",\r\n                overflow: \"auto\",\r\n                padding: \"10px 20px\",\r\n            }}\r\n        >\r\n            <Button\r\n                component={RouterLink}\r\n                to={`/admin/po/${type}/create`}\r\n                startIcon={<AddIcon />}\r\n            >\r\n                New Purchasing Order\r\n            </Button>\r\n            <Paper\r\n                sx={{\r\n                    marginTop: \"10px\",\r\n                    padding: \"5px 10px\",\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"space-around\",\r\n                }}\r\n            >\r\n                <TextField\r\n                    label=\"PO Number\"\r\n                    variant=\"outlined\"\r\n                    onKeyPress={onKeyPressed}\r\n                    value={searchPONumber}\r\n                    onChange={(e) => setSearchPONumber(e.target.value)}\r\n                />\r\n            </Paper>\r\n            <DataGrid\r\n                title=\"Shipments\"\r\n                rows={shipments.map(({ id, arrivalDate, ...restProps }, index) => ({\r\n                    id,\r\n                    index,\r\n                    showItem: (\r\n                        <IconButton\r\n                            onClick={(event) => {\r\n                                event.preventDefault();\r\n                                // setShipmentIndex(index);\r\n                            }}\r\n                        >\r\n                            <VisibilityIcon />\r\n                        </IconButton>\r\n                    ),\r\n                    edit:\r\n                        arrivalDate.split(\"-\")[0] === \"0000\" ? (\r\n                            <IconButton\r\n                                onClick={(event) => {\r\n                                    event.preventDefault();\r\n                                }}\r\n                            >\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        ) : (\r\n                            \"\"\r\n                        ),\r\n                    delete:\r\n                        arrivalDate.split(\"-\")[0] === \"0000\" ? (\r\n                            <IconButton\r\n                                onClick={(event) => {\r\n                                    event.preventDefault();\r\n                                    handleRemoveClick(index);\r\n                                }}\r\n                            >\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                        ) : (\r\n                            \"\"\r\n                        ),\r\n                    arrivalDate: arrivalDate.split(\"-\")[0] === \"0000\" ? \"\" : arrivalDate,\r\n                    ...restProps,\r\n                }))}\r\n                columns={columns}\r\n                onRemoveClick={handleRemoveClick}\r\n            />\r\n        </Box>\r\n    );\r\n});","import React from 'react';\r\nimport Listing from '../Listing';\r\n\r\nconst View = () => {\r\n    return (\r\n        <div>\r\n            <Listing type={\"purchase order\"} />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default View;\r\n","export const columns = [\r\n    // {\r\n    //     id: \"add\",\r\n    // },\r\n    {\r\n        id: \"thumbnail\",\r\n        sx: { width: 100 },\r\n        nonSort: true,\r\n    },\r\n    {\r\n        id: \"brand\",\r\n        label: \"Brand\",\r\n    },\r\n    {\r\n        id: \"model\",\r\n        label: \"Model\",\r\n    },\r\n    {\r\n        id: \"unitPrice\",\r\n        label: \"Price\",\r\n    },\r\n    {\r\n        id: \"balance\",\r\n        label: \"Balance\",\r\n    },\r\n    {\r\n        id: \"qtyToOrder\",\r\n        label: \"QTYToOrder\",\r\n    },\r\n];\r\n\r\nexport const deskHideColumns = [\r\n    \"Material\",\r\n    \"Color\",\r\n    \"Length\",\r\n    \"Width\",\r\n    \"Thickness\",\r\n    \"RoundedCorners\",\r\n    \"CornerRadius\",\r\n    \"HoleCount\",\r\n    \"HoleType\",\r\n    \"HolePosition\",\r\n    \"SketchURL\",\r\n];\r\n\r\n\r\nexport const deskColumns = [\r\n    // {\r\n    //     id: \"add\",\r\n    // },\r\n    {\r\n        id: \"thumbnail\",\r\n        sx: { width: 100 },\r\n        nonSort: true,\r\n    },\r\n    {\r\n        id: \"supplierCode\",\r\n        label: \"Supplier\",\r\n    },\r\n    {\r\n        id: \"model\",\r\n        label: \"Model\",\r\n    },\r\n    {\r\n        id: \"unitPrice\",\r\n        label: \"Price\",\r\n    },\r\n    {\r\n        id: \"balance\",\r\n        label: \"Balance\",\r\n    },\r\n    {\r\n        id: \"qtyToOrder\",\r\n        label: \"QTYToOrder\"\r\n    },\r\n    {\r\n        id: \"topMaterial\",\r\n        label: \"Material\",\r\n    },\r\n    {\r\n        id: \"topColor\",\r\n        label: \"Color\",\r\n    },\r\n    {\r\n        id: \"topLength\",\r\n        label: \"Length\",\r\n    },\r\n    {\r\n        id: \"topWidth\",\r\n        label: \"Width\",\r\n    },\r\n    {\r\n        id: \"topThickness\",\r\n        label: \"Thickness\",\r\n    },\r\n    {\r\n        id: \"topRoundedCorners\",\r\n        label: \"RoundedCorners\",\r\n    },\r\n    {\r\n        id: \"topCornerRadius\",\r\n        label: \"CornerRadius\",\r\n    },\r\n    {\r\n        id: \"topHoleCount\",\r\n        label: \"HoleCount\",\r\n    },\r\n    {\r\n        id: \"topHoleType\",\r\n        label: \"HoleType\",\r\n    },\r\n    {\r\n        id: \"topHolePosition\",\r\n        label: \"HolePosition\",\r\n    },\r\n    {\r\n        id: \"topSketchURL\",\r\n        label: \"SketchURL\",\r\n    },\r\n];\r\n\r\nexport const accessoryColumns = [\r\n    // {\r\n    //     id: \"add\",\r\n    // },\r\n    {\r\n        id: \"thumbnail\",\r\n        sx: { width: 100 },\r\n        nonSort: true,\r\n    },\r\n    {\r\n        id: \"name\",\r\n        label: \"Name\",\r\n    },\r\n    {\r\n        id: \"category\",\r\n        label: \"Category\",\r\n    },\r\n    {\r\n        id: \"unitPrice\",\r\n        label: \"Price\",\r\n    },\r\n    {\r\n        id: \"balance\",\r\n        label: \"Balance\",\r\n    },\r\n    {\r\n        id: \"qtyToOrder\",\r\n        label: \"QTYToOrder\",\r\n    },\r\n];\r\n\r\nconst hideColumns = [\r\n    \"Frame Color\",\r\n    \"Back Color\",\r\n    \"Seat Color\",\r\n    \"Back Material\",\r\n    \"Seat Material\",\r\n    \"Headrest\",\r\n    \"Adjustable Armrests\",\r\n    \"Special Remark\",\r\n    \"Shipment\",\r\n    \"Arrival\",\r\n];","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n    Box,\r\n    Paper,\r\n    Autocomplete,\r\n    IconButton,\r\n    TextField\r\n} from \"@mui/material\";\r\nimport {\r\n    Add as AddIcon,\r\n    Close as CloseIcon,\r\n    SignalCellularNull,\r\n} from \"@mui/icons-material\";\r\nimport DataGrid from \"../../../Common/DataGrid\";\r\nimport CheckableMultiSelect from \"../../../Common/MultiSelect\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { columns, deskColumns, accessoryColumns, deskHideColumns } from \"./columns.js\";\r\n\r\nconst TabPanel = (props) => {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n        </div>\r\n    );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.number.isRequired,\r\n    value: PropTypes.number.isRequired,\r\n};\r\n\r\nexport const StockTab = ({\r\n    title, stocks, stocksIndex,\r\n    index,\r\n    chairOrders,\r\n    deskOrders,\r\n    accessoryOrders,\r\n    setChairOrders,\r\n    setDeskOrders,\r\n    setAccessoryOrders\r\n}) => {\r\n\r\n    const [features, setFeatures] = useState([]);\r\n    const [filterBrand, setFilterBrand] = useState(null);\r\n    const [filterModel, setFilterModel] = useState(null);\r\n    const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n    const arrayContainStock = (items, stockId) => {\r\n        return items.filter((item) => item.stockId === stockId).length !== 0;\r\n    }\r\n\r\n    const getItemFromStocks = (items, stockId) => {\r\n        let items_ = [];\r\n        if (index !== 1)\r\n            items_ = items.filter((item) => item.stockId === stockId);\r\n        else {\r\n            items_ = items.filter((item) => item.orderId === stockId);\r\n        }\r\n\r\n        if (items_.length === 0)\r\n            return null;\r\n\r\n        return items_[0];\r\n    }\r\n\r\n    const getOrdersInTypes = () => {\r\n        return index === 0 ? chairOrders : index === 1 ? deskOrders : accessoryOrders;\r\n    }\r\n\r\n    const getSetOrdersInTypes = () => {\r\n        return index === 0 ? setChairOrders : index === 1 ? setDeskOrders : setAccessoryOrders;\r\n    }\r\n\r\n    const orderContainStock = (stockId) => {\r\n        if (arrayContainStock(getOrdersInTypes(), stockId))\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    const getStockQtyToOrder = (stockId) => {\r\n        let item = getItemFromStocks(getOrdersInTypes(), stockId);\r\n        if (item === null)\r\n            return 0;\r\n        return item.orderedQty;\r\n    }\r\n\r\n    const updateOrders = (stockId, qty) => {\r\n        let item = getItemFromStocks(getOrdersInTypes(), stockId);\r\n        let newItems = [];\r\n\r\n        if (item == null && qty === 0) {\r\n            return;\r\n        } else if (item == null) {\r\n            newItems = [...getOrdersInTypes(), { stockId: stockId, orderedQty: qty }]\r\n        } else {\r\n            newItems = getOrdersInTypes().map(item => {\r\n                if (item.stockId !== stockId)\r\n                    return item;\r\n                return { ...item, orderedQty: qty };\r\n            });\r\n        }\r\n\r\n        getSetOrdersInTypes()(newItems);\r\n    }\r\n\r\n    return (\r\n        <TabPanel value={stocksIndex} index={index}>\r\n            <Paper\r\n                sx={{\r\n                    marginTop: \"10px\",\r\n                    padding: \"5px 10px\",\r\n                    // display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"space-around\",\r\n                    display: \"none\"\r\n                }}\r\n            >\r\n                {[\r\n                    {\r\n                        label: \"Brand\",\r\n                        value: filterBrand,\r\n                        onChange: (event, value) => {\r\n                            event.preventDefault();\r\n                            setFilterBrand(value);\r\n                            setFilterModel(null);\r\n                        },\r\n                        options: features\r\n                            .map((item) => item.brand)\r\n                            .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                    },\r\n                    {\r\n                        label: \"Model\",\r\n                        value: filterModel,\r\n                        onChange: (event, value) => {\r\n                            event.preventDefault();\r\n                            setFilterModel(value);\r\n                        },\r\n                        options: features\r\n                            .filter(\r\n                                (item) =>\r\n                                    !filterBrand || item.brand === filterBrand\r\n                            )\r\n                            .map((item) => item.model)\r\n                            .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                    },\r\n                ].map(({ label, ...props }, index) => (\r\n                    <Autocomplete\r\n                        key={index}\r\n                        sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                        renderInput={(params) => (\r\n                            <TextField {...params} label={label} />\r\n                        )}\r\n                        {...props}\r\n                    />\r\n                ))}\r\n            </Paper>\r\n            <CheckableMultiSelect\r\n                options={deskHideColumns}\r\n                onChange={setSelectedHideColumns}\r\n                selected={selectedHideColumns}\r\n            />\r\n            <DataGrid\r\n                nonSelect={true}\r\n                title={title}\r\n                rows={stocks\r\n                    .map(\r\n                        (\r\n                            {\r\n                                id,\r\n                                orderId,\r\n                                thumbnailURL,\r\n                                withHeadrest,\r\n                                withAdArmrest,\r\n                                qtyToOrder,\r\n                                ...restProps\r\n                            }\r\n                        ) => ({\r\n                            thumbnail: (\r\n                                <a\r\n                                    href=\"/\"\r\n                                    onClick={(e) => {\r\n                                        e.preventDefault();\r\n                                        Swal.fire({\r\n                                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                                            showCloseButton: true,\r\n                                            showConfirmButton: false,\r\n                                            allowOutsideClick: false,\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        alt=\"\"\r\n                                        width=\"80px\"\r\n                                        src={thumbnailURL}\r\n                                        style={{ marginTop: \"5px\" }}\r\n                                    />\r\n                                </a>\r\n                            ),\r\n                            bkColor: orderContainStock(id) ? 1 : 0,\r\n                            withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                            withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                            ...restProps,\r\n                            qtyToOrder: (\r\n                                <TextField\r\n                                    label={\"QtyToOrder\"}\r\n                                    value={index === 1 ? getStockQtyToOrder(orderId) : getStockQtyToOrder(id)}\r\n                                    onChange={(e) => updateOrders(id, e.target.value)}\r\n                                />\r\n                            )\r\n                        })\r\n                    )\r\n                    .filter(\r\n                        (item) =>\r\n                            (!filterBrand || item.brand === filterBrand) &&\r\n                            (!filterModel || item.model === filterModel)\r\n                    )}\r\n                columns={(index === 0 ? columns : index === 1 ? deskColumns : accessoryColumns)\r\n                    .map((column, i) => {\r\n                        if (i > 5) {\r\n                            if (\r\n                                selectedHideColumns.find(\r\n                                    (hideColumn) => hideColumn === column.label\r\n                                )\r\n                            )\r\n                                return column;\r\n                        } else {\r\n                            return column;\r\n                        }\r\n                    })\r\n                    .filter((column) => column !== undefined)}\r\n            />\r\n        </TabPanel>\r\n    );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Box,\r\n    Paper,\r\n    Tabs,\r\n    Tab\r\n} from \"@mui/material\";\r\nimport { StockTab } from \"./StockTab\";\r\nimport axios from \"axios\";\r\n\r\nexport const CreatePurchaseOrder = () => {\r\n    const [stocksIndex, setStocksIndex] = useState(0);\r\n    const [chairStocks, setChairStocks] = useState([]);\r\n    const [deskStocks, setDeskStocks] = useState([]);\r\n    const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n    const [chairOrders, setChairOrders] = useState([]);\r\n    const [deskOrders, setDeskOrders] = useState([]);\r\n    const [accessoryOrders, setAccessoryOrders] = useState([]);\r\n\r\n    const getProductsOrdered = (cancelToken) => {\r\n        axios\r\n            .get(\"/shipment/products\", { cancelToken })\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                const chairs = response.data.chairs;\r\n                setChairOrders(chairs);\r\n                const desks = response.data.desks;\r\n                setDeskOrders(desks);\r\n                const accessories = response.data.accessories;\r\n                setAccessoryOrders(accessories);\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const getChairStocks = (cancelToken) => {\r\n        axios\r\n            .get(`/chairStock`, { cancelToken })\r\n            .then((response) => {\r\n                setChairStocks(response.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n    const getDeskStocks = (cancelToken) => {\r\n        axios\r\n            .get(`/deskStock/get_order_joined`, { cancelToken })\r\n            .then((response) => {\r\n                setDeskStocks(response.data[0]);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n    const getAccessoryStocks = (cancelToken) => {\r\n        axios\r\n            .get(`/accessoryStock`, { cancelToken })\r\n            .then((response) => {\r\n                setAccessoryStocks(response.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const source = axios.CancelToken.source();\r\n        getChairStocks(source.token);\r\n        getDeskStocks(source.token);\r\n        getAccessoryStocks(source.token);\r\n        getProductsOrdered(source.token);\r\n        return () => source.cancel(\"Stock Component got unmounted\");\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Paper sx={{ my: \"10px\", mx: \"10px\" }}>\r\n                <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n                    <Tabs\r\n                        value={stocksIndex}\r\n                        onChange={(event, value) => {\r\n                            event.preventDefault();\r\n                            setStocksIndex(value);\r\n                        }}\r\n                        aria-label=\"basic tabs example\"\r\n                    >\r\n                        <Tab label=\"Chairs\" />\r\n                        <Tab label=\"Desks\" />\r\n                        <Tab label=\"Accessories\" />\r\n                        {/* <Tab label=\"Miscs\" /> */}\r\n                    </Tabs>\r\n                    <StockTab\r\n                        stocksIndex={stocksIndex}\r\n                        index={0}\r\n                        title={\"Chair Stocks\"}\r\n                        stocks={chairStocks}\r\n                        chairOrders={chairOrders}\r\n                        deskOrders={deskOrders}\r\n                        accessoryOrders={accessoryOrders}\r\n                        setChairOrders={setChairOrders}\r\n                        setDeskOrders={setDeskOrders}\r\n                        setAccessoryOrders={setAccessoryOrders}\r\n                    />\r\n                    <StockTab\r\n                        stocksIndex={stocksIndex}\r\n                        index={1}\r\n                        title={\"Desk Stocks\"}\r\n                        stocks={deskStocks}\r\n                        chairOrders={chairOrders}\r\n                        deskOrders={deskOrders}\r\n                        accessoryOrders={accessoryOrders}\r\n                        setChairOrders={setChairOrders}\r\n                        setDeskOrders={setDeskOrders}\r\n                        setAccessoryOrders={setAccessoryOrders}\r\n                    />\r\n                    <StockTab\r\n                        stocksIndex={stocksIndex}\r\n                        index={2}\r\n                        title={\"Accessory Stocks\"}\r\n                        stocks={accessoryStocks}\r\n                        chairOrders={chairOrders}\r\n                        deskOrders={deskOrders}\r\n                        accessoryOrders={accessoryOrders}\r\n                        setChairOrders={setChairOrders}\r\n                        setDeskOrders={setDeskOrders}\r\n                        setAccessoryOrders={setAccessoryOrders}\r\n                    />\r\n                </Box>\r\n            </Paper>\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\n\r\nimport { CreatePurchaseOrder } from \"../Create\";\r\n\r\nconst Create = () => {\r\n    return (\r\n        <div>\r\n            <CreatePurchaseOrder />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Create;\r\n","import React from 'react';\r\nimport Listing from '../Listing';\r\n\r\nconst ShipmentView = () => {\r\n    return (\r\n        <div>\r\n            <Listing type={\"Shipment\"} />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ShipmentView;\r\n","import { CreateTwoTone } from '@mui/icons-material';\r\nimport React from 'react';\r\n\r\nimport { CreatePurchaseOrder } from \"../Create\";\r\n\r\nconst ShipmentCreate = () => {\r\n    return (\r\n        <div>\r\n            <CreatePurchaseOrder />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ShipmentCreate;","import React, { useState } from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Box } from \"@mui/material\";\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  DeliveryDining as DeliveryDiningIcon,\r\n  PeopleAlt as PeopleAltIcon,\r\n  Storefront as StorefrontIcon,\r\n} from \"@mui/icons-material\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport AppHeader from \"components/Common/AppHeader\";\r\nimport { CollapsedSidebar, FixedSidebar } from \"components/Common/Sidebar\";\r\nimport { logout } from \"services/auth.service\";\r\nimport User from \"./User\";\r\nimport { ChairStock } from \"./Chair\";\r\nimport { DeskStock } from \"./Desk\";\r\nimport { AccessoryStock } from \"./Accessory\";\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from \"./Salement/SalesOrder\";\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from \"./Salement/Quotation\";\r\nimport { ChairDelivery, DeskDelivery, AccessoryDelivery } from \"./Delivery\";\r\nimport {\r\n  POCreate,\r\n  PurchaseOrder,\r\n} from \"./Purchase/Order\";\r\nimport {\r\n  ShipmentCreate,\r\n  Shipment,\r\n} from \"./Purchase/Shipment\";\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: \"Chair\",\r\n    content: [\r\n      { to: \"/admin/chair/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Desk\",\r\n    content: [\r\n      { to: \"/admin/desk/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Accessory\",\r\n    content: [\r\n      {\r\n        to: \"/admin/accessory/stock\",\r\n        icon: <StorefrontIcon />,\r\n        label: \"Stock\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Sales\",\r\n    content: [\r\n      { to: \"/admin/order\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/quotation\", icon: <BookOnlineIcon />, label: \"Quotation\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Purchase\",\r\n    content: [\r\n      { to: \"/admin/purchase/order\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/purchase/shipment\", icon: <BookOnlineIcon />, label: \"Shipment\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Delivery\",\r\n    content: [\r\n      {\r\n        to: \"/admin/delivery/chair\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Chair\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/desk\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Desk\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/accessory\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Accessory\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"User\",\r\n    content: [{ to: \"/admin/user\", icon: <PeopleAltIcon />, label: \"Users\" }],\r\n  },\r\n];\r\n\r\nconst Admin = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"Log out will remove your session information permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Logout!\",\r\n      cancelButtonText: \"No, Keep Login\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n    // props.logout();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight = {drawerHeight}\r\n        handleDrawerToggle = {handleDrawerOpen}\r\n        title = \"Administrator\"\r\n      />\r\n      <Box\r\n        flexBasis = {`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight = {`calc(100% - ${drawerHeight}px)`}\r\n        position = \"relative\"\r\n        display = \"flex\"\r\n        backgroundColor = \"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen = {mobileOpen}\r\n          handleDrawerClose = {handleDrawerClose}\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <Box\r\n          component = \"main\"\r\n          sx = {{\r\n            flexGrow: 1,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n            maxWidth: \"100%\",\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/user`} component={User} />\r\n            <Route path={`${path}/chair/stock`} exact component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} exact component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              exact\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route\r\n              path={`${path}/shipment/create`}\r\n              exact\r\n              component={ShipmentCreate}\r\n            />\r\n            {/* <Route\r\n              path={`${path}/shipment/edit`}\r\n              exact\r\n              component={ShipmentEdit}\r\n            /> */}\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n            <Route\r\n              path={`${path}/delivery/chair`}\r\n              exact\r\n              component={ChairDelivery}\r\n            />\r\n            <Route\r\n              path={`${path}/delivery/desk`}\r\n              exact\r\n              component={DeskDelivery}\r\n            />\r\n            <Route\r\n              path={`${path}/purchase/order`}\r\n              exact\r\n              component={ PurchaseOrder }\r\n            />\r\n            <Route\r\n              path={`${path}/purchase/order/create`}\r\n              exact\r\n              component={ POCreate }\r\n            />\r\n            <Route\r\n              path={`${path}/purchase/shipment`}\r\n              exact\r\n              component={ Shipment }\r\n            />\r\n            <Route\r\n              path={`${path}/purchase/shipment/create`}\r\n              exact\r\n              component={ ShipmentCreate }\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Admin);\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n    hidden: true\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n          columns={\r\n            columns.map((column, i) => {\r\n              if (i > 5) {\r\n                if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                  return column\r\n              } else {\r\n                return column\r\n              }\r\n            }).filter(column=>column !== undefined)\r\n          }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Paper,\r\n  TextField,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n  InputLabel,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            shipmentDate: (() => {\r\n              if (shipmentDate === null) return \"No\";\r\n              const createdTime = new Date(shipmentDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            arrivalDate: (() => {\r\n              if (arrivalDate === null) return \"No\";\r\n              const createdTime = new Date(arrivalDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\n//import { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'receiptIcon',\r\n    nonSort: true,\r\n    label: 'Receipt',\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'PreOrder',\r\n  'Remark',\r\n  'Discount',\r\n  'SurCharge',\r\n  'Products',\r\n  'Paid',\r\n  'Receipt',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Order permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Orders permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/salesOrder', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/salesOrder/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n        setInitOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum, \r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/order/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post('/salesOrder/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\n// import { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/order\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/order\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: true, //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Remark\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType = \"create\"\r\n      initialClient = {{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n      }}\r\n      initialCart = {[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToOrders,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart = {ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps,\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps,\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'quotationDate',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'Remark',\r\n  'Discount',\r\n  'SurC harge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Quotation permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Quotations permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/salesOrder/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/user/order\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => {});\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get('/quotation/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                { quotationNum }\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/quotation/edit',\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Special Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Special Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor == \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } else {\r\n                      return column;\r\n                    }\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: true, //topHoleType === \"Rounded\" ? \"1\" : \"0\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Remark\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible === \"1\")\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id == stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\n\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/user/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/user/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/user/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Sales',\r\n    content: [\r\n      { to: '/user/order', icon: <BookOnlineIcon />, label: 'Order' },\r\n      { to: '/user/quotation', icon: <BookOnlineIcon />, label: 'Quotation' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Standard = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Salesman\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            p: 3,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/chair/stock`} component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Standard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/user/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GuestRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === false ? (\r\n        <Component {...props} />\r\n      ) : auth.isAdmin === true ? (\r\n        <Redirect to=\"/admin/order\" />\r\n      ) : (\r\n        <Redirect to=\"/user/order\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === false ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/admin/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(() => {\r\n  const { productType, deliveryId } = useParams();\r\n  const [link, setLink] = useState('');\r\n  useEffect(() => {\r\n    if (!link) {\r\n      axios\r\n        .post('/delivery/generatePDF', {\r\n          productType,\r\n          deliveryId,\r\n          signature: '',\r\n        })\r\n        .then((response) => {\r\n          // handle success\r\n          if (!response.data) {\r\n            Swal.fire({\r\n              icon: 'info',\r\n              title: 'Alarm',\r\n              text:\r\n                'New Delivery PDF was created. Please click the button again to check.',\r\n              allowOutsideClick: false,\r\n            });\r\n          }\r\n          setLink(response.data.url);\r\n          if (response.data.url) window.location.href = response.data.url;\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          });\r\n        });\r\n    }\r\n  }, [link]);\r\n  return <></>;\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  CssBaseline,\r\n} from \"@mui/material\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\nimport axios from \"axios\";\r\n\r\nimport { Invoice, Quotation, Receipt, SignIn, SignUp } from \"components/Guest\";\r\nimport Admin from \"components/Admin\";\r\nimport Standard from \"components/Standard\";\r\nimport { AdminRoute, GuestRoute, PrivateRoute } from \"components/Common/Routes\";\r\nimport DeliveryPDF from \"components/Common/DeliveryPDF\";\r\n\r\nif (store.getState().auth.isLoggedIn)\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${\r\n    store.getState().auth.token\r\n  }`;\r\n\r\nconst theme = createTheme({\r\n  components: {\r\n    MuiButton: {\r\n      variants: [\r\n        {\r\n          props: { color: \"aaaa\" },\r\n          style: {\r\n            root: { color: `#888888` },\r\n          },\r\n        },\r\n      ],\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n      },\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: \"none\",\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiFormControl: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// axios.defaults.baseURL = \"http://localhost:4000/api\";\r\n// axios.defaults.baseURL = 'http://97.74.83.170/api';\r\naxios.defaults.baseURL = \"http://blueoceanblue.com/api\";\r\n\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n    store.dispatch({ type: \"loading/beginLoading\" });\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    return response;\r\n  },\r\n  function (error) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    if (error.response && error.response.status === 401)\r\n      store.dispatch({ type: \"auth/logout\" });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(store.getState().loading.value);\r\n  store.subscribe(() => {\r\n    setLoading(store.getState().loading.value);\r\n  });\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <Container\r\n          maxWidth = {false}\r\n          disableGutters\r\n          sx = {{\r\n            height: \"100vh\",\r\n            overflow: \"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <Backdrop\r\n            sx = {{ color: \"#fff\", zIndex: (theme) => theme.zIndex.modal + 1 }}\r\n            open = {loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route path = \"/\" exact>\r\n                <Redirect to = \"/signin\" />\r\n              </Route>\r\n              <Route path = \"/invoice/:id\" exact component = {Invoice} />\r\n              <Route path = \"/receipt/:id\" exact component = {Receipt} />\r\n              <Route path = \"/quotation/:id\" exact component = {Quotation} />\r\n              <GuestRoute path = \"/signin\" exact component = {SignIn} />\r\n              <GuestRoute path = \"/signup\" exact component = {SignUp} />\r\n              <AdminRoute path = \"/admin\" component = {Admin} />\r\n              <PrivateRoute path = \"/user\" component = {Standard} />\r\n              <Route\r\n                path = \"/deliveryPDF/:productType/:deliveryId\"\r\n                component = {DeliveryPDF}\r\n              />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Container>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}