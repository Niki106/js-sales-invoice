{"version":3,"sources":["store/slice/auth.slice.js","store/slice/counter.slice.js","store/slice/loading.slice.js","store/index.js","fonts/chinese.msyh.ttf","images/logo_title.png","components/Guest/Invoice.js","images/receipt_logo.png","components/Guest/Receipt.js","components/Guest/Quotation.js","services/auth.service.js","components/Guest/SignIn.js","components/Guest/SignUp.js","components/Common/AppHeader/index.js","components/Common/Sidebar/FixedSidebar.js","components/Common/Sidebar/CollapsedSidebar.js","components/Common/DataGrid/index.js","components/Admin/User.js","components/Common/MultiSelect/index.js","components/Admin/Chair/Stock.js","components/Admin/Desk/Stock.js","components/Admin/Accessory/Stock.js","components/Admin/Salement/ProductList/index.js","components/Admin/Salement/SalesOrder/View.js","components/Admin/Salement/SalesOrder/Detail.js","components/Admin/Salement/SalesOrder/Create.js","components/Admin/Salement/SalesOrder/Edit.js","components/Admin/Salement/Quotation/View.js","components/Admin/Salement/Quotation/Detail.js","components/Admin/Salement/Quotation/Create.js","components/Admin/Salement/Quotation/Edit.js","components/Admin/Delivery/Chair.js","components/Admin/Delivery/Desk.js","components/Admin/Delivery/Accessory.js","components/Admin/Purchase/Order/view.js","components/Admin/Purchase/Order/create.js","components/Admin/Purchase/Order/edit.js","components/Admin/Purchase/Shipment/view.js","components/Admin/Purchase/Shipment/ProductList/index.js","components/Admin/Purchase/Shipment/detail.js","components/Admin/Purchase/Shipment/create.js","components/Admin/Purchase/Shipment/edit.js","components/Admin/index.js","components/Standard/Chair/Stock.js","components/Standard/Desk/Stock.js","components/Standard/Accessory/Stock.js","components/Standard/Salement/ProductList/index.js","components/Standard/Salement/SalesOrder/View.js","components/Standard/Salement/SalesOrder/Detail.js","components/Standard/Salement/SalesOrder/Create.js","components/Standard/Salement/SalesOrder/Edit.js","components/Standard/Salement/Quotation/View.js","components/Standard/Salement/Quotation/Detail.js","components/Standard/Salement/Quotation/Create.js","components/Standard/Salement/Quotation/Edit.js","components/Standard/index.js","components/Common/Routes/AdminRoute.js","components/Common/Routes/GuestRoute.js","components/Common/Routes/PrivateRoute.js","components/Common/DeliveryPDF/index.js","App.js","reportWebVitals.js","index.js"],"names":["auth","createSlice","name","initialState","isLoggedIn","isAdmin","token","reducers","loginSuccess","state","action","payload","loginFail","logout","actions","counter","value","increment","decrement","incrementByAmount","beginLoading","endLoading","reducer","combineReducers","loading","preloadedState","localStorage","getItem","JSON","parse","store","configureStore","subscribe","setItem","stringify","getState","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","header","width","fontSize","lineHeight","marginBottom","flexDirection","alignItems","title","fontFamily","textTransform","logo","marginLeft","info","companyInfo","paddingRight","clientInfo","email","color","textDecoration","subtitle","margin","fontWeight","text","textAlign","table","border","tableRow","borderBottom","minHeight","tableColumn","flex","padding","borderRight","Font","register","family","src","microsoft_yahei","monthNames","connect","props","success","setSuccess","useState","order","setOrder","Seller","ChairStocks","DeskStocks","AccessoryStocks","ServiceToOrders","DeskToOrders","id","useParams","useEffect","source","axios","CancelToken","getOrder","cancelToken","cancel","getDateString","time","tmp","Date","concat","getMonth","getDate","getFullYear","_ref","get","then","response","console","log","data","catch","error","_jsx","Backdrop","sx","zIndex","theme","drawer","open","children","CircularProgress","_jsxs","Fragment","test","navigator","userAgent","PDFDownloadLink","document","Document","Page","style","wrap","View","Text","createdAt","prefix","invoiceNum","substr","Image","logoTitle","Tspan","unit","floor","block","street","district","phone","cells","content","backgroundColor","firstName","lastName","timeLine","paymentTerms","paid","dueDate","map","_ref2","rowIndex","rowArr","rowRestProps","length","_ref3","index","cellArr","cellRestProps","flexBasis","maxWidth","item","ChairToOrder","qty","brand","model","withHeadrest","withAdArmrest","remark","deliveryOption","unitPrice","find","stock","stockId","armSize","feetSize","beamSize","hasDeskTop","topMaterial","topLength","topWidth","topThickness","topColor","topRoundedCorners","topCornerRadius","topHoleCount","topHolePosition","topHoleType","AccessoryToOrder","category","description","price","Array","Math","max","fill","reduce","acc","cur","discountType","discount","DeskToOrder","surchargeType","surcharge","_ref4","_ref5","position","bottom","left","flexGrow","marginTop","fileName","_ref6","_blob","_url","_error","PDFViewer","height","_ref7","_ref8","_ref9","_ref10","WarningIcon","Typography","receiptLogo","note","quotation","setQuotation","ServiceToQuotations","DeskToQuotations","getQuotation","getDateNum","quotationNum","validTil","ChairToQuotation","AccessoryToQuotation","DeskToQuotation","dispatch","defaults","headers","common","type","Copyright","variant","align","Link","href","login","Promise","resolve","reject","post","_Fragment","Box","mx","mt","display","LogoTitile","alt","Avatar","m","bgcolor","LockOutlinedIcon","component","onSubmit","event","preventDefault","form","currentTarget","FormData","password","err","Swal","fire","icon","html","message","replace","allowOutsideClick","noValidate","Grid","container","spacing","xs","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Button","mb","RouterLink","to","history","push","sm","FormControl","InputLabel","size","Select","labelId","defaultValue","MenuItem","justifyContent","Component","drawerHeight","handleDrawerToggle","rest","AppBar","maxHeight","Toolbar","IconButton","edge","onClick","mr","MenuIcon","noWrap","useFixedSidebarStyles","makeStyles","root","boxSizing","drawerWidth","overflow","borderRadius","navlink","transition","minWidth","FixedSidebar","handleLogout","lists","classes","expList","setExpList","expIndex","setExpIndex","className","list","listIndex","List","pl","listitem","itemIndex","ListItem","button","secondaryAction","ExpandMoreIcon","transform","ListItemIcon","ListItemText","primary","Collapse","in","disablePadding","child","childIndex","NavLink","path","exact","activeClassName","Divider","LogoutIcon","handleDrawerClose","mobileOpen","Drawer","onClose","ModalProps","keepMounted","PaperProps","e","descendingComparator","a","b","orderBy","getComparator","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","columns","onSelectAllClick","numSelected","nonSelect","rowCount","onRequestSort","TableHead","TableRow","TableCell","indeterminate","checked","onChange","inputProps","nonSort","restProps","p","sortDirection","TableSortLabel","active","direction","property","IconComponent","ArrowDropDownIcon","EnhancedTableToolbar","onBulkEditClick","onBulkRemoveClick","pr","alpha","palette","main","activatedOpacity","Tooltip","EditIcon","DeleteIcon","useDataGridStyles","tableCellClasses","head","teal","grey","DataGrid","rows","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","rowsLength","setRowsLength","prevRows","useRef","current","join","filter","row","includes","emptyRows","Paper","TableContainer","Table","target","newSelecteds","n","handleRequestSort","TableBody","slice","isItemSelected","indexOf","role","tabIndex","bkColor","handleClick","selectedIndex","newSelected","filedIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","handleChangePage","newPage","onRowsPerPageChange","parseInt","users","setUsers","editOpen","setEditOpen","setID","formProps","setFormProps","setType","handleEditClick","handleRemoveClick","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","getUsers","isActive","stopPropagation","put","edit","onEditClick","onRemoveClick","ids","Dialog","DialogTitle","DialogContent","Stack","DialogContentText","DialogActions","handleClose","useStyles","formControl","marginRight","float","indeterminateColor","selectAllText","selectedAll","MenuProps","ITEM_HEIGHT","anchorOrigin","vertical","horizontal","transformOrigin","CheckableMultiSelect","options","isAllSelected","htmlFor","multiple","renderValue","option","hideColumns","Stock","useTheme","formMode","setFormMode","stocks","setStocks","formOpen","setFormOpen","balance","setBalance","setUnitPrice","shipmentQty","setShipmentQty","features","setFeatures","filterBrand","setFilterBrand","filterModel","setFilterModel","selectedHideColumns","setSelectedHideColumns","frameColor","backColor","seatColor","backMaterial","seatMaterial","multiline","shipmentDate","arrivalDate","getStocks","startIcon","AddIcon","accept","async","files","uploadData","append","ml","flexWrap","c","chars","Autocomplete","renderInput","params","values","thumbnailURL","thumbnail","showCloseButton","showConfirmButton","column","i","hideColumn","undefined","fullScreen","useMediaQuery","breakpoints","down","url","Boolean","Number","restParams","InputLabelProps","shrink","defaultChecked","RemoveIcon","filterSupplier","setFilterSupplier","filterColor","setFilterColor","supplierCode","autocomParams","initStocks","setInitStocks","filterCategory","setFilterCategory","selected_category","ProductList","styled","ProductListItem","boxShadow","ProductListItemText","indigo","ProductPriceAmount","amount","whiteSpace","textOverflow","flexShrink","paddingLeft","orders","setOrders","initOrders","setInitOrders","setName","setEmail","setPhone","whatsAppOpen","setWhatsAppOpen","emailOpen","setEmailOpen","detailOpen","setDetailOpen","whatsAppMessage","emailContent","filterAnchor","setFilterAnchor","orderIndex","setOrderIndex","paymentLink","setPaymentLink","searchInvoiceNumber","setSearchInvoiceNumber","searchPhoneNumber","setSearchPhoneNumber","chairDeliveries","deskDeliveries","accessoryDeliveries","getOrders","isSentToShipment","AccessoryToOrders","shipmentId","ChairToOrders","onKeyPressed","key","searchedOrders","toLowerCase","onKeyPress","isPreOrder","seller","orderDate","createdTime","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","clientAddress","preOrder","products","my","Badge","badgeContent","DeckIcon","receiptIcon","ReceiptIcon","emailIcon","EmailIcon","whatsappIcon","ReactDOMServer","renderToStaticMarkup","QRCode","qrcode","level","qrerror","WhatsAppIcon","pathname","onFilterClick","MuiPhoneNumber","onlyCountries","defaultCountry","InputProps","readOnly","inputRef","minRows","maxRows","link","secondary","ref","proDeliveryDate","estDeliveryDate","from","delivered","topSketchURL","rel","chairToOrders","deskToOrders","accessoryToOrders","TabPanel","other","hidden","chairColumns","hideChairColumns","deskColumns","hideDeskColumns","accessoryColumns","materialOptions","componentType","initialClient","initialCart","initialServices","setTopHoleCount","setTopHolePosition","setTopHoleType","setTopMaterial","setTopColor","setTopLength","setTopWidth","setTopThickness","setTopRoundedCorners","setTopCornerRadius","sketchUrl","setSketchUrl","setRemark","clientForm","currentStep","setCurrentStep","addOpen","setAddOpen","deskAddOpen","setDeskAddOpen","setHasDeskTop","productType","setProductType","productId","setProductId","productDetail","setProductDetail","productPrice","setProductPrice","productAmount","setProductAmount","productRemark","setProductRemark","deliveryChecked0","setDeliveryChecked0","deliveryChecked1","setDeliveryChecked1","deliveryChecked2","setDeliveryChecked2","deliveryChecked3","setDeliveryChecked3","cart","setCart","cartItemStatus","setCartItemStatus","setPaid","chairStocks","setChairStocks","deskStocks","setDeskStocks","accessoryStocks","setAccessoryStocks","initAccessoryStocks","setInitAccessoryStocks","stocksIndex","setStocksIndex","chairFeatures","setChairFeatures","deskFeatures","setDeskFeatures","chairFilterBrand","setChairFilterBrand","chairFilterModel","setChairFilterModel","deskFilterSupplier","setDeskFilterSupplier","deskFilterModel","setDeskFilterModel","deskFilterColor","setDeskFilterColor","accessoryFilterCategory","setAccessoryFilterCategory","initServices","service","Object","assign","services","setServices","selectedHideChairColumns","setSelectedHideChairColumns","selectedHideDeskColumns","setSelectedHideDeskColumns","getDeskFeatures","getAccessoryFeatures","getChairStocks","getDeskStocks","getAccessoryStocks","Stepper","activeStep","labelProps","step","checkValidity","optional","Step","StepLabel","setValue","min","RadioGroup","Radio","px","deliveryOptions","productDeliveryOption","onEditCartProduct","product","productIndex","borderColor","Tabs","Tab","add","onAddService","newService","uuidv4","Card","pb","serviceId","newServices","onDeleteService","CloseIcon","onChangeServiceDes","onChangeServicePrice","parseFloat","clientData","paymentData","_productDetail$catego","productCategory","_productDetail$catego2","disabled","newCart","endAdornment","InputAdornment","visibility","newVal","suffix","visible","fieldParams","selectParams","selectOption","selectOptionIndex","Create","Detail","Edit","location","useLocation","sellerId","client","deskTopProps","val","Redirect","quotations","setquotations","quotationIndex","setquotationIndex","getQuotations","quotationDate","toInvoice","handleToInvoiceClick","DriveFolderUploadIcon","deliveries","setDeliveries","setIDs","getDeliveries","SalesOrder","ChairStock","reamrk","deliveryPDF","poNum","DeskStock","deskTop","akNum","heworkNum","AccessoryStock","defaultHiddenColumns","shipments","setShipments","initShipments","setInitShipments","columnsToShow","setColumnsToShow","searchPONumber","setsearchPONumber","getShipments","shipment","searchedShipments","toString","des","orderQty","finishDate","supplier","invoice","desc","col","initialShipment","productQty","setProductQty","productDesc","setProductDesc","basicForm","chairProducts","deskProducts","accProducts","pid","getShipment","basicData","handleSubmit2","handleSubmit3","loc","menuLists","StorefrontIcon","BookOnlineIcon","DeliveryDiningIcon","PeopleAltIcon","setMobileOpen","useRouteMatch","AppHeader","CollapsedSidebar","Switch","Route","User","SalesOrderView","SalesOrderCreate","SalesOrderEdit","QuotationView","QuotationCreate","QuotationEdit","ChairDelivery","DeskDelivery","PurchaseOrderView","PurchaseOrderCreate","PurchaseOrderEdit","ShipmentView","ShipmentCreate","ShipmentEdit","render","deliveryId","setLink","signature","window","createTheme","components","MuiButton","variants","defaultProps","styleOverrides","MuiTextField","MuiSelect","MuiFormControl","baseURL","interceptors","request","use","config","status","App","setLoading","ThemeProvider","Provider","CssBaseline","Container","disableGutters","modal","BrowserRouter","Invoice","Receipt","Quotation","GuestRoute","SignIn","SignUp","AdminRoute","Admin","PrivateRoute","Standard","DeliveryPDF","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","React","StrictMode","getElementById"],"mappings":"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AAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,aACJgN,MAAO,eAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,gBACJgN,MAAO,uBAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILga,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEjnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,YAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILka,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEnnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,OACJgN,MAAO,QAET,CACEhN,GAAI,WACJgN,MAAO,YAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAA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AAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,aACJgN,MAAO,eAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,gBACJgN,MAAO,uBAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILga,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEjnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,YAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILka,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEnnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,OACJgN,MAAO,QAET,CACEhN,GAAI,WACJgN,MAAO,YAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UAC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,EAAG,oBAAqBhS,SAAEA,KACrD,EAeV,MAAM8kB,GAAe,CACnB,CACE/mB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,aACJgN,MAAO,eAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,YACJgN,MAAO,cAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,iBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,gBACJgN,MAAO,uBAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILga,GAAmB,CACvB,cACA,aACA,aACA,gBACA,gBACA,WACA,sBACA,eACA,WACA,WAGIC,GAAc,CAClB,CACEjnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,YACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,WAET,CACEhN,GAAI,MACJgN,MAAO,OAET,CACEhN,GAAI,QACJgN,MAAO,SAET,CACEhN,GAAI,UACJgN,MAAO,YAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,WACJgN,MAAO,aAET,CACEhN,GAAI,SACJgN,MAAO,gBAET,CACEhN,GAAI,eACJgN,MAAO,YAET,CACEhN,GAAI,cACJgN,MAAO,YAILka,GAAkB,CACtB,QACA,WACA,YACA,YACA,eACA,WACA,WAGIC,GAAmB,CACvB,CACEnnB,GAAI,OAEN,CACEA,GAAI,YACJ4B,GAAI,CAAE/E,MAAO,KACbkX,SAAS,GAEX,CACE/T,GA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","file":"static/js/main.ecb092d4.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const auth = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    token: null,\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.token = action.payload.token;\r\n      state.isAdmin = action.payload.isAdmin;\r\n    },\r\n    loginFail: (state) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    logout: (state) => {\r\n      state.isLoggedIn = false;\r\n      state.isAdmin = false;\r\n      state.token = null;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loginSuccess, loginFail, logout } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'loading',\r\n  initialState: {\r\n    value: false,\r\n  },\r\n  reducers: {\r\n    beginLoading: (state) => {\r\n      state.value = true;\r\n    },\r\n    endLoading: (state) => {\r\n      state.value = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport auth from './slice/auth.slice';\r\nimport counter from './slice/counter.slice';\r\nimport loading from './slice/loading.slice';\r\n\r\nconst reducer = combineReducers({\r\n  auth,\r\n  counter,\r\n  loading,\r\n});\r\n\r\nconst preloadedState = localStorage.getItem('state')\r\n  ? JSON.parse(localStorage.getItem('state'))\r\n  : {};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  preloadedState,\r\n});\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('state', JSON.stringify(store.getState()));\r\n});\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/chinese.msyh.554cdb5e.ttf\";","export default \"data:image/png;base64,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\"","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/sales/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        console.log(response.data);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Invoice</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>23/F</Text>\r\n                    <Text>Locakhart Centre</Text>\r\n                    <Text>301-307 Lockhart Rd</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                            }\r\n                            Color of Legs: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).color\r\n                            }\r\n                            ArmSize: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).armSize\r\n                            }\r\n                            FeetSize: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).feetSize\r\n                            }\r\n                            Beam Size: ${\r\n                              order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).beamSize\r\n                            }\r\n                            ${\r\n                              item.hasDeskTop\r\n                                ? `Table Top: ${item.topMaterial}\r\n                                  Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                                    item.topThickness\r\n                                  }\r\n                                  Table Top Color: ${item.topColor} ${\r\n                                    item.topRoundedCorners === 0\r\n                                      ? \"\"\r\n                                      : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                                  } ${\r\n                                    item.topHoleCount === 0\r\n                                      ? \"\"\r\n                                      : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                                  }\r\n                                  Remark: ${item.remark}`\r\n                                : \"Without DeskTop\"\r\n                            }\r\n                            ${JSON.parse(item.deliveryOption)}`,\r\n                                  width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text>\r\n                    Blueocean International (HK) Ltd.\r\n                  </Text>\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                  `You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment`\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>•</Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    marginTop: \"5px\",\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  The warranty is effective from the date of purchase from\r\n                  Blueocean International (HK) Ltd by the original purchaser.\r\n                  Such warranty applies under the following terms and conditions\r\n                  and is covered by the original manufacturers for specific\r\n                  period stated:\r\n                </Text>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  //`Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  // `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,\r\n                  `Okamura Chairs: 10 years for structural defective parts, under regular usage by Okamura (China) Co. Ltd, for details please refer to our website FAQ section.`,\r\n                  // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>•</Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n          fileName=\"somename.pdf\"\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Invoice</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>23/F</Text>\r\n                <Text>Lockhart Centre</Text>\r\n                <Text>301-307 Lockhart Rd</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        (order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`) + '\\n' + `${order.remark}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\r\n                        Chair Model: ${item.model}\r\n                        ${item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"}\r\n                        ${item.withAdArmrest ? \"With Adjustable Armrest\" : \"Without Adjustable Armrest\"}\r\n                        Specification: ${item.ChairToOrder.remark}\r\n                        Other Remark: ${item.remark}\r\n                        ${JSON.parse(item.ChairToOrder.deliveryOption)}\r\n                        `,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                        Color of Legs: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).color\r\n                        }\r\n                        ArmSize: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).armSize\r\n                        }\r\n                        FeetSize: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).feetSize\r\n                        }\r\n                        Beam Size: ${\r\n                          order.DeskStocks.find(\r\n                            (stock) => stock.id === item.stockId\r\n                          ).beamSize\r\n                        }\r\n                        ${\r\n                          item.hasDeskTop\r\n                            ? `Table Top: ${item.topMaterial}\r\n                              Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                                item.topThickness\r\n                              }\r\n                              Table Top Color: ${item.topColor} ${\r\n                                item.topRoundedCorners === 0\r\n                                  ? \"\"\r\n                                  : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                              } ${\r\n                                item.topHoleCount === 0\r\n                                  ? \"\"\r\n                                  : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                              }\r\n                              Specification: ${item.remark}\r\n                              Other Remark: ${order.DeskStocks.find(\r\n                                (stock) => stock.id === item.stockId\r\n                              ).remark}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\r\n                      Specification: ${item.AccessoryToOrder.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 45,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd.\r\n              </Text>\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>•</Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                marginTop: \"5px\",\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              The warranty is effective from the date of purchase from Blueocean\r\n              International (HK) Ltd by the original purchaser. Such warranty\r\n              applies under the following terms and conditions and is covered by\r\n              the original manufacturers for specific period stated:\r\n            </Text>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              // `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n              `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              // `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,\r\n              `Okamura Chairs: 10 years for structural defective parts, under regular usage by Okamura (China) Co. Ltd, for details please refer to our website FAQ section.`,\r\n              // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>•</Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","export default __webpack_public_path__ + \"static/media/receipt_logo.15fa4131.png\";","import React, { useEffect, useState, Fragment } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n  PDFDownloadLink,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\nimport receiptLogo from \"images/receipt_logo.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  receiptLogo: {\r\n    width: 70,\r\n    marginLeft: 10,\r\n  },\r\n  note: {\r\n    flexDirection: \"row\",\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [order, setOrder] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToOrders: [],\r\n    DeskToOrders: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrder({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getOrder = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/sales/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setOrder(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <Fragment>\r\n      {/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      ) && (\r\n        <PDFDownloadLink\r\n          document={\r\n            <Document>\r\n              <Page style={styles.body} wrap>\r\n                <View style={styles.header}>\r\n                  <View>\r\n                    <Text style={styles.title}>Receipt</Text>\r\n                    <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                    <Text>\r\n                      {`No: I-${order.Seller.prefix}${new Date(\r\n                        order.createdAt\r\n                      ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(\r\n                        -3\r\n                      )}`}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.logo}>\r\n                    <Image src={logoTitle} />\r\n                  </View>\r\n                </View>\r\n                <View style={styles.info}>\r\n                  <View style={styles.companyInfo}>\r\n                    <Text>Blueocean International (HK) Ltd.</Text>\r\n                    <Text>19/F</Text>\r\n                    <Text>Bel Trade Commercial Building</Text>\r\n                    <Text>3 Burrows Street</Text>\r\n                    <Text>Wanchai, Hong Kong</Text>\r\n                    <Text>Tel: 2169 3337</Text>\r\n                    <Text>\r\n                      Email:{\" \"}\r\n                      <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.clientInfo}>\r\n                    <Text>Client's Name: {order.name}</Text>\r\n                    {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                    {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                    {order.block ? <Text>Block {order.block}</Text> : null}\r\n                    <Text>{order.street}</Text>\r\n                    <Text>{order.district}</Text>\r\n                    <Text>Phone: {order.phone}</Text>\r\n                    <Text>\r\n                      Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"Salesperson\", width: \"15%\" },\r\n                        { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                        { content: \"Payment Terms\", width: \"15%\" },\r\n                        {\r\n                          content: \"Due Date\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content:\r\n                            order.timeLine % 7 === 0\r\n                              ? `Est ${order.timeLine / 7} working week${\r\n                                  order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                                } after payment`\r\n                              : `Est ${order.timeLine} working day${\r\n                                  order.timeLine === 1 ? \"\" : \"s\"\r\n                                } after payment`,\r\n                          width: \"55%\",\r\n                        },\r\n                        { content: order.paymentTerms, width: \"15%\" },\r\n                        {\r\n                          content: order.paid ? \"Paid\" : order.dueDate,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                </View>\r\n                <View style={styles.table}>\r\n                  {[\r\n                    {\r\n                      cells: [\r\n                        { content: \"QTY\", width: \"15%\" },\r\n                        { content: \"Description\", width: \"55%\" },\r\n                        { content: \"Unit Price\", width: \"15%\" },\r\n                        {\r\n                          content: \"Line Total (HKD)\",\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                      backgroundColor: \"#dbe5f1\",\r\n                      textTransform: \"uppercase\",\r\n                    },\r\n                    ...order.ChairStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.ChairToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                            item.model\r\n                          }\\n${\r\n                            item.withHeadrest\r\n                              ? \"With Headrest\"\r\n                              : \"Without Headrest\"\r\n                          }\\n${\r\n                            item.withAdArmrest\r\n                              ? \"With Adjustable Armrest\"\r\n                              : \"Without Adjustable Armrest\"\r\n                          }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                            item.ChairToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.ChairToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.DeskToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `Desk Model: ${\r\n                            order.DeskStocks.find(\r\n                              (stock) => stock.id === item.stockId\r\n                            ).model\r\n                          }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.unitPrice * item.qty}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.AccessoryStocks.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: `${item.AccessoryToOrder.qty}`,\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.name}\\nAccessory Category: ${\r\n                            item.category\r\n                          }\\nRemark: ${\r\n                            item.AccessoryToOrder.remark\r\n                          }\\n${JSON.parse(\r\n                            item.AccessoryToOrder.deliveryOption\r\n                          )}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.AccessoryToOrder.unitPrice}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${\r\n                            item.AccessoryToOrder.unitPrice *\r\n                            item.AccessoryToOrder.qty\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...order.ServiceToOrders.map((item) => ({\r\n                      cells: [\r\n                        {\r\n                          content: \"1\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.description}`,\r\n                          width: \"55%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                        {\r\n                          content: `${item.price}`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    })),\r\n                    ...Array(\r\n                      Math.max(\r\n                        0,\r\n                        6 -\r\n                          order.ChairStocks.length -\r\n                          order.DeskStocks.length -\r\n                          order.AccessoryStocks.length -\r\n                          order.ServiceToOrders.length\r\n                      )\r\n                    ).fill({\r\n                      cells: [\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"55%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                        { content: \"\", width: \"15%\" },\r\n                      ],\r\n                    }),\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SUBTOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"DISCOUNT\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"SURCHARGE\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                          borderBottom: \"0.5px solid #808080\",\r\n                        },\r\n                      ],\r\n                      borderBottom: \"none\",\r\n                    },\r\n                    {\r\n                      cells: [\r\n                        {\r\n                          content: ``,\r\n                          width: \"70%\",\r\n                          fontSize: 12,\r\n                        },\r\n                        { content: \"TOTAL\", width: \"15%\" },\r\n                        {\r\n                          content: `${\r\n                            (order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.DeskToOrders.length\r\n                              ? order.DeskToOrders.map(\r\n                                  (item) => item.unitPrice * item.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.AccessoryStocks.length\r\n                              ? order.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToOrder.unitPrice *\r\n                                    item.AccessoryToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (order.ServiceToOrders.length\r\n                              ? order.ServiceToOrders.map(\r\n                                  (item) => item.price\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) -\r\n                            (order.discountType\r\n                              ? order.discount\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.discount) /\r\n                                100) +\r\n                            (order.surchargeType\r\n                              ? order.surcharge\r\n                              : (((order.ChairStocks.length\r\n                                  ? order.ChairStocks.map(\r\n                                      (item) =>\r\n                                        item.ChairToOrder.unitPrice *\r\n                                        item.ChairToOrder.qty\r\n                                    ).reduce((acc, cur) => acc + cur)\r\n                                  : 0) +\r\n                                  (order.DeskStocks.length\r\n                                    ? order.DeskStocks.map(\r\n                                        (item) =>\r\n                                          item.DeskToOrder.unitPrice *\r\n                                          item.DeskToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0) +\r\n                                  (order.AccessoryStocks.length\r\n                                    ? order.AccessoryStocks.map(\r\n                                        (item) =>\r\n                                          item.AccessoryToOrder.unitPrice *\r\n                                          item.AccessoryToOrder.qty\r\n                                      ).reduce((acc, cur) => acc + cur)\r\n                                    : 0)) *\r\n                                  order.surcharge) /\r\n                                100)\r\n                          }`,\r\n                          textAlign: \"right\",\r\n                          width: \"15%\",\r\n                        },\r\n                      ],\r\n                    },\r\n                  ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                    <View\r\n                      key={rowIndex}\r\n                      style={[\r\n                        styles.tableRow,\r\n                        {\r\n                          borderBottom:\r\n                            rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                          ...rowRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {cells.map(\r\n                        (\r\n                          { content, width, ...cellRestProps },\r\n                          index,\r\n                          cellArr\r\n                        ) => (\r\n                          <Text\r\n                            key={index}\r\n                            style={[\r\n                              styles.tableColumn,\r\n                              {\r\n                                borderRight:\r\n                                  index === cellArr.length - 1 ? \"none\" : null,\r\n                                flexBasis: width,\r\n                                maxWidth: width,\r\n                                ...cellRestProps,\r\n                              },\r\n                            ]}\r\n                          >\r\n                            {content}\r\n                          </Text>\r\n                        )\r\n                      )}\r\n                    </View>\r\n                  ))}\r\n                  <Text\r\n                    style={{\r\n                      fontSize: 12,\r\n                      padding: 3,\r\n                      position: \"absolute\",\r\n                      width: \"70%\",\r\n                      bottom: 0,\r\n                      left: 0,\r\n                    }}\r\n                  >\r\n                    Blueocean International (HK) Ltd. \\r\\n\r\n                    NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                    Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                    HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n                  </Text>\r\n                </View>\r\n                {[\r\n                  `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n                  `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n                  `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n                  `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n                  `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>•</Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <View style={styles.note}>\r\n                  <Text\r\n                    style={{\r\n                      marginTop: \"5px\",\r\n                      fontSize: 10,\r\n                      lineHeight: 1.2,\r\n                      color: \"#888888\",\r\n                      width: \"80%\",\r\n                    }}\r\n                  >\r\n                    The warranty is effective from the date of purchase from\r\n                    Blueocean International (HK) Ltd by the original purchaser.\r\n                    Such warranty applies under the following terms and\r\n                    conditions and is covered by the original manufacturers for\r\n                    specific period stated:\r\n                  </Text>\r\n                  <Image src={receiptLogo} style={styles.receiptLogo} />\r\n                </View>\r\n                {[\r\n                  `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n                  `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n                  `Standing desks: 5 years by manufacturer`,\r\n                  // `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n                  `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n                  `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n                  `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n                  `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                  `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n                ].map((text, index) => (\r\n                  <View\r\n                    key={index}\r\n                    style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n                  >\r\n                    <View\r\n                      style={{\r\n                        width: 2,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        margin: \"0 10px 0 0\",\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>•</Text>\r\n                    </View>\r\n                    <View\r\n                      style={{\r\n                        flexGrow: 1,\r\n                        fontSize: 10,\r\n                        lineHeight: 1.2,\r\n                        color: \"#888888\",\r\n                      }}\r\n                    >\r\n                      <Text>{text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Claiming of any aforementioned warranties only covers\r\n                  replacement of the defective or broken parts only and does not\r\n                  include the following cost, which shall be borne by the\r\n                  claimant. A quotation will be provided in advance for approval\r\n                  by the claimant: 1) labor costs of technician for replacing\r\n                  the parts; 2) transportation costs incurred for sending the\r\n                  product(s) to our company and delivering back to the claimant\r\n                  from our shop after service. I, the undersigned, have read and\r\n                  understand these policies and agree to all the above.\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Agreement to this invoice represents that client understands\r\n                  our refund policy and terms and condition as stated in our\r\n                  website ergoseatings.com and ergoseatings.com.hk\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 10,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  Initials: _________________\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 12,\r\n                    lineHeight: 1.2,\r\n                    marginTop: 12,\r\n                    fontWeight: \"bold\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  Thank you for your business!\r\n                </Text>\r\n              </Page>\r\n            </Document>\r\n          }\r\n        >\r\n          {({ _blob, _url, loading, _error }) =>\r\n            loading ? \"Loading document...\" : \"Download now!\"\r\n          }\r\n        </PDFDownloadLink>\r\n      )}\r\n      <PDFViewer height=\"100%\">\r\n        <Document>\r\n          <Page style={styles.body} wrap>\r\n            <View style={styles.header}>\r\n              <View>\r\n                <Text style={styles.title}>Receipt</Text>\r\n                <Text>Date: {getDateString(order.createdAt)}</Text>\r\n                <Text>\r\n                  {`No: I-${order.Seller.prefix}${new Date(\r\n                    order.createdAt\r\n                  ).getFullYear()}-${(\"000\" + order.invoiceNum).substr(-3)}`}\r\n                </Text>\r\n              </View>\r\n              <View style={styles.logo}>\r\n                <Image src={logoTitle} />\r\n              </View>\r\n            </View>\r\n            <View style={styles.info}>\r\n              <View style={styles.companyInfo}>\r\n                <Text>Blueocean International (HK) Ltd.</Text>\r\n                <Text>19/F</Text>\r\n                <Text>Bel Trade Commercial Building</Text>\r\n                <Text>3 Burrows Street</Text>\r\n                <Text>Wanchai, Hong Kong</Text>\r\n                <Text>Tel: 2169 3337</Text>\r\n                <Text>\r\n                  Email:{\" \"}\r\n                  <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n                </Text>\r\n              </View>\r\n              <View style={styles.clientInfo}>\r\n                <Text>Client's Name: {order.name}</Text>\r\n                {order.unit ? <Text>Unit {order.unit}</Text> : null}\r\n                {order.floor ? <Text>Floor {order.floor}</Text> : null}\r\n                {order.block ? <Text>Block {order.block}</Text> : null}\r\n                <Text>{order.street}</Text>\r\n                <Text>{order.district}</Text>\r\n                <Text>Phone: {order.phone}</Text>\r\n                <Text>\r\n                  Email: <Tspan style={styles.email}>{order.email}</Tspan>\r\n                </Text>\r\n              </View>\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"Salesperson\", width: \"15%\" },\r\n                    { content: \"Estimated Delivery Date\", width: \"55%\" },\r\n                    { content: \"Payment Terms\", width: \"15%\" },\r\n                    { content: \"Due Date\", textAlign: \"right\", width: \"15%\" },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: `${order.Seller.firstName} ${order.Seller.lastName}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content:\r\n                        order.timeLine % 7 === 0\r\n                          ? `Est ${order.timeLine / 7} working week${\r\n                              order.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                            } after payment`\r\n                          : `Est ${order.timeLine} working day${\r\n                              order.timeLine === 1 ? \"\" : \"s\"\r\n                            } after payment`,\r\n                      width: \"55%\",\r\n                    },\r\n                    { content: order.paymentTerms, width: \"15%\" },\r\n                    {\r\n                      content: order.paid ? \"Paid\" : order.dueDate,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              {[\r\n                {\r\n                  cells: [\r\n                    { content: \"QTY\", width: \"15%\" },\r\n                    { content: \"Description\", width: \"55%\" },\r\n                    { content: \"Unit Price\", width: \"15%\" },\r\n                    {\r\n                      content: \"Line Total (HKD)\",\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                  backgroundColor: \"#dbe5f1\",\r\n                  textTransform: \"uppercase\",\r\n                },\r\n                ...order.ChairStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.ChairToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                        item.model\r\n                      }\\n${\r\n                        item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"\r\n                      }\\n${\r\n                        item.withAdArmrest\r\n                          ? \"With Adjustable Armrest\"\r\n                          : \"Without Adjustable Armrest\"\r\n                      }\\nRemark: ${item.ChairToOrder.remark}\\n${JSON.parse(\r\n                        item.ChairToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.ChairToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.ChairToOrder.unitPrice * item.ChairToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.DeskToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `Desk Model: ${\r\n                        order.DeskStocks.find(\r\n                          (stock) => stock.id === item.stockId\r\n                        ).model\r\n                      }\r\n                    Color of Legs: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      order.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                          Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                          Table Top Color: ${item.topColor} ${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          } ${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                          Remark: ${item.remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.unitPrice * item.qty}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.AccessoryStocks.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: `${item.AccessoryToOrder.qty}`,\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.name}\\nAccessory Category: ${\r\n                        item.category\r\n                      }\\nRemark: ${item.AccessoryToOrder.remark}\\n${JSON.parse(\r\n                        item.AccessoryToOrder.deliveryOption\r\n                      )}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.AccessoryToOrder.unitPrice}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${\r\n                        item.AccessoryToOrder.unitPrice *\r\n                        item.AccessoryToOrder.qty\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...order.ServiceToOrders.map((item) => ({\r\n                  cells: [\r\n                    {\r\n                      content: \"1\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.description}`,\r\n                      width: \"55%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                    {\r\n                      content: `${item.price}`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                })),\r\n                ...Array(\r\n                  Math.max(\r\n                    0,\r\n                    6 -\r\n                      order.ChairStocks.length -\r\n                      order.DeskStocks.length -\r\n                      order.AccessoryStocks.length -\r\n                      order.ServiceToOrders.length\r\n                  )\r\n                ).fill({\r\n                  cells: [\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"55%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                    { content: \"\", width: \"15%\" },\r\n                  ],\r\n                }),\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SUBTOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"DISCOUNT\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"SURCHARGE\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                      borderBottom: \"0.5px solid #808080\",\r\n                    },\r\n                  ],\r\n                  borderBottom: \"none\",\r\n                },\r\n                {\r\n                  cells: [\r\n                    {\r\n                      content: ``,\r\n                      width: \"70%\",\r\n                      fontSize: 12,\r\n                    },\r\n                    { content: \"TOTAL\", width: \"15%\" },\r\n                    {\r\n                      content: `${\r\n                        (order.ChairStocks.length\r\n                          ? order.ChairStocks.map(\r\n                              (item) =>\r\n                                item.ChairToOrder.unitPrice *\r\n                                item.ChairToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.DeskToOrders.length\r\n                          ? order.DeskToOrders.map(\r\n                              (item) => item.unitPrice * item.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.AccessoryStocks.length\r\n                          ? order.AccessoryStocks.map(\r\n                              (item) =>\r\n                                item.AccessoryToOrder.unitPrice *\r\n                                item.AccessoryToOrder.qty\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) +\r\n                        (order.ServiceToOrders.length\r\n                          ? order.ServiceToOrders.map(\r\n                              (item) => item.price\r\n                            ).reduce((acc, cur) => acc + cur)\r\n                          : 0) -\r\n                        (order.discountType\r\n                          ? order.discount\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.discount) /\r\n                            100) +\r\n                        (order.surchargeType\r\n                          ? order.surcharge\r\n                          : (((order.ChairStocks.length\r\n                              ? order.ChairStocks.map(\r\n                                  (item) =>\r\n                                    item.ChairToOrder.unitPrice *\r\n                                    item.ChairToOrder.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                              (order.DeskStocks.length\r\n                                ? order.DeskStocks.map(\r\n                                    (item) =>\r\n                                      item.DeskToOrder.unitPrice *\r\n                                      item.DeskToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0) +\r\n                              (order.AccessoryStocks.length\r\n                                ? order.AccessoryStocks.map(\r\n                                    (item) =>\r\n                                      item.AccessoryToOrder.unitPrice *\r\n                                      item.AccessoryToOrder.qty\r\n                                  ).reduce((acc, cur) => acc + cur)\r\n                                : 0)) *\r\n                              order.surcharge) /\r\n                            100)\r\n                      }`,\r\n                      textAlign: \"right\",\r\n                      width: \"15%\",\r\n                    },\r\n                  ],\r\n                },\r\n              ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n                <View\r\n                  key={rowIndex}\r\n                  style={[\r\n                    styles.tableRow,\r\n                    {\r\n                      borderBottom:\r\n                        rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                      ...rowRestProps,\r\n                    },\r\n                  ]}\r\n                >\r\n                  {cells.map(\r\n                    ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                      <Text\r\n                        key={index}\r\n                        style={[\r\n                          styles.tableColumn,\r\n                          {\r\n                            borderRight:\r\n                              index === cellArr.length - 1 ? \"none\" : null,\r\n                            flexBasis: width,\r\n                            maxWidth: width,\r\n                            ...cellRestProps,\r\n                          },\r\n                        ]}\r\n                      >\r\n                        {content}\r\n                      </Text>\r\n                    )\r\n                  )}\r\n                </View>\r\n              ))}\r\n              <Text\r\n                style={{\r\n                  fontSize: 12,\r\n                  padding: 3,\r\n                  position: \"absolute\",\r\n                  width: \"70%\",\r\n                  bottom: 0,\r\n                  left: 0,\r\n                }}\r\n              >\r\n                Blueocean International (HK) Ltd. \\r\\n\r\n                NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004,\r\n                Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n                HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n              </Text>\r\n            </View>\r\n            {[\r\n              `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n              `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n              `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n              `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n              `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", margin: \"5px 0\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>•</Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <View style={styles.note}>\r\n              <Text\r\n                style={{\r\n                  marginTop: \"5px\",\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                  width: \"80%\",\r\n                }}\r\n              >\r\n                The warranty is effective from the date of purchase from\r\n                Blueocean International (HK) Ltd by the original purchaser. Such\r\n                warranty applies under the following terms and conditions and is\r\n                covered by the original manufacturers for specific period\r\n                stated:\r\n              </Text>\r\n              <Image src={receiptLogo} style={styles.receiptLogo} />\r\n            </View>\r\n            {[\r\n              `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n              `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n              `Standing desks: 5 years by manufacturer`,\r\n              `Okamura chairs:  5 years for defective parts under regular usage, by Okamura (China) Co. Ltd.`,\r\n              `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n              `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n              `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n              `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n              `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            ].map((text, index) => (\r\n              <View\r\n                key={index}\r\n                style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n              >\r\n                <View\r\n                  style={{\r\n                    width: 2,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    margin: \"0 10px 0 0\",\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>•</Text>\r\n                </View>\r\n                <View\r\n                  style={{\r\n                    flexGrow: 1,\r\n                    fontSize: 10,\r\n                    lineHeight: 1.2,\r\n                    color: \"#888888\",\r\n                  }}\r\n                >\r\n                  <Text>{text}</Text>\r\n                </View>\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Claiming of any aforementioned warranties only covers replacement\r\n              of the defective or broken parts only and does not include the\r\n              following cost, which shall be borne by the claimant. A quotation\r\n              will be provided in advance for approval by the claimant: 1) labor\r\n              costs of technician for replacing the parts; 2) transportation\r\n              costs incurred for sending the product(s) to our company and\r\n              delivering back to the claimant from our shop after service. I,\r\n              the undersigned, have read and understand these policies and agree\r\n              to all the above.\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Agreement to this invoice represents that client understands our\r\n              refund policy and terms and condition as stated in our website\r\n              ergoseatings.com and ergoseatings.com.hk\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 10,\r\n                lineHeight: 1.2,\r\n                marginTop: 10,\r\n                color: \"#888888\",\r\n              }}\r\n            >\r\n              Initials: _________________\r\n            </Text>\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                lineHeight: 1.2,\r\n                marginTop: 12,\r\n                fontWeight: \"bold\",\r\n                textAlign: \"center\",\r\n              }}\r\n            >\r\n              Thank you for your business!\r\n            </Text>\r\n          </Page>\r\n        </Document>\r\n      </PDFViewer>\r\n    </Fragment>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid invoice url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from \"@react-pdf/renderer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Warning as WarningIcon } from \"@mui/icons-material\";\r\nimport { Backdrop, CircularProgress, Typography } from \"@mui/material\";\r\n\r\nimport microsoft_yahei from \"fonts/chinese.msyh.ttf\";\r\nimport logoTitle from \"images/logo_title.png\";\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: \"100%\",\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  title: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  logo: {\r\n    marginLeft: \"auto\",\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: \"row\",\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: \"Microsoft Yahei\",\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: \"#0000ff\",\r\n    textDecoration: \"underline\",\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: \"justify\",\r\n    fontFamily: \"Times-Roman\",\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: \"0.5px solid #808080\",\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: \"0.5px solid #808080\",\r\n    flexDirection: \"row\",\r\n    minHeight: 15,\r\n    fontFamily: \"Microsoft Yahei\",\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: \"3px 5px\",\r\n    borderRight: \"0.5px solid #808080\",\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: \"Microsoft Yahei\",\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [quotation, setQuotation] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToQuotations: [],\r\n    DeskToQuotations: [],\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotation({ id, cancelToken: source.token });\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getDateNum = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${tmp.getFullYear()}${tmp.getMonth()}${tmp.getDate()}`;\r\n  };\r\n\r\n  const getQuotation = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/quotation/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setSuccess(true);\r\n        setQuotation(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <View style={styles.header}>\r\n            <View>\r\n              <Text style={styles.title}>Quotation</Text>\r\n              <Text>Date: {getDateString(quotation.createdAt)}</Text>\r\n              <Text>\r\n                {`No: Q-${quotation.Seller.prefix}${getDateNum(\r\n                  quotation.createdAt\r\n                )}${(\"000\" + quotation.quotationNum).substr(-3)}`}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.logo}>\r\n              <Image src={logoTitle} />\r\n            </View>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean International (HK) Ltd.</Text>\r\n              <Text>23/F</Text>\r\n              <Text>Lockhart Centre</Text>\r\n              <Text>301-307 Locakhart Rd</Text>\r\n              <Text>Wanchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {quotation.name}</Text>\r\n              {quotation.unit ? <Text>Unit {quotation.unit}</Text> : null}\r\n              {quotation.floor ? <Text>Floor {quotation.floor}</Text> : null}\r\n              {quotation.block ? <Text>Block {quotation.block}</Text> : null}\r\n              <Text>{quotation.street}</Text>\r\n              <Text>{quotation.district}</Text>\r\n              <Text>Phone: {quotation.phone}</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>{quotation.email}</Tspan>\r\n              </Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"Salesperson\", width: \"15%\" },\r\n                  { content: \"Proposed Delivery Date\", width: \"55%\" },\r\n                  { content: \"Payment Terms\", width: \"15%\" },\r\n                  { content: \"Valid Til\", textAlign: \"right\", width: \"15%\" },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: `${quotation.Seller.firstName} ${quotation.Seller.lastName}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content:\r\n                      (quotation.timeLine % 7 === 0\r\n                        ? `Est ${quotation.timeLine / 7} working week${\r\n                            quotation.timeLine / 7 === 1 ? \"\" : \"s\"\r\n                          } after payment`\r\n                        : `Est ${quotation.timeLine} working day${\r\n                            quotation.timeLine === 1 ? \"\" : \"s\"\r\n                          } after payment`) + '\\n' + `${quotation.remark}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  { content: quotation.paymentTerms, width: \"15%\" },\r\n                  {\r\n                    content: `${quotation.validTil} month${\r\n                      quotation.validTil === 1 ? \"\" : \"s\"\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: \"QTY\", width: \"15%\" },\r\n                  { content: \"Description\", width: \"55%\" },\r\n                  { content: \"Unit Price\", width: \"15%\" },\r\n                  {\r\n                    content: \"Line Total (HKD)\",\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n                backgroundColor: \"#dbe5f1\",\r\n                textTransform: \"uppercase\",\r\n              },\r\n              ...quotation.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Chair Brand: ${item.brand}\r\n                      Chair Model: ${item.model}\\n${item.withHeadrest ? \"With Headrest\" : \"Without Headrest\"}\r\n                      ${item.withAdArmrest ? \"With Adjustable Armrest\" : \"Without Adjustable Armrest\"}\r\n                      Specification: ${item.ChairToQuotation.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(item.ChairToQuotation.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToQuotation.unitPrice *\r\n                      item.ChairToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.DeskToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `Desk Model: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                    }\r\n                    Color of Legs: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                    }\r\n                    ArmSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                    }\r\n                    FeetSize: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                    }\r\n                    Beam Size: ${\r\n                      quotation.DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                    }\r\n                    ${\r\n                      item.hasDeskTop\r\n                        ? `Table Top: ${item.topMaterial}\r\n                        Table Top Size: ${item.topLength}x${item.topWidth}x${\r\n                            item.topThickness\r\n                          }\r\n                        Table Top Color: ${item.topColor}${\r\n                            item.topRoundedCorners === 0\r\n                              ? \"\"\r\n                              : `\\nRounded Corners: ${item.topRoundedCorners}, Radius: R${item.topCornerRadius}`\r\n                          }${\r\n                            item.topHoleCount === 0\r\n                              ? \"\"\r\n                              : `\\nHoles Required: ${item.topHoleCount}, Hole Position: ${item.topHolePosition}, Holes Shaped: ${item.topHoleType}`\r\n                          }\r\n                        Specification: ${item.remark}\r\n                        Other Remark: ${quotation.DeskStocks.find((stock) => stock.id === item.stockId).remark}`\r\n                        : \"Without DeskTop\"\r\n                    }\r\n                    ${JSON.parse(item.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.unitPrice * item.qty}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.qty}`,\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.name}\\nAccessory Category: ${item.category }\r\n                      Specification: ${item.AccessoryToQuotation.remark}\r\n                      Other Remark: ${item.remark}\r\n                      ${JSON.parse(item.AccessoryToQuotation.deliveryOption)}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.unitPrice}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToQuotation.unitPrice *\r\n                      item.AccessoryToQuotation.qty\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.ServiceToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: \"1\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.description}`,\r\n                    width: \"55%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    quotation.ChairStocks.length -\r\n                    quotation.DeskStocks.length -\r\n                    quotation.AccessoryStocks.length -\r\n                    quotation.ServiceToQuotations.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"55%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                  { content: \"\", width: \"15%\" },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SUBTOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"DISCOUNT\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"SURCHARGE\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                    borderBottom: \"0.5px solid #808080\",\r\n                  },\r\n                ],\r\n                borderBottom: \"none\",\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: \"70%\",\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: \"TOTAL\", width: \"15%\" },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskToQuotations.length\r\n                        ? quotation.DeskToQuotations.map(\r\n                            (item) => item.unitPrice * item.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) -\r\n                      (quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100) +\r\n                      (quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100)\r\n                    }`,\r\n                    textAlign: \"right\",\r\n                    width: \"15%\",\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? \"none\" : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? \"none\" : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: \"absolute\",\r\n                width: \"70%\",\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              Blueocean International (HK) Ltd. \\r\\n\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: \"row\", margin: \"5px 0\" }}>\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  margin: \"0 10px 0 0\",\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>•</Text>\r\n              </View>\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: \"5px\",\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            // `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            // `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC`,\r\n            `Okamura Chairs: 10 years for structural defective parts, under regular usage by Okamura (China) Co. Ltd, for details please refer to our website FAQ section.`,\r\n            // `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: \"row\", marginLeft: \"10px\" }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: \"5px 10px 0 0\",\r\n                  backgroundColor: \"#888888\",\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: \"#888888\",\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Agreement to this quotation represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: \"#888888\",\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 12,\r\n              fontWeight: \"bold\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid quotation url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import axios from 'axios';\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/user/login', data)\r\n      .then((response) => {\r\n        // handle success\r\n        const { token, type } = response.data;\r\n        const isAdmin = type === 'admin' ? true : false;\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        dispatch({ type: 'auth/loginSuccess', payload: { token, isAdmin } });\r\n        resolve();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        reject(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: 'auth/logout' });\r\n};\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport { login } from 'services/auth.service';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    props\r\n      .login({\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n      })\r\n      .then()\r\n      .catch((err) => {\r\n        form.password.value = '';\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Login Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx = {{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src = {LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx = {{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box\r\n          maxWidth = \"sm\"\r\n          width = \"100%\"\r\n          component = \"form\"\r\n          onSubmit = {handleSubmit}\r\n          noValidate\r\n          sx = {{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type = \"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx = {{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Link,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    axios\r\n      .post('user/register', {\r\n        firstName: data.get('firstName'),\r\n        lastName: data.get('lastName'),\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n        prefix: data.get('prefix'),\r\n        type: data.get('type'),\r\n      })\r\n      .then(() => {\r\n        // handle success\r\n        props.history.push('/signin');\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'SignUp Success',\r\n          html: `Your account was successfully registered.<br>You can use your account once Adminstrator allows.`,\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        // handle error\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'SignUp Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                autoComplete=\"fname\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"Last Name\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"prefix\"\r\n                label=\"Prefix\"\r\n                type=\"text\"\r\n                autoComplete=\"prefix\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                  Type\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"user-type-select-label\"\r\n                  id=\"user-type-select\"\r\n                  defaultValue=\"\"\r\n                  name=\"type\"\r\n                  label=\"Type\"\r\n                >\r\n                  <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                  <MenuItem value=\"driver\">Driver</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                {'Already have an account? Sign In'}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@mui/material';\r\nimport { Menu as MenuIcon } from '@mui/icons-material';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AppHeader = ({\r\n  component: Component,\r\n  auth,\r\n  drawerHeight,\r\n  handleDrawerToggle,\r\n  title,\r\n  ...rest\r\n}) => (\r\n  <AppBar\r\n    position=\"static\"\r\n    sx={{\r\n      backgroundColor: '#5664d2',\r\n      flexBasis: `${drawerHeight}px`,\r\n      maxHeight: `${drawerHeight}px`,\r\n    }}\r\n  >\r\n    <Toolbar variant=\"dense\">\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        sx={{ mr: 2, display: { sm: 'none' } }}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap component=\"div\">\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n);\r\n\r\nAppHeader.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  drawerHeight: PropTypes.number.isRequired,\r\n  handleDrawerToggle: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppHeader);\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n    overflow: 'auto',\r\n    '&::-webkit-scrollbar': {\r\n      width: 8,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#6b778c',\r\n      borderRadius: 4,\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({ drawerWidth, handleLogout, lists }) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Box\r\n      className = {classes.root}\r\n      sx = {{\r\n        display: { xs: 'none', sm: 'block' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                activeClassName=\"active\"\r\n                {...listitem}\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem button className={classes.navlink} onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Collapse,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({\r\n  drawerWidth,\r\n  handleLogout,\r\n  handleDrawerClose,\r\n  lists,\r\n  mobileOpen,\r\n}) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"temporary\"\r\n      open={mobileOpen}\r\n      onClose={handleDrawerClose}\r\n      ModalProps={{\r\n        keepMounted: true, // Better open performance on mobile.\r\n      }}\r\n      PaperProps={{\r\n        className: classes.root,\r\n      }}\r\n      sx={{\r\n        display: { xs: 'block', sm: 'none' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key = {`list-${listIndex}`}>\r\n          { list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null }\r\n          { list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key = { `listitem-${itemIndex}` }\r\n                  button\r\n                  className = {classes.navlink}\r\n                  onClick = { () => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key = { `listcollapse-${itemIndex}` }\r\n                  in = { expIndex === itemIndex && expList === listIndex }\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key = {`listitem-${itemIndex}`}\r\n                {...listitem}\r\n                activeClassName = \"active\"\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem\r\n          button\r\n          className = {classes.navlink}\r\n          onClick = {(e) => {\r\n            handleDrawerClose(e);\r\n            handleLogout(e);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary = \"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  handleDrawerClose: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n  mobileOpen: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { alpha } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  tableCellClasses,\r\n  TableSortLabel,\r\n} from '@mui/material';\r\nimport { grey, teal } from '@mui/material/colors';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from '@mui/icons-material';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\n// This method is created for cross-browser compatibility, if you don't\r\n// need to support IE11, you can use Array.prototype.sort() directly\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    columns,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    nonSelect,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {!nonSelect && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{\r\n                'aria-label': 'select all desserts',\r\n              }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {columns.map(({ id, label, nonSort, sx, ...restProps }) => (\r\n          <TableCell\r\n            key={id}\r\n            align=\"left\"\r\n            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n            sortDirection={orderBy === id ? order : false}\r\n            {...restProps}\r\n          >\r\n            {nonSort ? (\r\n              label\r\n            ) : (\r\n              <TableSortLabel\r\n                active={orderBy === id}\r\n                direction={orderBy === id ? order : 'asc'}\r\n                onClick={createSortHandler(id)}\r\n                IconComponent={ArrowDropDownIcon}\r\n              >\r\n                {label}\r\n              </TableSortLabel>\r\n            )}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  columns: PropTypes.arrayOf(Object).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const { title, numSelected, onBulkEditClick, onBulkRemoveClick } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      sx={{\r\n        pl: { sm: 2 },\r\n        pr: { xs: 1, sm: 1 },\r\n        ...(numSelected > 0 && {\r\n          bgcolor: (theme) =>\r\n            alpha(\r\n              theme.palette.primary.main,\r\n              theme.palette.action.activatedOpacity\r\n            ),\r\n        }),\r\n      }}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          {title}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 && (\r\n        <>\r\n          {onBulkEditClick && (\r\n            <Tooltip title=\"Edit\">\r\n              <IconButton onClick={onBulkEditClick}>\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n          {onBulkRemoveClick && (\r\n            <Tooltip title=\"Delete\">\r\n              <IconButton onClick={onBulkRemoveClick}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  title: PropTypes.string,\r\n  numSelected: PropTypes.number,\r\n  onBulkEditClick: PropTypes.func,\r\n  onBulkRemoveClick: PropTypes.func,\r\n};\r\n\r\nconst useDataGridStyles = makeStyles((theme) => ({\r\n  table: {\r\n    [`& .MuiTableCell-root.${tableCellClasses.head}`]: {\r\n      backgroundColor: teal[400],\r\n      '&, & *': { color: teal[50] },\r\n      fontSize: 16,\r\n      fontWeight: 600,\r\n    },\r\n    [`& .MuiTableCell-root.${tableCellClasses.body}`]: {\r\n      fontSize: 14,\r\n    },\r\n    '& .MuiTableRow-root': {\r\n      height: 40,\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: grey[50],\r\n      },\r\n      '&:last-child td, &:last-child th': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst DataGrid = (props) => {\r\n  const {\r\n    title,\r\n    columns,\r\n    nonSelect,\r\n    onBulkEditClick,\r\n    onBulkRemoveClick,\r\n    rows,\r\n  } = props;\r\n\r\n  const classes = useDataGridStyles();\r\n\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('index');\r\n  const [selected, setSelected] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [rowsLength, setRowsLength] = useState(rows.length)\r\n\r\n  const prevRows = useRef();\r\n\r\n  useEffect(() => {\r\n    if (prevRows.current !== rows.map((tmp) => tmp.id).join(',')) {\r\n      prevRows.current = rows.map((tmp) => tmp.id).join(',');\r\n      setSelected(\r\n        selected.filter((item) => rows.map((row) => row.id).includes(item))\r\n      );\r\n    }\r\n\r\n    if (rows.length !== rowsLength) {\r\n      setPage(0);\r\n      setRowsLength(rows.length)\r\n    }\r\n  }, [rows, selected]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  // Avoid a layout jump when reaching the last page with empty rows.\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mt: 2 }}>\r\n        <EnhancedTableToolbar\r\n          title={title}\r\n          numSelected={selected.length}\r\n          onBulkEditClick={\r\n            onBulkEditClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkEditClick(selected);\r\n              }\r\n              : null\r\n          }\r\n          onBulkRemoveClick={\r\n            onBulkRemoveClick\r\n              ? (event) => {\r\n                event.preventDefault();\r\n                onBulkRemoveClick(selected);\r\n              }\r\n              : null\r\n          }\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            sx={{ minWidth: 750 }}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              columns={columns}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              nonSelect={nonSelect}\r\n              rowCount={rows.length}\r\n            />\r\n            <TableBody>\r\n              {/* if you don't need to support IE11, you can replace the `stableSort` call with:\r\n                 rows.slice().sort(getComparator(order, orderBy)) */}\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={index}\r\n                      selected={isItemSelected}\r\n                      style={row.bkColor === 1 ? { backgroundColor: \"#cccccc\"} : {}}\r\n                    >\r\n                      {!nonSelect && (\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            onClick={(event) => handleClick(event, row.id)}\r\n                            color=\"primary\"\r\n                            checked={isItemSelected}\r\n                            inputProps={{\r\n                              'aria-labelledby': labelId,\r\n                            }}\r\n                          />\r\n                        </TableCell>\r\n                      )}\r\n\r\n                      {columns.map(\r\n                        (\r\n                          { id, label, nonSort, sx, ...restProps },\r\n                          filedIndex\r\n                        ) => (\r\n                          <TableCell\r\n                            key={filedIndex}\r\n                            component=\"th\"\r\n                            id={filedIndex === 0 ? labelId : ''}\r\n                            scope=\"row\"\r\n                            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n                            {...restProps}\r\n                          >\r\n                            {id === 'index' ? row[id] + 1 : row[id]}\r\n                          </TableCell>\r\n                        )\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow\r\n                  style={{\r\n                    height: 33 * emptyRows,\r\n                  }}\r\n                >\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nDataGrid.propTypes = {\r\n  title: PropTypes.string,\r\n  nonSelect: PropTypes.bool,\r\n  columns: PropTypes.array.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  onBulkRemoveClick: PropTypes.func,\r\n  onBulkEditClick: PropTypes.func,\r\n};\r\n\r\nexport default DataGrid;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FormControl,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'email',\r\n    label: 'Email',\r\n  },\r\n  {\r\n    id: 'firstName',\r\n    label: 'First Name',\r\n  },\r\n  {\r\n    id: 'lastName',\r\n    label: 'Last Name',\r\n  },\r\n  {\r\n    id: 'type',\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'prefix',\r\n    label: 'Prefix',\r\n  },\r\n  {\r\n    id: 'isActive',\r\n    label: 'Active',\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'edit',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const [id, setID] = useState('');\r\n  const [formProps, setFormProps] = useState([]);\r\n  const [type, setType] = useState('');\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      setID(users[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'email',\r\n          defaultValue: users[index].email,\r\n          label: 'Email',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'firstName',\r\n          defaultValue: users[index].firstName,\r\n          label: 'First Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'lastName',\r\n          defaultValue: users[index].lastName,\r\n          label: 'Last Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'prefix',\r\n          defaultValue: users[index].prefix,\r\n          label: 'Prefix',\r\n          width: '100%',\r\n        },\r\n      ]);\r\n      setType(users[index].type);\r\n    }\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current account permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep this account.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/user/${users[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getUsers();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairColors permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/user', { data: { ids: selected } })\r\n          .then((response) => {\r\n            // handle success\r\n            getUsers();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    new axios.put(`/user/${id}`, {\r\n      email: data.get('email'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n      type: type,\r\n      prefix: data.get('prefix'),\r\n    })\r\n      .then((response) => {\r\n        // handle success\r\n        setEditOpen(false);\r\n        getUsers();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEditOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEditOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getUsers = (cancelToken) => {\r\n    axios\r\n      .get('/user', { cancelToken: cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setUsers(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let source = axios.CancelToken.source();\r\n    getUsers(source.token);\r\n    return () => source.cancel('Users Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <DataGrid\r\n        title=\"Users\"\r\n        rows={users.map(({ isActive, ...restProps }, index) => ({\r\n          index,\r\n          isActive: (\r\n            <Checkbox\r\n              checked={isActive}\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                axios\r\n                  .put(`/user/${restProps.id}`, {\r\n                    isActive: !isActive,\r\n                  })\r\n                  .then(() => {\r\n                    getUsers();\r\n                  })\r\n                  .catch(function (error) {\r\n                    // handle error\r\n                    Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Error',\r\n                      text: error.response.data.message,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  })\r\n                  .then(function () {\r\n                    // always executed\r\n                  });\r\n              }}\r\n            />\r\n          ),\r\n          edit: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleEditClick(index);\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          ),\r\n          delete: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleRemoveClick(index);\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          ),\r\n          ...restProps,\r\n        }))}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        open={editOpen}\r\n        PaperProps={{ component: 'form', onSubmit: handleSave }}\r\n      >\r\n        <DialogTitle>Edit User</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <DialogContentText>\r\n              Please Edit the User information and Click Save button.\r\n            </DialogContentText>\r\n            {formProps.map(({ width, ...restProps }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            ))}\r\n            <FormControl>\r\n              <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                Type\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"user-type-select-label\"\r\n                id=\"user-type-select\"\r\n                value={type}\r\n                label=\"Type\"\r\n                onChange={(event) => {\r\n                  event.preventDefault();\r\n                  setType(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"admin\">Admin</MenuItem>\r\n                <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                <MenuItem value=\"driver\">Driver</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop: 30,\r\n      marginRight: 20,\r\n      width: '40%',\r\n      float: \"right\"\r\n    },\r\n    indeterminateColor: {\r\n      color: \"#f50057\"\r\n    },\r\n    selectAllText: {\r\n      fontWeight: 500\r\n    },\r\n    selectedAll: {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.08)\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.08)\"\r\n      }\r\n    }\r\n  }));\r\n  \r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 1;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250\r\n      }\r\n    },\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\"\r\n    },\r\n    transformOrigin: {\r\n      vertical: \"top\",\r\n      horizontal: \"center\"\r\n    },\r\n    variant: \"menu\"\r\n};\r\n\r\nfunction CheckableMultiSelect(props) {\r\n    const { options, onChange, selected } = props\r\n    const classes = useStyles();\r\n    // const [selected, setSelected] = useState([]);\r\n    const isAllSelected =\r\n        options.length > 0 && selected.length === options.length;\r\n\r\n    const handleChange = (event) => {\r\n        const value = event.target.value;\r\n        if (value[value.length - 1] === \"all\") {\r\n            onChange(selected.length === options.length ? [] : options);\r\n        return;\r\n        }\r\n        onChange(value);\r\n    };\r\n\r\n    return (\r\n        <FormControl className={classes.formControl} variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"mutiple-select-label\">Select columns</InputLabel>\r\n            <Select\r\n                multiple\r\n                value={selected}\r\n                onChange={handleChange}\r\n                renderValue={(selected) => selected.join(\", \")}\r\n                MenuProps={MenuProps}\r\n                label=\"Select columns\"\r\n                size=\"normal\"\r\n            >\r\n                <MenuItem\r\n                value=\"all\"\r\n                classes={{\r\n                    root: isAllSelected ? classes.selectedAll : \"\"\r\n                }}\r\n                >\r\n                <ListItemIcon>\r\n                    <Checkbox\r\n                    classes={{ indeterminate: classes.indeterminateColor }}\r\n                    checked={isAllSelected}\r\n                    indeterminate={\r\n                        selected.length > 0 && selected.length < options.length\r\n                    }\r\n                    />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    classes={{ primary: classes.selectAllText }}\r\n                    primary=\"Select All\"\r\n                />\r\n                </MenuItem>\r\n                {options.map((option) => (\r\n                <MenuItem key={option} value={option}>\r\n                    <ListItemIcon>\r\n                    <Checkbox checked={selected.indexOf(option) > -1} />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={option} />\r\n                </MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nexport default CheckableMultiSelect;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"brand\",\r\n          label: \"Brand\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].brand,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"model\",\r\n          label: \"Model\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].model,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"frameColor\",\r\n          label: \"Frame Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].frameColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backColor\",\r\n          label: \"Back Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"seatColor\",\r\n          label: \"Seat Color\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatColor,\r\n          width: \"30%\",\r\n        },\r\n        {\r\n          name: \"backMaterial\",\r\n          label: \"Back Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].backMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"seatMaterial\",\r\n          label: \"Seat Material\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].seatMaterial,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Other Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"withHeadrest\",\r\n          label: \"Headrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"withAdArmrest\",\r\n          label: \"Adjustable Armrest\",\r\n          type: \"checkbox\",\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current ChairStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected ChairStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/chairStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get(\"brand\"),\r\n        model: data.get(\"model\"),\r\n        frameColor: data.get(\"frameColor\"),\r\n        backColor: data.get(\"backColor\"),\r\n        seatColor: data.get(\"seatColor\"),\r\n        backMaterial: data.get(\"backMaterial\"),\r\n        seatMaterial: data.get(\"seatMaterial\"),\r\n        withHeadrest: Boolean(data.get(\"withHeadrest\")),\r\n        withAdArmrest: Boolean(data.get(\"withAdArmrest\")),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"brand\",\r\n              label: \"Brand\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"model\",\r\n              label: \"Model\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"frameColor\",\r\n              label: \"Frame Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backColor\",\r\n              label: \"Back Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"seatColor\",\r\n              label: \"Seat Color\",\r\n              type: \"text\",\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"backMaterial\",\r\n              label: \"Back Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"seatMaterial\",\r\n              label: \"Seat Material\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Other Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"withHeadrest\",\r\n              label: \"Headrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"withAdArmrest\",\r\n              label: \"Adjustable Armrest\",\r\n              type: \"checkbox\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", e.target.files[0]);\r\n                await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: \"Brand\",\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: \"Model\",\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect\r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns}\r\n      />\r\n      <DataGrid\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: \"5px\" }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n              withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || \"No\",\r\n              arrivalDate: arrivalDate || \"No\",\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 5 && i < 16) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label)              )\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Supplier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Other Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Supplier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Other Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: 'none' }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append('file', e.target.files[0]);\r\n                await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else\r\n                return undefined\r\n            }\r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"delete\",\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState(\"create\");\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState(\"\");\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  // const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: \"name\",\r\n          label: \"Name\",\r\n          type: \"text\",\r\n          defaultValue: stocks[index].name,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"category\",\r\n          label: \"Category\",\r\n          type: \"select\",\r\n          defaultValue: stocks[index].category,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"remark\",\r\n          label: \"Other Remark\",\r\n          multiline: true,\r\n          type: \"text\",\r\n          defaultValue: stocks[index].remark,\r\n          width: \"100%\",\r\n        },\r\n        {\r\n          name: \"shipmentDate\",\r\n          label: \"Shipment Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: \"48%\",\r\n        },\r\n        {\r\n          name: \"arrivalDate\",\r\n          label: \"Arrival Date\",\r\n          type: \"date\",\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: \"48%\",\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode(\"edit\");\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current AccessoryStock permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected AccessoryStocks permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/accessoryStock\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          html: error.response.data.message.replace(\"\\n\", \"<br />\"),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = \"\";\r\n    if (data.get(\"thumbnail\").name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append(\"file\", data.get(\"thumbnail\"));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        name: data.get(\"name\"),\r\n        category: data.get(\"category\"),\r\n        remark: data.get(\"remark\"),\r\n        thumbnailURL,\r\n        unitPrice: data.get(\"unitPrice\"),\r\n        shipmentDate: data.get(\"shipmentDate\") || null,\r\n        arrivalDate: data.get(\"arrivalDate\") || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setFeatures(response.data);\r\n        console.log(\"Feature commented\");\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"category\",\r\n              label: \"Category\",\r\n              type: \"select\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"remark\",\r\n              label: \"Remark\",\r\n              type: \"text\",\r\n              width: \"100%\",\r\n            },\r\n            {\r\n              name: \"shipmentDate\",\r\n              label: \"Shipment Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"arrivalDate\",\r\n              label: \"Arrival Date\",\r\n              type: \"date\",\r\n              width: \"48%\",\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode(\"create\");\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            shipmentDate: shipmentDate || \"No\",\r\n            arrivalDate: arrivalDate || \"No\",\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: formMode === \"create\" ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === \"create\" ? \"New Stock\" : \"Edit Stock\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: \"5px\",\r\n              p: \"10px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"text\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"date\") {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === \"checkbox\") {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id=\"category_select\">Category</InputLabel>\r\n                    <Select labelId=\"category_select\" {...restParams}>\r\n                      <MenuItem value=\"Desk Accessories\">\r\n                        Desk Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Chair Accessories\">\r\n                        Chair Accessories\r\n                      </MenuItem>\r\n                      <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                      <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                      <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                      <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n              inputProps={{\r\n                accept: \"image/png, image/gif, image/jpeg\",\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: [\"100%\", \"48%\"],\r\n                minWidth: [\"100%\", \"48%\"],\r\n                alignItems: \"baseline\",\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: \"10px 5px 0 0\" }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: [\"100%\", \"48%\"], minWidth: [\"100%\", \"48%\"] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: \"80px\", mx: \"5px\" }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === \"create\" ? \"Create\" : \"Save\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"invoiceNum\",\r\n    label: \"Invoice\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"orderDate\",\r\n    label: \"Order\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"isPreOrder\",\r\n    label: \"PreOrder\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"receiptIcon\",\r\n    nonSort: true,\r\n    label: \"Receipt\",\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  // {\r\n  //   id: \"shipment\",\r\n  //   label: \"Shipment\",\r\n  //   nonSort: true,\r\n  //   align: \"center\",\r\n  //   sx: { maxWidth: 100, width: 100 },\r\n  // },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Email\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"Phone\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"PreOrder\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Receipt\",\r\n  \"Email\",\r\n  \"Phone\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Order permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/sales/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Orders permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/sales\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get(\"/sales\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        let orders = [];\r\n        response.data.map(item => {\r\n          let order = item;\r\n          order.isSentToShipment = false;\r\n          if (order.AccessoryToOrders.length !== 0 && order.AccessoryToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.ChairToOrders.length !== 0 && order.ChairToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n          if (order.DeskToOrders.length !== 0 && order.DeskToOrders[0].shipmentId != null)\r\n            order.isSentToShipment = true;\r\n\r\n          orders.push(order);\r\n          return item;\r\n        });\r\n        setOrders(orders);\r\n        setInitOrders(orders);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/sales/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <CheckableMultiSelect\r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns}\r\n      />\r\n      <DataGrid\r\n        title=\"Sales Order\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              isSentToShipment,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n                (!orders[index].DeskStocks.length ||\r\n                  !orders[index].DeskStocks.reduce(\r\n                    (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                  ))\r\n                ? \"No\"\r\n                : \"Yes\",\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/sales/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink to={`/invoice/${id}`} target=\"_blank\">\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            // shipment: (\r\n            //   <Button color=\"primary\" disabled={isSentToShipment} onClick={() => createSingleOrder(id)}>Single</Button>\r\n            // ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/sales/edit\",\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label))\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column;\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${orders[orderIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\" rel=\"noreferrer\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input name=\"id\" type=\"hidden\" value={item.id} />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: \"5px\" }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: \"100%\",\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        marginTop: \"10px\",\r\n                        padding: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: \"100%\",\r\n                          my: \"5px\",\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: \"48%\", my: \"5px\" }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post(\"/sales/products\", {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n  const [remark, setRemark] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n      Object.assign(service, { productType: \"misc\" })\r\n    )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductId(item.id);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", width: \"100%\", defaultValue: initialClient.name, required: true },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\" },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\" },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\" },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\" },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\" },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\" },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\" },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                          }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                  chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            // let frameColor =\r\n                            //   chairStocks[index].frameColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].frameColor;\r\n                            // let seatColor =\r\n                            //   chairStocks[index].seatColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].seatColor;\r\n                            // let backColor =\r\n                            //   chairStocks[index].backColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].backColor;\r\n                            // let remark =\r\n                            //   \"FrameColor:\" +\r\n                            //   frameColor +\r\n                            //   \", SeatColor:\" +\r\n                            //   seatColor +\r\n                            //   \", BackColor:\" +\r\n                            //   backColor;\r\n                            // setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductId(\"\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductId(\"\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/sales/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {  // componentType === \"edit\"\r\n            axios\r\n              .put(`/sales/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: 'error.response.data.message',\r\n                  allowOutsideClick: false,\r\n                }).then(() => { });\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              width: \"500px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={(e) => setProductRemark(e.target.value)}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}            \r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) { }\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType !== \"desk\" ||\r\n                  item.id !== productId\r\n                )\r\n                  return item;\r\n\r\n                return {\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                };\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                      \"Left\",\r\n                      \"Right\",\r\n                      \"Center\",\r\n                      \"Left_Right\",\r\n                      \"Left_Right_Center\",\r\n                    ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"left\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\"}}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box >\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    DeskToOrders,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    remark,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n        remark,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = { ServiceToOrders }\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/sales\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"quotationNum\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Client\",\r\n  },\r\n  {\r\n    id: \"seller\",\r\n    label: \"Seller\",\r\n  },\r\n  {\r\n    id: \"quotationDate\",\r\n    label: \"Quotation\",\r\n  },\r\n  {\r\n    id: \"clientAddress\",\r\n    label: \"Address\",\r\n  },\r\n  {\r\n    id: \"timeLine\",\r\n    label: \"TimeLine\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Remark\",\r\n  },\r\n  {\r\n    id: \"discount\",\r\n    label: \"Discount\",\r\n  },\r\n  {\r\n    id: \"surcharge\",\r\n    label: \"SurCharge\",\r\n  },\r\n  {\r\n    id: \"products\",\r\n    label: \"Products\",\r\n  },\r\n  {\r\n    id: \"paid\",\r\n    label: \"Paid\",\r\n  },\r\n  {\r\n    id: \"emailIcon\",\r\n    nonSort: true,\r\n    label: \"Con\",\r\n    align: \"right\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: \"whatsappIcon\",\r\n    nonSort: true,\r\n    label: \"tact\",\r\n    align: \"left\",\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: \"delete\",\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  \"Address\",\r\n  \"TimeLine\",\r\n  \"Remark\",\r\n  \"Discount\",\r\n  \"SurCharge\",\r\n  \"Products\",\r\n  \"Paid\",\r\n  \"Con\",\r\n  \"tact\",\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"whatsapp/send\", {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post(\"email/send\", {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Error\",\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current Quotation permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"This action will remove selected Quotations permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Remove!\",\r\n      cancelButtonText: \"No, Keep Them.\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete(\"/quotation\", {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: \"error\",\r\n              title: \"Error\",\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            ).concat(\r\n              quotation.ServiceToQuotations.map(\r\n                ({ description, id, price }) => ({\r\n                  productType: \"misc\",\r\n                  id: id,\r\n                  price: price,\r\n                  description: description\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/sales/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail?.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/admin/sales\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => { });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get(\"/quotation\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel(\"Brand Component got unmounted\");\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect\r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns}\r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || \"\").concat(\" \", Seller.lastName || \"\"),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? \"\" : \"s\"}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? \"\" : \"s\"}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? \" HKD\" : \"%\"}`,\r\n            surcharge: `${surcharge}${surchargeType ? \" HKD\" : \"%\"}`,\r\n            clientAddress: [district, street, block, floor, unit].join(\", \"),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: \"5px\" }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: \"error\",\r\n                        title: \"Error\",\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink to={`/quotation/${id}`} target=\"_blank\">\r\n                {quotationNum}\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get(\"whatsapp/checkauth\")\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get(\"whatsapp/getqr\")\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: \"info\",\r\n                            title:\r\n                              \"Please signin with this QRCode and Click the button again.\",\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Error\",\r\n                            text: \"Unable to use WhatsApp Messaging.\",\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: \"/admin/quotation/edit\",\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns\r\n          .map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find((hideColumn) => hideColumn === column.label)              )\r\n                return column;\r\n              else\r\n                return undefined;\r\n            }\r\n            return column;\r\n          })\r\n          .filter((column) => column !== undefined)}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={[\"hk\"]}\r\n              defaultCountry={\"hk\"}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            // onChange={(e) => {\r\n            //   setWhatsAppMessage(e.target.value);\r\n            // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"}${item.withAdArmrest ? \"Armrest\" : \"\"\r\n                      }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk:\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                      (stock) => stock.id === item.stockId\r\n                    ).supplierCode\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).model\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).color\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).armSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).feetSize\r\n                      },\r\n                      ${quotations[quotationIndex].DeskStocks.find(\r\n                        (stock) => stock.id === item.stockId\r\n                      ).beamSize\r\n                      }`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial},\r\n                            ${item.topColor},\r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness},\r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius},\r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a href={item.topSketchURL} target=\"_blank\" rel=\"noreferrer\">\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        \"Without DeskTop\"\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  console.log(\"cart----\", cart);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", defaultValue: initialClient.name, width: \"100%\", required: true, },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\", },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\", },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\", },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\", },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\", },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\", },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\", },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/admin/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'brand', label: 'Brand' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'frameColor', label: 'FColor' },\r\n  { id: 'backColor', label: 'BColor' },\r\n  { id: 'seatColor', label: 'SColor' },\r\n  { id: 'withHeadrest', label: 'Headrest' },\r\n  { id: 'withAdArmrest', label: 'Armrest' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/chair`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allChair', props)\r\n      .then((response) => {\r\n        // handle \r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Chair Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, ChairStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            brand: ChairStock === null ? '' : ChairStock.brand,\r\n            model: ChairStock === null ? '' : ChairStock.model,\r\n            frameColor: ChairStock === null ? '' : ChairStock.frameColor,\r\n            backColor: ChairStock === null ? '' : ChairStock.backColor,\r\n            seatColor: ChairStock === null ? '' : ChairStock.seatColor,\r\n            withHeadrest: ChairStock === null ? 'No' : ChairStock.withHeadrest ? 'Yes' : 'No',\r\n            withAdArmrest: ChairStock === null ? 'No' : ChairStock.withAdArmrest ? 'Yes' : 'No',\r\n            remark: ChairStock === null ? '' : ChairStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/chair/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'akNum', label: 'AK #', sx: { minWidth: 100 } },\r\n  { id: 'heworkNum', label: 'Hework #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'color', label: 'Color' },\r\n  { id: 'armSize', label: 'Arm Size' },\r\n  { id: 'feetSize', label: 'Feet Size' },\r\n  { id: 'beamSize', label: 'Beam Size' },\r\n  { id: 'deskTop', label: 'Table Top' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'akNum',\r\n          label: 'AK #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].akNum,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'heworkNum',\r\n          label: 'Hework #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].heworkNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'akNum',\r\n        label: 'AK #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n      {\r\n        name: 'heworkNum',\r\n        label: 'Hework #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/desk`, {\r\n        ids,\r\n        akNum: data.get('akNum'),\r\n        heworkNum: data.get('heworkNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allDesk', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Desk Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, DeskStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            model: DeskStock === null ? \"\" : DeskStock.model,\r\n            color: DeskStock === null ? \"\" : DeskStock.color,\r\n            armSize: DeskStock === null ? \"\" : DeskStock.armSize,\r\n            feetSize: DeskStock === null ? \"\" : DeskStock.feetSize,\r\n            beamSize: DeskStock === null ? \"\" : DeskStock.beamSize,\r\n            deskTop: `${\r\n              restProps.hasDeskTop\r\n                ? `${restProps.topMaterial}, ${restProps.topColor}, ${restProps.topLength}x${restProps.topWidth}x${restProps.topThickness}, ${restProps.topRoundedCorners}-R${restProps.topCornerRadius}, ${restProps.topHoleCount}-${restProps.topHoleType}`\r\n                : 'Without DeskTop'\r\n            }`,\r\n            remark: DeskStock === null ? \"\" : DeskStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/desk/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit AK and Hework #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'category', label: 'Category' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/accessory`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allAccessory', props)\r\n      .then((response) => {\r\n        // handle success\r\n        const deliveries = response.data.filter(item => item.SalesOrder.paid===true)\r\n        setDeliveries(deliveries);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Accessory Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, AccessoryStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            category: AccessoryStock === null ? \"\" : AccessoryStock.category,\r\n            remark: AccessoryStock === null ? \"\" : AccessoryStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/accessory/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React from 'react';\r\n\r\nconst View = () => {\r\n    return (\r\n        <div>\r\n        \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default View;\r\n","import React from 'react';\r\n\r\nconst Create = () => {\r\n    return (\r\n        <div>\r\n           \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Create;\r\n","import React from 'react';\r\n\r\nconst Edit = () => {\r\n    return (\r\n        <div>\r\n           \r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\n// import { useTheme } from \"@mui/material/styles\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst columns = [\r\n    { id: \"poNum\", label: \"P.O. Number\" },\r\n    { id: \"orderDate\", label: \"Order Date\" },\r\n    { id: \"desc\", label: \"Description\" },\r\n    { id: \"qty\", label: \"Qty\" },\r\n    { id: \"finishDate\", label: \"Finish Date\" },\r\n    { id: \"invoice\", label: \"Invoice#\" },\r\n    { id: \"orderQty\", label: \"Order Qty\" },\r\n    { id: \"location\", label: \"Location\" },\r\n    { id: \"supplier\", label: \"Supplier\" },\r\n    { id: \"beam\", label: \"BEAM\" },\r\n    { id: \"akNum\", label: \"AK#\" },\r\n    { id: \"heworkNum\", label: \"Hework#\" },\r\n    { id: \"remark\", label: \"Remark\" },\r\n    { id: \"edit\", nonSort: true, sx: { maxWidth: 45, width: 45 } },\r\n    { id: \"delete\", nonSort: true, sx: { maxWidth: 45, width: 45 } },\r\n];\r\n\r\nconst defaultHiddenColumns = [\r\n    \"Invoice\",\r\n    \"Order Qty\",\r\n    \"Location\",\r\n    \"Supplier\",\r\n    \"BEAM\",\r\n    \"AK#\",\r\n    \"Hework#\",\r\n    \"Remark\",     \r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n//   const theme = useTheme();\r\n\r\n    const [shipments, setShipments] = useState([]);\r\n    const [initShipments, setInitShipments] = useState([]);\r\n    const [columnsToShow, setColumnsToShow] = useState([]);\r\n    const [searchPONumber, setsearchPONumber] = useState(\"\");\r\n    const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n    const onHideColumnChanged = (values) => {\r\n        setColumnsToShow(values);\r\n    };\r\n\r\n    const handleFilterClick = (e) => {\r\n        e.preventDefault();\r\n        if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n        else setFilterAnchor(null);\r\n    };\r\n\r\n    const handleRemoveClick = (index) => {\r\n    if (index < shipments.length && index >= 0) {\r\n        Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will remove current purchase permanently.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Remove!\",\r\n        cancelButtonText: \"No, Keep It.\",\r\n        allowOutsideClick: false,\r\n        }).then((result) => {\r\n        if (result.isConfirmed) {\r\n            axios\r\n            .delete(`/shipment/${shipments[index].id}`)\r\n            .then((response) => {\r\n                // handle success\r\n                getShipments();\r\n            })\r\n            .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n                });\r\n            });\r\n        }\r\n        });\r\n    }\r\n    };\r\n\r\n    const handleBulkRemoveClick = (selected) => {\r\n        Swal.fire({\r\n            title: \"Are you sure?\",\r\n            text: \"This action will remove selected shipments permanently.\",\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Yes, Remove!\",\r\n            cancelButtonText: \"No, Keep Them.\",\r\n            allowOutsideClick: false,\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n            axios\r\n                .delete(\"/shipments\", {\r\n                data: { ids: selected },\r\n                })\r\n                .then((response) => {\r\n                getShipments();\r\n                })\r\n                .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                    icon: \"error\",\r\n                    title: \"Error\",\r\n                    text: error.response.data.message,\r\n                    allowOutsideClick: false,\r\n                });\r\n                console.log(error);\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const getShipments = (cancelToken) => {\r\n        axios.get(\"/shipment\", { cancelToken })\r\n        .then((response) => {\r\n            let shipments = [];\r\n            response.data.map(item => {\r\n                let shipment = item;\r\n            //   order.isSentToShipment = false;\r\n            //   if (order.AccessoryToOrders.length !== 0 && order.AccessoryToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n            //   if (order.ChairToOrders.length !== 0 && order.ChairToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n            //   if (order.DeskToOrders.length !== 0 && order.DeskToOrders[0].shipmentId != null)\r\n            //     order.isSentToShipment = true;\r\n\r\n                shipments.push(shipment);\r\n                return shipment;\r\n            });\r\n\r\n            setShipments(shipments);\r\n            setInitShipments(shipments);\r\n        })\r\n        .catch(function (error) {\r\n            // handle error\r\n            console.log(error);\r\n        })\r\n        .then(function () {\r\n            // always executed\r\n        });\r\n    };\r\n\r\n    const onKeyPressed = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            const searchedShipments = initShipments\r\n            .filter((shipment) =>\r\n                shipment.poNum\r\n                    .toString()\r\n                    .toLowerCase()\r\n                    .includes(searchPONumber.toLowerCase())\r\n            )\r\n            setShipments(searchedShipments);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const source = axios.CancelToken.source();\r\n        getShipments(source.token);\r\n        return () => source.cancel(\"Brand Component got unmounted\");\r\n    }, []);\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n            height: \"100%\",\r\n            overflow: \"auto\",\r\n            padding: \"10px 20px\",\r\n            }}\r\n        >\r\n            <Button\r\n                component={RouterLink}\r\n                to=\"/admin/shipment/create\"\r\n                startIcon={<AddIcon />}\r\n                >\r\n                New Shipment\r\n            </Button>\r\n            <Paper\r\n                sx={{\r\n                    marginTop: \"10px\",\r\n                    padding: \"5px 10px\",\r\n                    display: \"flex\",\r\n                    flexWrap: \"wrap\",\r\n                    justifyContent: \"space-around\",\r\n                }}\r\n            >\r\n            <TextField\r\n                label=\"P.O. Number\"\r\n                variant=\"outlined\"\r\n                onKeyPress={onKeyPressed}\r\n                value={searchPONumber}\r\n                onChange={(e) => setsearchPONumber(e.target.value)}\r\n            />\r\n            </Paper>\r\n            <CheckableMultiSelect\r\n                options={defaultHiddenColumns}\r\n                onChange={onHideColumnChanged}\r\n                selected={columnsToShow}\r\n            />\r\n            <DataGrid\r\n                title=\"Shipments\"\r\n                rows={shipments.map((\r\n                        {\r\n                            id,\r\n                            poNum,\r\n                            des,\r\n                            qty,\r\n                            orderQty,\r\n                            orderDate,\r\n                            finishDate,\r\n                            location,\r\n                            supplier,\r\n                            invoice,\r\n                            remark,\r\n                            ...restProps\r\n                        },\r\n                        index\r\n                    ) => ({\r\n                        id,\r\n                        index,\r\n                        poNum: poNum,\r\n                        desc: des,\r\n                        qty: qty,\r\n                        orderQty: orderQty,\r\n                        orderDate: orderDate,\r\n                        finishDate: finishDate,\r\n                        location: location,\r\n                        supplier: supplier,\r\n                        invoice: invoice,\r\n                        remark: remark,\r\n                        edit: (\r\n                            <IconButton\r\n                                component={RouterLink}\r\n                                to={{\r\n                                    pathname: \"/admin/shipment/edit\",\r\n                                    state: { shipment: shipments[index] },\r\n                                }}\r\n                            >\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        ),\r\n                        delete: (\r\n                            <IconButton\r\n                                onClick={(event) => {\r\n                                    event.preventDefault();\r\n                                    handleRemoveClick(index);\r\n                                }}\r\n                            >\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                        ),\r\n                        ...restProps,\r\n                    })\r\n                )}\r\n                columns={columns.map((column, i) => {\r\n                        if (i > 4 && i < 13) {\r\n                            if (columnsToShow.find((col) => col === column.label))\r\n                                return column;\r\n                            else\r\n                                return undefined;\r\n                        }\r\n                        return column;\r\n                    })\r\n                    .filter((column) => column !== undefined)\r\n                }\r\n                onRemoveClick={handleRemoveClick}\r\n                onBulkRemoveClick={handleBulkRemoveClick}\r\n                onFilterClick={handleFilterClick}\r\n            />\r\n        </Box>\r\n    );\r\n});\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"./ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const { componentType, initialShipment, initialCart, } = props;\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [productQty, setProductQty] = useState(0);\r\n  const [productDesc, setProductDesc] = useState(\"\");\r\n  \r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Shipment Info\",\r\n    \"Select Products\",\r\n  ];\r\n  const basicForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n\r\n  \r\n  const [paid, setPaid] = useState(initialShipment.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getShipment = (cancelToken) => {\r\n    axios\r\n      .get(\"/shipment/\" + initialShipment.id, { cancelToken })\r\n      .then((response) => {\r\n        const { chairProducts, deskProducts, accProducts } = response.data\r\n        \r\n        const products = chairProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n          productType: 'chair',\r\n          productId: pid,\r\n          productDesc: desc,\r\n          productQty: qty,\r\n        }))\r\n          .concat(\r\n            deskProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n              productType: 'desk',\r\n              productId: pid,\r\n              productDesc: desc,\r\n              productQty: qty,\r\n            }))\r\n          )\r\n          .concat(\r\n            accProducts.map(({ pid, desc, qty, ...restProps }) => ({\r\n              productType: 'accessory',\r\n              productId: pid,\r\n              productQty: qty,\r\n              productDesc: desc,\r\n            }))\r\n          )\r\n        setCart(products)\r\n      })\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    getShipment(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (basicForm.current !== null && currentStep > 0 && step === 0)\r\n      return !basicForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductId(item.productId);\r\n    setProductQty(item.productQty);\r\n    setProductDesc(item.productDesc);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleNext = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (cart.length === 0) {\r\n      Swal.fire({\r\n        icon: \"warning\",\r\n        title: \"Warning\",\r\n        text: \"Products list cannot be empty\",\r\n        allowOutsideClick: false,\r\n      });\r\n\r\n      return;\r\n    }\r\n    \r\n    setCurrentStep(2);\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const basicData = new FormData(basicForm.current);\r\n    if (componentType === \"create\") {\r\n      axios\r\n        .post(`/shipment/create`, {\r\n          supplier: basicData.get(\"supplier\"),\r\n          location: basicData.get(\"location\"),\r\n          remark: basicData.get(\"remark\"),\r\n          products: cart,\r\n        })\r\n        .then(() => {\r\n          // handle success\r\n          props.history.push(\"/admin/shipment\");\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          }).then(() => { });\r\n          console.log(error);\r\n        })\r\n        .then(function () {\r\n          // always executed\r\n        });\r\n    }\r\n    else {  // edit\r\n      axios\r\n        .put(`/shipment/${initialShipment.id}`, {\r\n          supplier: basicData.get(\"supplier\"),\r\n          location: basicData.get(\"location\"),\r\n          remark: basicData.get(\"remark\"),\r\n          products: cart,          \r\n        })\r\n        .then(() => {\r\n          // handle success\r\n          props.history.push(\"/admin/shipment\");\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          }).then(() => { });\r\n          console.log(error);\r\n        })\r\n        .then(function () {\r\n          // always executed\r\n        });\r\n    }\r\n  }\r\n\r\n  const handleSubmit2 = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    setAddOpen(false);\r\n\r\n    // Add products\r\n    if (cartItemStatus === \"add\") {\r\n      if (cart.find((item) => item.productType === productType && item.productId === productId)) {\r\n        Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false});\r\n        return;\r\n      }\r\n      setCart(cart.concat({ productType, productId, productQty, productDesc }));\r\n    } else if (cartItemStatus === \"edit\") {  // Edit products\r\n      const newCart = cart.map((item) => {\r\n        if (item.productType === productType && item.productId === productId)\r\n          return { productId, productType, productQty, productDesc };\r\n        else return item;\r\n      });\r\n      setCart(newCart);\r\n    }\r\n  }\r\n\r\n  const handleSubmit3 = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setTopHoleCount(0);\r\n    setTopHolePosition(\"Left\");\r\n    setTopHoleType(\"Rounded\");\r\n    setTopMaterial(\"Melamine\");\r\n    setTopColor(\"\");\r\n    setTopLength(700);\r\n    setTopWidth(400);\r\n    setTopThickness(25);\r\n    setTopRoundedCorners(0);\r\n    setTopCornerRadius(50);\r\n    setSketchUrl(\"\");\r\n\r\n    setDeskAddOpen(false);\r\n\r\n    const data = new FormData(e.currentTarget);\r\n\r\n    if (cartItemStatus === \"add\") {\r\n      if (!hasDeskTop && cart.find((item) => item.productType === \"desk\" && item.productId === productId && !item.hasDeskTop)) {\r\n        Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false,});\r\n        return;\r\n      }\r\n\r\n      setCart(cart.concat({ productType, productId, productQty, productDesc })\r\n      );\r\n    } else if (cartItemStatus === \"edit\") {\r\n      const newCart = cart.map((item) => {\r\n        if (item.productType !== \"desk\" || item.productId !== productId)\r\n          return item;\r\n\r\n        return { productType, productId, productQty, productDesc };\r\n      });\r\n\r\n      setCart(newCart);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={basicForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Shipment Info\r\n          </Typography>\r\n          {[\r\n            { name: \"supplier\", label: \"Supplier\", type: \"text\",  defaultValue: initialShipment.supplier, width: \"100%\", required: true },\r\n            { name: \"location\", label: \"location\", type: \"text\",  defaultValue: initialShipment.location, width: \"100%\", required: true },\r\n            { name: \"remark\", label: \"Remark\", type: \"text\",  defaultValue: initialShipment.remark, width: \"100%\" },\r\n\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                InputLabelProps={{ shrink: true }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>              \r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDesc}`}\r\n                        secondary={`${item.withHeadrest ? \"Headrest, \" : \"\"\r\n                          }${item.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDesc}}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDesc}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      amount={`Qty: ${item.productQty}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (cart.find((item) => item.productType === \"chair\" && item.productId === chairStocks[index].id)) {\r\n                              Swal.fire({icon: \"warning\", title: \"Warning\", text: \"This product is already added.\", allowOutsideClick: false});\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductId(chairStocks[index].id);\r\n                            setProductQty(1);\r\n                            setProductDesc(chairStocks[index].brand + \" - \" + chairStocks[index].model)\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductId(deskStocks[index].id);\r\n                            setProductQty(1);\r\n                            setProductDesc(deskStocks[index].supplierCode + \" - \" + deskStocks[index].model)\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl size=\"small\" sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}>\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductId(accessoryStocks[index].id);\r\n                          setProductQty(1);\r\n                          setProductDesc(accessoryStocks[index].category + \" - \" + accessoryStocks[index].name)\r\n                            \r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productId ===\r\n                                accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                        createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={ handleNext }\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={ handleSubmit }\r\n      >\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            handleSubmit2(e);\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Description\"\r\n            name=\"productDesc\"\r\n            value={productDesc}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\"\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Quantity\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.max(productQty - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productQty}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.min(productQty + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            handleSubmit3(e)\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Description\"\r\n            name=\"productDesc\"\r\n            value={productDesc}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            <TextField\r\n              label=\"Description\"\r\n              name=\"productDesc\"\r\n              defaultValue={productDesc}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"left\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\" }}>\r\n              Quantity\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.max(productQty - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productQty}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductQty(Math.min(productQty + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box >\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './detail';\r\n\r\nconst Create = (props) => {\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialShipment={{\r\n        supplier: '',\r\n        location: '',\r\n        remark: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport axios from \"axios\";\r\n\r\nconst Edit = (props) => {\r\n  const loc = useLocation();\r\n  const { shipment } = loc.state || {};\r\n  const {\r\n    id,\r\n    supplier,\r\n    location,\r\n    remark,\r\n  } = shipment || {};\r\n\r\n  return shipment ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialShipment={{\r\n        id: id,\r\n        supplier: supplier,\r\n        location: location,\r\n        remark: remark,\r\n      }}\r\n      initialCart={{}}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/purchase/shipment\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Box } from \"@mui/material\";\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  DeliveryDining as DeliveryDiningIcon,\r\n  PeopleAlt as PeopleAltIcon,\r\n  Storefront as StorefrontIcon,\r\n} from \"@mui/icons-material\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport AppHeader from \"components/Common/AppHeader\";\r\nimport { CollapsedSidebar, FixedSidebar } from \"components/Common/Sidebar\";\r\nimport { logout } from \"services/auth.service\";\r\nimport User from \"./User\";\r\nimport { ChairStock } from \"./Chair\";\r\nimport { DeskStock } from \"./Desk\";\r\nimport { AccessoryStock } from \"./Accessory\";\r\nimport {\r\n  SalesOrderView,\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n} from \"./Salement/SalesOrder\";\r\nimport {\r\n  QuotationView,\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n} from \"./Salement/Quotation\";\r\nimport { ChairDelivery, DeskDelivery } from \"./Delivery\";\r\nimport {\r\n  PurchaseOrderView,\r\n  PurchaseOrderCreate,\r\n  PurchaseOrderEdit,\r\n} from \"./Purchase/Order\";\r\nimport {\r\n  ShipmentView,\r\n  ShipmentCreate,\r\n  ShipmentEdit,\r\n} from \"./Purchase/Shipment\";\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: \"Chair\",\r\n    content: [\r\n      { to: \"/admin/chair/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Desk\",\r\n    content: [\r\n      { to: \"/admin/desk/stock\", icon: <StorefrontIcon />, label: \"Stock\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Accessory\",\r\n    content: [\r\n      {\r\n        to: \"/admin/accessory/stock\",\r\n        icon: <StorefrontIcon />,\r\n        label: \"Stock\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Sales\",\r\n    content: [\r\n      { to: \"/admin/sales\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/quotation\", icon: <BookOnlineIcon />, label: \"Quotation\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Purchase\",\r\n    content: [\r\n      { to: \"/admin/purchase\", icon: <BookOnlineIcon />, label: \"Order\" },\r\n      { to: \"/admin/shipment\", icon: <BookOnlineIcon />, label: \"Shipment\" },\r\n    ],\r\n  },\r\n  {\r\n    category: \"Delivery\",\r\n    content: [\r\n      {\r\n        to: \"/admin/delivery/chair\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Chair\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/desk\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Desk\",\r\n      },\r\n      {\r\n        to: \"/admin/delivery/accessory\",\r\n        icon: <DeliveryDiningIcon />,\r\n        label: \"Accessory\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: \"User\",\r\n    content: [{ to: \"/admin/user\", icon: <PeopleAltIcon />, label: \"Users\" }],\r\n  },\r\n];\r\n\r\nconst Admin = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"Log out will remove your session information permanently.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Yes, Logout!\",\r\n      cancelButtonText: \"No, Keep Login\",\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n    // props.logout();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight = {drawerHeight}\r\n        handleDrawerToggle = {handleDrawerOpen}\r\n        title = \"Administrator\"\r\n      />\r\n      <Box\r\n        flexBasis = {`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight = {`calc(100% - ${drawerHeight}px)`}\r\n        position = \"relative\"\r\n        display = \"flex\"\r\n        backgroundColor = \"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen = {mobileOpen}\r\n          handleDrawerClose = {handleDrawerClose}\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth = {drawerWidth}\r\n          handleLogout = {handleLogout}\r\n          lists = {menuLists}\r\n        />\r\n        <Box\r\n          component = \"main\"\r\n          sx = {{\r\n            flexGrow: 1,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n            maxWidth: \"100%\",\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/user`} component={User} />\r\n            <Route path={`${path}/chair/stock`} exact component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} exact component={DeskStock} />\r\n            <Route path={`${path}/accessory/stock`} exact component={AccessoryStock} />\r\n            <Route path={`${path}/sales`} exact component={SalesOrderView} />\r\n            <Route path={`${path}/sales/create`} exact component={SalesOrderCreate} />\r\n            <Route path={`${path}/sales/edit`} exact component={SalesOrderEdit} />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route path={`${path}/quotation/create`} exact component={QuotationCreate} />\r\n            <Route path={`${path}/quotation/edit`} exact component={QuotationEdit} />\r\n            <Route path={`${path}/delivery/chair`} exact component={ChairDelivery} />\r\n            <Route path={`${path}/delivery/desk`} exact component={DeskDelivery} />\r\n            <Route path={`${path}/purchase`} exact component={ PurchaseOrderView } />\r\n            <Route path={`${path}/purchase/create`} exact component={ PurchaseOrderCreate } />\r\n            <Route path={`${path}/purchase/edit`} exact component={ PurchaseOrderEdit } />\r\n            <Route path={`${path}/shipment`} exact component={ ShipmentView } />\r\n            <Route path={`${path}/shipment/create`} exact component={ ShipmentCreate } />\r\n            <Route path={`${path}/shipment/edit`} exact component={ShipmentEdit} />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Admin);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else \r\n                return undefined\r\n            }\r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n    hidden: true\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Other Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Other Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n          columns={\r\n            columns.map((column, i) => {\r\n              if (i > 5) {\r\n                if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                  return column\r\n                else\r\n                  return undefined\r\n              }\r\n              return column\r\n            }).filter(column=>column !== undefined)\r\n          }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n  InputLabel,\r\n} from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\n\r\nconst columns = [\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  // const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        // setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks);\r\n    } else {\r\n      setStocks(\r\n        initStocks.filter((stock) => stock.category === selected_category)\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"10px 20px\",\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n            <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks.map(\r\n          (\r\n            { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n            index\r\n          ) => ({\r\n            thumbnail: (\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  Swal.fire({\r\n                    html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                    showCloseButton: true,\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                  });\r\n                }}\r\n              >\r\n                <img\r\n                  alt=\"\"\r\n                  width=\"80px\"\r\n                  src={thumbnailURL}\r\n                  style={{ marginTop: \"5px\" }}\r\n                />\r\n              </a>\r\n            ),\r\n            shipmentDate: (() => {\r\n              if (shipmentDate === null) return \"No\";\r\n              const createdTime = new Date(shipmentDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            arrivalDate: (() => {\r\n              if (arrivalDate === null) return \"No\";\r\n              const createdTime = new Date(arrivalDate);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split(\"T\")[0];\r\n            })(),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  indigo,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\n//import { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  Receipt as ReceiptIcon\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'receiptIcon',\r\n    nonSort: true,\r\n    label: 'Receipt',\r\n    sx: { maxWidth: 75, width: 45 },\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Email',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'Phone',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'PreOrder',\r\n  'Remark',\r\n  'Discount',\r\n  'SurCharge',\r\n  'Products',\r\n  'Paid',\r\n  'Receipt',\r\n  'Email',\r\n  'Phone'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [initOrders, setInitOrders] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\");\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([]);\r\n\r\n  const [searchInvoiceNumber, setSearchInvoiceNumber] = useState(\"\");\r\n  const [searchPhoneNumber, setSearchPhoneNumber] = useState(\"\");\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Order permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/sales/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Orders permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/sales', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/sales/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n        setInitOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values);\r\n  };\r\n\r\n  const onKeyPressed = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      const searchedOrders = initOrders\r\n        .filter((order) =>\r\n          order.invoiceNum\r\n            .toLowerCase()\r\n            .includes(searchInvoiceNumber.toLowerCase())\r\n        )\r\n        .filter((order) => order.phone.includes(searchPhoneNumber));\r\n      setOrders(searchedOrders);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/sales/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: \"10px\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          flexWrap: \"wrap\",\r\n          justifyContent: \"space-around\",\r\n        }}\r\n      >\r\n        <TextField\r\n          label=\"Invoice Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchInvoiceNumber}\r\n          onChange={(e) => setSearchInvoiceNumber(e.target.value)}\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          onKeyPress={onKeyPressed}\r\n          value={searchPhoneNumber}\r\n          onChange={(e) => setSearchPhoneNumber(e.target.value)}\r\n        />\r\n      </Paper>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum, \r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/sales/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            receiptIcon: paid && (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={`/receipt/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                <ReceiptIcon />\r\n              </IconButton>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/sales/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 15) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n              else\r\n                  return undefined\r\n            }\r\n            return column            \r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskToOrders.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${orders[orderIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post('/sales/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\n// import { blue, pink, purple, red, yellow } from \"@mui/material/colors\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        //etAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: \"name\",\r\n              label: \"Name\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.name,\r\n              width: \"100%\",\r\n              required: true,\r\n            },\r\n            {\r\n              name: \"phone\",\r\n              label: \"Phone\",\r\n              type: \"text\",\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"email\",\r\n              label: \"Email\",\r\n              type: \"email\",\r\n              defaultValue: initialClient.email,\r\n              width: \"48%\",\r\n            },\r\n            {\r\n              name: \"district\",\r\n              label: \"District\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.district,\r\n              width: \"55%\",\r\n            },\r\n            {\r\n              name: \"street\",\r\n              label: \"Street\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.street,\r\n              width: \"40%\",\r\n            },\r\n            {\r\n              name: \"block\",\r\n              label: \"Block\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.block,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"floor\",\r\n              label: \"Floor\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.floor,\r\n              width: \"30%\",\r\n            },\r\n            {\r\n              name: \"unit\",\r\n              label: \"Unit\",\r\n              type: \"text\",\r\n              defaultValue: initialClient.unit,\r\n              width: \"30%\",\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Rmark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            // let frameColor =\r\n                            //   chairStocks[index].frameColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].frameColor;\r\n                            // let seatColor =\r\n                            //   chairStocks[index].seatColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].seatColor;\r\n                            // let backColor =\r\n                            //   chairStocks[index].backColor === \"\"\r\n                            //     ? \"___\"\r\n                            //     : chairStocks[index].backColor;\r\n                            // let remark =\r\n                            //   \"FrameColor:\" +\r\n                            //   frameColor +\r\n                            //   \", SeatColor:\" +\r\n                            //   seatColor +\r\n                            //   \", BackColor:\" +\r\n                            //   backColor;\r\n                            // setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    } \r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/sales/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {  // componentType === \"edit\"\r\n            axios\r\n              .put(`/sales/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine: clientData.get(\"timeLine\") * (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                dueDate: paymentData.get(\"dueDate\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/sales\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"30%\",\r\n              minWidth: \"30%\",\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: \"70%\",\r\n              minWidth: \"70%\",\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible)\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1, marginTop: \"8px\" }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\", marginTop: \"8px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType = \"create\"\r\n      initialClient = {{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n        remark: '',\r\n      }}\r\n      initialCart = {[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToOrders,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart = {ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps,\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToOrders.map((DeskToOrder) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n  \r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n  \r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps,\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/sales\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  // PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n  DriveFolderUpload as DriveFolderUploadIcon,\r\n} from \"@mui/icons-material\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'quotationDate',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: \"toInvoice\",\r\n    nonSort: true,\r\n    label: \"To Invoice\",\r\n    sx: { maxWidth: 45 },\r\n  },\r\n  {\r\n    id: \"edit\",\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'Remark',\r\n  'Discount',\r\n  'SurC harge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Quotation permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Quotations permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleToInvoiceClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"This action will convert current Quotation to Invoice.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, Convert!\",\r\n        cancelButtonText: \"No, Cancel.\",\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          const quotation = quotations[index];\r\n          const cart = quotation.ChairStocks.map(\r\n            ({ ChairToQuotation, ...restProps }) => ({\r\n              productType: \"chair\",\r\n              productDetail: restProps,\r\n              remark: ChairToQuotation.remark,\r\n              productPrice: ChairToQuotation.unitPrice,\r\n              productAmount: ChairToQuotation.qty,\r\n              productDeliveryOption: ChairToQuotation.deliveryOption,\r\n            })\r\n          )\r\n            .concat(\r\n              quotation.DeskToQuotations.map((DeskToQuotation) => {\r\n                const {\r\n                  stockId,\r\n                  unitPrice,\r\n                  qty,\r\n                  deliveryOption,\r\n                  ...deskTopProps\r\n                } = DeskToQuotation;\r\n\r\n                const stock = quotation.DeskStocks.find(function (val) {\r\n                  return val.id === stockId;\r\n                });\r\n\r\n                return {\r\n                  productType: \"desk\",\r\n                  productDetail: stock,\r\n                  productPrice: unitPrice,\r\n                  productAmount: qty,\r\n                  productDeliveryOption: deliveryOption,\r\n                  ...deskTopProps,\r\n                };\r\n              })\r\n            )\r\n            .concat(\r\n              quotation.AccessoryStocks.map(\r\n                ({ AccessoryToQuotation, ...restProps }) => ({\r\n                  productType: \"accessory\",\r\n                  productDetail: restProps,\r\n                  remark: AccessoryToQuotation.remark,\r\n                  productPrice: AccessoryToQuotation.unitPrice,\r\n                  productAmount: AccessoryToQuotation.qty,\r\n                  productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n                })\r\n              )\r\n            );\r\n          axios\r\n            .post(`/sales/create`, {\r\n              name: quotation.name,\r\n              phone: quotation.phone,\r\n              email: quotation.email,\r\n              district: quotation.district,\r\n              street: quotation.street,\r\n              block: quotation.block,\r\n              floor: quotation.floor,\r\n              unit: quotation.unit,\r\n              timeLine: quotation.timeLine,\r\n              remark: quotation.remark,\r\n              products: cart\r\n                .map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                }))\r\n                .concat(quotation.ServiceToQuotations),\r\n              paymentTerms: quotation.paymentTerms,\r\n              paid: false,\r\n              dueDate: null,\r\n              discount: quotation.discount,\r\n              discountType: quotation.discountType,\r\n              surcharge: quotation.surcharge,\r\n              surchargeType: quotation.surchargeType,\r\n            })\r\n            .then(() => {\r\n              // handle success\r\n              props.history.push(\"/user/sales\");\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: \"error\",\r\n                title: \"Error\",\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              }).then(() => {});\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get('/quotation/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                { quotationNum }\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            toInvoice: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleToInvoiceClick(index);\r\n                }}\r\n              >\r\n                <DriveFolderUploadIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/quotation/edit',\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column;\r\n              else\r\n                return undefined;\r\n            } \r\n            return column\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskToQuotations.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).supplierCode}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).model}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).color}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).armSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).feetSize}, \r\n                      ${quotations[quotationIndex].DeskStocks.find(stock=> stock.id===item.stockId).beamSize}`}\r\n                    secondary={\r\n                      item.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.topMaterial}, \r\n                            ${item.topColor}, \r\n                            ${item.topLength}x${item.topWidth}x${item.topThickness}, \r\n                            ${item.topRoundedCorners}-R${item.topCornerRadius}, \r\n                            ${item.topHoleCount}-${item.topHoleType} `}\r\n                          <a\r\n                            href={item.topSketchURL}\r\n                            target=\"_blank\"\r\n                            rel=\"noreferrer\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.qty}`}\r\n                    deliveryOption={`${item.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.name}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from \"@mui/material\";\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon,\r\n  Edit as EditIcon,\r\n} from \"@mui/icons-material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\r\nimport MuiPhoneNumber from \"material-ui-phone-number\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DataGrid from \"components/Common/DataGrid\";\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from \"../ProductList\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport CheckableMultiSelect from \"components/Common/MultiSelect\";\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: \"0 10px 10px 10px\" }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"brand\",\r\n    label: \"Brand\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"frameColor\",\r\n    label: \"Frame Color\",\r\n  },\r\n  {\r\n    id: \"backColor\",\r\n    label: \"Back Color\",\r\n  },\r\n  {\r\n    id: \"seatColor\",\r\n    label: \"Seat Color\",\r\n  },\r\n  {\r\n    id: \"backMaterial\",\r\n    label: \"Back Material\",\r\n  },\r\n  {\r\n    id: \"seatMaterial\",\r\n    label: \"Seat Material\",\r\n  },\r\n  {\r\n    id: \"withHeadrest\",\r\n    label: \"Headrest\",\r\n  },\r\n  {\r\n    id: \"withAdArmrest\",\r\n    label: \"Adjustable Armrests\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  \"Frame Color\",\r\n  \"Back Color\",\r\n  \"Seat Color\",\r\n  \"Back Material\",\r\n  \"Seat Material\",\r\n  \"Headrest\",\r\n  \"Adjustable Armrests\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"supplierCode\",\r\n    label: \"Supplier\",\r\n  },\r\n  {\r\n    id: \"model\",\r\n    label: \"Model\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"color\",\r\n    label: \"Color\",\r\n  },\r\n  {\r\n    id: \"armSize\",\r\n    label: \"Arm Size\",\r\n  },\r\n  {\r\n    id: \"feetSize\",\r\n    label: \"Feet Size\",\r\n  },\r\n  {\r\n    id: \"beamSize\",\r\n    label: \"Beam Size\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  \"Color\",\r\n  \"Arm Size\",\r\n  \"Feet Size\",\r\n  \"Beam Size\",\r\n  \"Other Remark\",\r\n  \"Shipment\",\r\n  \"Arrival\",\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: \"add\",\r\n  },\r\n  {\r\n    id: \"thumbnail\",\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: \"name\",\r\n    label: \"Name\",\r\n  },\r\n  {\r\n    id: \"category\",\r\n    label: \"Category\",\r\n  },\r\n  {\r\n    id: \"remark\",\r\n    label: \"Other Remark\",\r\n  },\r\n  {\r\n    id: \"unitPrice\",\r\n    label: \"Price\",\r\n  },\r\n  {\r\n    id: \"balance\",\r\n    label: \"Balance\",\r\n  },\r\n  {\r\n    id: \"qty\",\r\n    label: \"QTY\",\r\n  },\r\n  {\r\n    id: \"shipmentDate\",\r\n    label: \"Shipment\",\r\n  },\r\n  {\r\n    id: \"arrivalDate\",\r\n    label: \"Arrival\",\r\n  },\r\n];\r\n\r\nconst materialOptions = [\r\n  \"Melamine\",\r\n  \"Laminate\",\r\n  \"North American Walnut\",\r\n  \"South American Walnut\",\r\n  \"Red Oak\",\r\n  \"Maple\",\r\n  \"Bamboo\",\r\n  \"Melamine with glass top\",\r\n  \"Toppal Plyedge\",\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState(\"Left\");\r\n  const [topHoleType, setTopHoleType] = useState(\"Rounded\");\r\n  const [topMaterial, setTopMaterial] = useState(\"Melamine\");\r\n  const [topColor, setTopColor] = useState(\"\");\r\n  const [topLength, setTopLength] = useState(700);\r\n  const [topWidth, setTopWidth] = useState(400);\r\n  const [topThickness, setTopThickness] = useState(25);\r\n  const [topRoundedCorners, setTopRoundedCorners] = useState(0);\r\n  const [topCornerRadius, setTopCornerRadius] = useState(50);\r\n  const [sketchUrl, setSketchUrl] = useState(\"\");\r\n\r\n  const steps = [\r\n    \"Input Client Info\",\r\n    \"Select Products\",\r\n    \"Input Payment Details\",\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState(\"chair\");\r\n  const [productDetail, setProductDetail] = useState(\"\");\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState(\"\");\r\n\r\n  const [deliveryChecked0, setDeliveryChecked0] = useState(false);\r\n  const [deliveryChecked1, setDeliveryChecked1] = useState(false);\r\n  const [deliveryChecked2, setDeliveryChecked2] = useState(false);\r\n  const [deliveryChecked3, setDeliveryChecked3] = useState(false);\r\n\r\n  const [cart, setCart] = useState(initialCart);\r\n  const [cartItemStatus, setCartItemStatus] = useState(\"add\");\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  // const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices\r\n    ? initialServices.map((service) =>\r\n        Object.assign(service, { productType: \"misc\" })\r\n      )\r\n    : [];\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock/features\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        //setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/chairStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/deskStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get(\"/accessoryStock\", { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel(\"Stock Component got unmounted\");\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if (\r\n      cart.length === 0 &&\r\n      services.length === 0 &&\r\n      currentStep > 1 &&\r\n      step === 1\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value);\r\n  };\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category);\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks);\r\n    } else {\r\n      setAccessoryStocks(\r\n        initAccessoryStocks.filter(\r\n          (stock) => stock.category === selected_category\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: \"\",\r\n      price: 0,\r\n      productType: \"misc\",\r\n    };\r\n    setServices([...services, newService]);\r\n  };\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter((service) => service.id !== serviceId);\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, { description: e.target.value });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map((service) => {\r\n      if (service.id === serviceId) {\r\n        return Object.assign({}, service, {\r\n          price: parseFloat(e.target.value),\r\n        });\r\n      }\r\n      return service;\r\n    });\r\n    setServices(newServices);\r\n  };\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values);\r\n  };\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values);\r\n  };\r\n\r\n  const onEditCartProduct = (item) => {\r\n    setCartItemStatus(\"edit\");\r\n    setProductType(item.productType);\r\n    setProductDetail(item.productDetail);\r\n    setProductRemark(item.remark);\r\n    setProductPrice(item.productPrice);\r\n    setProductAmount(item.productAmount);\r\n    const deliveryOptions = JSON.parse(item.productDeliveryOption);\r\n\r\n    if (deliveryOptions.includes(\"Delivery Included\"))\r\n      setDeliveryChecked0(true);\r\n    if (deliveryOptions.includes(\"Delivery and installation included\"))\r\n      setDeliveryChecked1(true);\r\n    if (deliveryOptions.includes(\"Remote Area Surcharge\"))\r\n      setDeliveryChecked2(true);\r\n    if (deliveryOptions.includes(\"Stairs Surcharge\")) setDeliveryChecked3(true);\r\n\r\n    if (item.productType === \"chair\" || item.productType === \"accessory\") {\r\n      setAddOpen(true);\r\n    } else if (item.productType === \"desk\") {\r\n      setHasDeskTop(item.hasDeskTop);\r\n      setTopColor(item.topColor);\r\n      setTopCornerRadius(item.topCornerRadius);\r\n      setTopHoleCount(item.topHoleCount);\r\n      setTopHolePosition(item.topHolePosition);\r\n      setTopHoleType(item.topHoleType);\r\n      setTopLength(item.topLength);\r\n      setTopMaterial(item.topMaterial);\r\n      setTopRoundedCorners(item.topRoundedCorners);\r\n      setTopThickness(item.topThickness);\r\n      setTopWidth(item.topWidth);\r\n      setSketchUrl(item.topSketchURL);\r\n\r\n      setDeskAddOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        overflow: \"auto\",\r\n        padding: \"20px 20px 10px 20px\",\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: \"wrap\" }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {[\"Invalid Input\", \"Products cannot be empty\"][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: \"10px\" }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            { name: \"name\", label: \"Name\", type: \"text\", defaultValue: initialClient.name, width: \"100%\", required: true, },\r\n            { name: \"phone\", label: \"Phone\", type: \"text\", value: initialClient.phone, onChange: initialClient.setPhone, width: \"48%\", },\r\n            { name: \"email\", label: \"Email\", type: \"email\", defaultValue: initialClient.email, width: \"48%\", },\r\n            { name: \"district\", label: \"District\", type: \"text\", defaultValue: initialClient.district, width: \"55%\", },\r\n            { name: \"street\", label: \"Street\", type: \"text\", defaultValue: initialClient.street, width: \"40%\", },\r\n            { name: \"block\", label: \"Block\", type: \"text\", defaultValue: initialClient.block, width: \"30%\", },\r\n            { name: \"floor\", label: \"Floor\", type: \"text\", defaultValue: initialClient.floor, width: \"30%\", },\r\n            { name: \"unit\", label: \"Unit\", type: \"text\", defaultValue: initialClient.unit, width: \"30%\", },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === \"Phone\" ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={[\"hk\"]}\r\n                defaultCountry={\"hk\"}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"30%\"], minWidth: [\"100%\", \"30%\"] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: [\"100%\", \"70%\"],\r\n              minWidth: [\"100%\", \"70%\"],\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n          <TextField\r\n            sx={{ flexBasis: [\"100%\", \"100%\"], minWidth: [\"100%\", \"100%\"] }}\r\n            name=\"remark\" label=\"Delivery Remark\" type=\"text\"\r\n            defaultValue={initialClient.remark || ''}\r\n          />\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: \"10px\", float: \"right\" }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: \"10px\" }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <Fragment>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            onEditCartProduct(item);\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setCart(\r\n                              cart.filter(\r\n                                (product, productIndex) =>\r\n                                  productIndex !== index\r\n                              )\r\n                            );\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Fragment>\r\n                    }\r\n                  >\r\n                    {item.productType === \"chair\" && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? \"Headrest, \" : \"\"\r\n                        }${item.productDetail.withAdArmrest ? \"Armrest\" : \"\"}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === \"desk\" && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : \"Without DeskTop\"\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === \"accessory\" && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: \"10px\" }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Brand\",\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? \"Yes\" : \"No\",\r\n                      withAdArmrest: withAdArmrest ? \"Yes\" : \"No\",\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === \"chair\" &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: \"warning\",\r\n                                title: \"Warning\",\r\n                                text: \"This product is already added.\",\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType(\"chair\");\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor =\r\n                              chairStocks[index].frameColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].frameColor;\r\n                            let seatColor =\r\n                              chairStocks[index].seatColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].seatColor;\r\n                            let backColor =\r\n                              chairStocks[index].backColor === \"\"\r\n                                ? \"___\"\r\n                                : chairStocks[index].backColor;\r\n                            let remark =\r\n                              \"FrameColor:\" +\r\n                              frameColor +\r\n                              \", SeatColor:\" +\r\n                              seatColor +\r\n                              \", BackColor:\" +\r\n                              backColor;\r\n                            setProductRemark(remark);\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                columns={chairColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideChairColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: \"Supplier\",\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Model\",\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier ||\r\n                          item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: \"Color\",\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect\r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns}\r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: \"5px\" }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            setProductType(\"desk\");\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return \"No\";\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return \"No\";\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split(\"T\")[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier ||\r\n                        item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                columns={deskColumns\r\n                  .map((column, i) => {\r\n                    if (i > 6) {\r\n                      if (\r\n                        selectedHideDeskColumns.find(\r\n                          (hideColumn) => hideColumn === column.label\r\n                        )\r\n                      )\r\n                        return column;\r\n                    }\r\n                    return column;\r\n                  })\r\n                  .filter((column) => column !== undefined)}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: \"10px\",\r\n                  padding: \"5px 10px\",\r\n                  display: \"flex\",\r\n                  flexWrap: \"wrap\",\r\n                  justifyContent: \"space-around\",\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: \"200px\", maxWidth: \"200px\" }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">\r\n                      Desk Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">\r\n                      Chair Accessories\r\n                    </MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                    <MenuItem value=\"Drawer\">Drawer</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks.map(\r\n                  (\r\n                    { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                    index\r\n                  ) => ({\r\n                    thumbnail: (\r\n                      <a\r\n                        href=\"/\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          Swal.fire({\r\n                            html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                            showCloseButton: true,\r\n                            showConfirmButton: false,\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        }}\r\n                      >\r\n                        <img\r\n                          alt=\"\"\r\n                          width=\"80px\"\r\n                          src={thumbnailURL}\r\n                          style={{ marginTop: \"5px\" }}\r\n                        />\r\n                      </a>\r\n                    ),\r\n                    add: (\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setProductType(\"accessory\");\r\n                          setProductDetail(accessoryStocks[index]);\r\n                          setProductRemark(accessoryStocks[index].remark);\r\n                          setProductPrice(accessoryStocks[index].unitPrice);\r\n                          setProductAmount(1);\r\n                          if (\r\n                            cart.find(\r\n                              (item) =>\r\n                                item.productType === \"accessory\" &&\r\n                                item.productDetail.id ===\r\n                                  accessoryStocks[index].id\r\n                            )\r\n                          ) {\r\n                            Swal.fire({\r\n                              icon: \"warning\",\r\n                              title: \"Warning\",\r\n                              text: \"This product is already added.\",\r\n                              allowOutsideClick: false,\r\n                            });\r\n                            return;\r\n                          }\r\n                          setAddOpen(true);\r\n                        }}\r\n                      >\r\n                        <AddIcon />\r\n                      </IconButton>\r\n                    ),\r\n                    shipmentDate: (() => {\r\n                      if (shipmentDate === null) return \"No\";\r\n                      const createdTime = new Date(shipmentDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    arrivalDate: (() => {\r\n                      if (arrivalDate === null) return \"No\";\r\n                      const createdTime = new Date(arrivalDate);\r\n                      createdTime.setMinutes(\r\n                        createdTime.getMinutes() -\r\n                          createdTime.getTimezoneOffset()\r\n                      );\r\n                      return createdTime.toISOString().split(\"T\")[0];\r\n                    })(),\r\n                    ...restProps,\r\n                  })\r\n                )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  {services.map((service) => (\r\n                    <Grid item xs={4} key={service.id}>\r\n                      <Card sx={{ px: 2, pb: 2 }}>\r\n                        <Box\r\n                          sx={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n                        >\r\n                          <IconButton\r\n                            aria-label=\"settings\"\r\n                            size=\"small\"\r\n                            onClick={() => onDeleteService(service.id)}\r\n                          >\r\n                            <CloseIcon fontSize=\"small\" />\r\n                          </IconButton>\r\n                        </Box>\r\n                        <TextField\r\n                          label=\"Description\"\r\n                          multiline\r\n                          rows={5}\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          value={service.description}\r\n                          onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                        />\r\n                        <TextField\r\n                          type=\"number\"\r\n                          sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n                          label=\"Price\"\r\n                          value={service.price}\r\n                          onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                        />\r\n                      </Card>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: \"right\" }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"Products and services list cannot be empty\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: \"auto\", mt: \"50px\" }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === \"create\")\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  Math.max(clientData.get(\"timeLine\"), 0) *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get(\"name\"),\r\n                phone: clientData.get(\"phone\"),\r\n                email: clientData.get(\"email\"),\r\n                district: clientData.get(\"district\"),\r\n                street: clientData.get(\"street\"),\r\n                block: clientData.get(\"block\"),\r\n                floor: clientData.get(\"floor\"),\r\n                unit: clientData.get(\"unit\"),\r\n                timeLine:\r\n                  clientData.get(\"timeLine\") *\r\n                  (clientData.get(\"timeLineFormat\") === \"day\" ? 1 : 7),\r\n                remark: clientData.get(\"remark\"),\r\n                products: cart\r\n                  .map(({ productDetail, ...restProps }) => ({\r\n                    productId: productDetail.id,\r\n                    productCategory: productDetail.category ?? \"\",\r\n                    ...restProps,\r\n                  }))\r\n                  .concat(services),\r\n                paymentTerms: paymentData.get(\"paymentTerms\"),\r\n                paid: Boolean(paymentData.get(\"paid\")),\r\n                validTil: paymentData.get(\"validTil\") || null,\r\n                discount: Math.max(\r\n                  paymentData.get(\"discountType\") > 0\r\n                    ? paymentData.get(\"discount\")\r\n                    : Math.min(paymentData.get(\"discount\"), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get(\"discountType\"),\r\n                surcharge: Math.max(\r\n                  paymentData.get(\"surchargeType\") > 0\r\n                    ? paymentData.get(\"surcharge\")\r\n                    : Math.min(paymentData.get(\"surcharge\"), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get(\"surchargeType\"),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push(\"/user/quotation\");\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: \"error\",\r\n                  title: \"Error\",\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: \"10px\",\r\n            display: \"flex\",\r\n            flexWrap: \"wrap\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}>\r\n            Sub Total:{\" \"}\r\n            {cart.reduce(\r\n              (p, c) => p + c.productAmount * parseFloat(c.productPrice),\r\n              0\r\n            ) + services.reduce((p, c) => p + c.price, 0)}\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: \"100%\",\r\n              minWidth: \"100%\",\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: \"10px 5px 10px 0\" }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: [\"58%\", \"68%\"],\r\n              minWidth: [\"58%\", \"68%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: [\"40%\", \"30%\"],\r\n              minWidth: [\"40%\", \"30%\"],\r\n              alignItems: \"baseline\",\r\n              mt: \"10px\",\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: \"10px\" }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: \"right\", marginTop: \"10px\" }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setAddOpen(false);\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === productType &&\r\n                    item.productDetail.id === productDetail.id\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: e.currentTarget.unitPrice.value,\r\n                  remark: productRemark,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: e.currentTarget.unitPrice.value,\r\n                    remark: productRemark,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: \"200px\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml: \"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              my: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Specification\"\r\n              name=\"remark\"\r\n              value={productRemark}\r\n              sx={{ width: 400, mx: \"5px\" }}\r\n              onChange={handleProductRemark}\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down(\"sm\"))}\r\n        PaperProps={{\r\n          component: \"form\",\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            setTopHoleCount(0);\r\n            setTopHolePosition(\"Left\");\r\n            setTopHoleType(\"Rounded\");\r\n            setTopMaterial(\"Melamine\");\r\n            setTopColor(\"\");\r\n            setTopLength(700);\r\n            setTopWidth(400);\r\n            setTopThickness(25);\r\n            setTopRoundedCorners(0);\r\n            setTopCornerRadius(50);\r\n            setSketchUrl(\"\");\r\n\r\n            setDeliveryChecked0(false);\r\n            setDeliveryChecked1(false);\r\n            setDeliveryChecked2(false);\r\n            setDeliveryChecked3(false);\r\n\r\n            setDeskAddOpen(false);\r\n\r\n            const data = new FormData(e.currentTarget);\r\n\r\n            if (cartItemStatus === \"add\") {\r\n              if (\r\n                !hasDeskTop &&\r\n                cart.find(\r\n                  (item) =>\r\n                    item.productType === \"desk\" &&\r\n                    item.productDetail.id === productDetail.id &&\r\n                    !item.hasDeskTop\r\n                )\r\n              ) {\r\n                Swal.fire({\r\n                  icon: \"warning\",\r\n                  title: \"Warning\",\r\n                  text: \"This product is already added.\",\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n\r\n              let topSketchURL = \"\";\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n\r\n              setCart(\r\n                cart.concat({\r\n                  productType,\r\n                  productDetail,\r\n                  productAmount,\r\n                  productDeliveryOption: JSON.stringify(\r\n                    [\r\n                      \"Delivery Included\",\r\n                      \"Delivery and installation included\",\r\n                      \"Remote Area Surcharge\",\r\n                      \"Stairs Surcharge\",\r\n                    ].filter((item, index) =>\r\n                      Boolean(data.get(`deliveryOption_${index}`))\r\n                    )\r\n                  ),\r\n                  productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                    ? Number(data.get(\"deskTotalPrice\"))\r\n                    : Number(data.get(\"deskLegPrice\")),\r\n                  hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                  topMaterial: data.get(\"topMaterial\") || \"\",\r\n                  topColor: data.get(\"topColor\") || \"\",\r\n                  topLength: data.get(\"topLength\") || 0,\r\n                  topWidth: data.get(\"topWidth\") || 0,\r\n                  topThickness: data.get(\"topThickness\") || 0,\r\n                  topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                  topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                  topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                  topHoleType: data.get(\"topHoleType\") || \"\",\r\n                  topHolePosition: topHolePosition || \"\",\r\n                  remark: data.get(\"remark\") || \"\",\r\n                  topSketchURL: topSketchURL,\r\n                })\r\n              );\r\n            } else if (cartItemStatus === \"edit\") {\r\n              let topSketchURL = sketchUrl;\r\n              if (data.get(\"topSketchImg\") && data.get(\"topSketchImg\").name) {\r\n                const uploadData = new FormData();\r\n                uploadData.append(\"file\", data.get(\"topSketchImg\"));\r\n                try {\r\n                  const response = await axios.post(`/upload`, uploadData, {\r\n                    headers: {\r\n                      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n                    },\r\n                  });\r\n                  topSketchURL = response.data.url;\r\n                } catch (err) {}\r\n              }\r\n              const newCart = cart.map((item) => {\r\n                if (\r\n                  item.productType === \"desk\" &&\r\n                  item.productDetail.id === productDetail.id\r\n                )\r\n                  return {\r\n                    productType,\r\n                    productDetail,\r\n                    productAmount,\r\n                    productDeliveryOption: JSON.stringify(\r\n                      [\r\n                        \"Delivery Included\",\r\n                        \"Delivery and installation included\",\r\n                        \"Remote Area Surcharge\",\r\n                        \"Stairs Surcharge\",\r\n                      ].filter((item, index) =>\r\n                        Boolean(data.get(`deliveryOption_${index}`))\r\n                      )\r\n                    ),\r\n                    productPrice: Boolean(data.get(\"hasDeskTop\"))\r\n                      ? Number(data.get(\"deskTotalPrice\"))\r\n                      : Number(data.get(\"deskLegPrice\")),\r\n                    hasDeskTop: Boolean(data.get(\"hasDeskTop\")) || false,\r\n                    topMaterial: data.get(\"topMaterial\") || \"\",\r\n                    topColor: data.get(\"topColor\") || \"\",\r\n                    topLength: data.get(\"topLength\") || 0,\r\n                    topWidth: data.get(\"topWidth\") || 0,\r\n                    topThickness: data.get(\"topThickness\") || 0,\r\n                    topRoundedCorners: data.get(\"topRoundedCorners\") || 0,\r\n                    topCornerRadius: data.get(\"topCornerRadius\") || 50,\r\n                    topHoleCount: data.get(\"topHoleCount\") || 0,\r\n                    topHoleType: data.get(\"topHoleType\") || \"\",\r\n                    topHolePosition: topHolePosition || \"\",\r\n                    remark: data.get(\"remark\") || \"\",\r\n                    topSketchURL: topSketchURL,\r\n                  };\r\n                else return item;\r\n              });\r\n              setCart(newCart);\r\n            }\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: \"center\" }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? \"hidden\" : \"visible\" }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: \"100%\", minWidth: \"100%\" }}\r\n            />\r\n            {[\r\n              {\r\n                name: \"topMaterial\",\r\n                label: \"Material\",\r\n                type: \"autocomplete\",\r\n                value: topMaterial,\r\n                onChange: (e, newVal) => {\r\n                  e.preventDefault();\r\n                  setTopMaterial(newVal);\r\n                },\r\n                options: materialOptions,\r\n                width: \"65%\",\r\n              },\r\n              {\r\n                name: \"topColor\",\r\n                label: \"Color\",\r\n                type: \"text\",\r\n                width: \"30%\",\r\n                value: topColor,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopColor(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topLength\",\r\n                label: \"Length\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topLength,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopLength(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topWidth\",\r\n                label: \"Width\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topWidth,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopWidth(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topThickness\",\r\n                label: \"Thickness\",\r\n                type: \"suffixNumber\",\r\n                suffix: \"mm\",\r\n                inputProps: { min: 0 },\r\n                width: \"30%\",\r\n                value: topThickness,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopThickness(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topRoundedCorners\",\r\n                label: \"Rounded Corners\",\r\n                type: \"select\",\r\n                options: [0, 1, 2, 3, 4],\r\n                width: \"48%\",\r\n                value: topRoundedCorners,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopRoundedCorners(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topCornerRadius\",\r\n                label: \"Corner Radius\",\r\n                type: \"number\",\r\n                inputProps: { min: 0 },\r\n                width: \"48%\",\r\n                value: topCornerRadius,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopCornerRadius(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topHoleCount\",\r\n                label: \"Number of Holes\",\r\n                type: \"select\",\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value === 1) setTopHolePosition(\"Left\");\r\n                  else if (e.target.value === 2)\r\n                    setTopHolePosition(\"Left_Right\");\r\n                  else if (e.target.value === 3)\r\n                    setTopHolePosition(\"Left_Right_Center\");\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHoleType\",\r\n                label: \"Type of Holes\",\r\n                type: \"select\",\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: [\"Rounded\", \"Rectangular\"],\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"topHolePosition\",\r\n                label: \"Hole Position\",\r\n                type: \"select\",\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options:\r\n                  topHoleCount === 1\r\n                    ? [\"Left\", \"Right\", \"Center\"]\r\n                    : [\r\n                        \"Left\",\r\n                        \"Right\",\r\n                        \"Center\",\r\n                        \"Left_Right\",\r\n                        \"Left_Right_Center\",\r\n                      ],\r\n                disabled: topHoleCount !== 1, // || topHoleType !== \"Rounded\",\r\n                visible: \"true\", //topHoleType === \"Rounded\" ? \"1\" : \"0\",\r\n                width: \"48%\",\r\n              },\r\n              {\r\n                name: \"remark\",\r\n                label: \"Specification\",\r\n                type: \"text\",\r\n                width: \"100%\",\r\n                value: productRemark,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setProductRemark(e.target.value);\r\n                },\r\n              },\r\n              {\r\n                name: \"topSketchImg\",\r\n                label: \"Sketch Image (Optional)\",\r\n                type: \"file\",\r\n                inputProps: {\r\n                  accept: \"image/png, image/gif, image/jpeg\",\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: \"100%\",\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === \"autocomplete\") {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === \"suffixNumber\") {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: \"baseline\",\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: \"10px 5px 0 0\" }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === \"select\") {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                if (name === \"topHolePosition\")\r\n                  if (selectParams.visible === \"1\")\r\n                    return (\r\n                      <FormControl\r\n                        key={index}\r\n                        sx={{ flexBasis: width, minWidth: width }}\r\n                      >\r\n                        <InputLabel id={`desk-top-${name}-select-label`}>\r\n                          {label}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId={`desk-top-${name}-select-label`}\r\n                          id={`desk-top-${name}-select`}\r\n                          name={name}\r\n                          label={label}\r\n                          size=\"small\"\r\n                          disabled={!hasDeskTop}\r\n                          {...selectParams}\r\n                        >\r\n                          {options.map((selectOption, selectOptionIndex) => (\r\n                            <MenuItem\r\n                              key={selectOptionIndex}\r\n                              value={selectOption}\r\n                            >\r\n                              {selectOption}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    );\r\n                  else return \"\";\r\n                else\r\n                  return (\r\n                    <FormControl\r\n                      key={index}\r\n                      sx={{ flexBasis: width, minWidth: width }}\r\n                    >\r\n                      <InputLabel id={`desk-top-${name}-select-label`}>\r\n                        {label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId={`desk-top-${name}-select-label`}\r\n                        id={`desk-top-${name}-select`}\r\n                        name={name}\r\n                        label={label}\r\n                        size=\"small\"\r\n                        disabled={!hasDeskTop}\r\n                        {...selectParams}\r\n                      >\r\n                        {options.map((selectOption, selectOptionIndex) => (\r\n                          <MenuItem\r\n                            key={selectOptionIndex}\r\n                            value={selectOption}\r\n                          >\r\n                            {selectOption}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: \"auto\" }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: \"10px\" }} />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              width: \"200px\",\r\n              border: \"1px solid #0000003b\",\r\n              borderRadius: \"4px\",\r\n              mt: \"10px\",\r\n              mx: \"auto\",\r\n              p: \"5px 3px\",\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_0\"\r\n                checked={deliveryChecked0}\r\n                onChange={(e) => setDeliveryChecked0(e.target.checked)}\r\n                sx={{ textAlign: \"left\" }}\r\n              />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_1\"\r\n                checked={deliveryChecked1}\r\n                onChange={(e) => setDeliveryChecked1(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_2\"\r\n                checked={deliveryChecked2}\r\n                onChange={(e) => setDeliveryChecked2(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: \"block\", textAlign: \"left\", marginLeft: \"100px\" }}\r\n            control={\r\n              <Checkbox\r\n                name=\"deliveryOption_3\"\r\n                checked={deliveryChecked3}\r\n                onChange={(e) => setDeliveryChecked3(e.target.checked)}\r\n              />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setTopHoleCount(0);\r\n              setTopHolePosition(\"Left\");\r\n              setTopHoleType(\"Rounded\");\r\n              setTopMaterial(\"Melamine\");\r\n              setTopColor(\"\");\r\n              setTopLength(700);\r\n              setTopWidth(400);\r\n              setTopThickness(25);\r\n              setTopRoundedCorners(0);\r\n              setTopCornerRadius(50);\r\n              setSketchUrl(\"\");\r\n\r\n              setDeliveryChecked0(false);\r\n              setDeliveryChecked1(false);\r\n              setDeliveryChecked2(false);\r\n              setDeliveryChecked3(false);\r\n\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    DeskToQuotations,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    remark,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskToQuotations.map((DeskToQuotation) => {\r\n            const {\r\n              stockId,\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n\r\n            const stock = DeskStocks.find(function(val) {\r\n              return val.id === stockId\r\n            })\r\n\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: stock,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\n\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/user/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/user/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/user/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Sales',\r\n    content: [\r\n      { to: '/user/sales', icon: <BookOnlineIcon />, label: 'Order' },\r\n      { to: '/user/quotation', icon: <BookOnlineIcon />, label: 'Quotation' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Standard = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Salesman\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            p: 3,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/chair/stock`} component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} component={DeskStock} />\r\n            <Route path={`${path}/accessory/stock`} component={AccessoryStock} />\r\n            <Route path={`${path}/sales`} exact component={SalesOrderView} />\r\n            <Route path={`${path}/sales/create`} exact component={SalesOrderCreate} />\r\n            <Route path={`${path}/sales/edit`} exact component={SalesOrderEdit} />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route path={`${path}/quotation/create`} exact component={QuotationCreate} />\r\n            <Route path={`${path}/quotation/edit`} exact component={QuotationEdit} />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Standard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/user/sales\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GuestRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === false ? (\r\n        <Component {...props} />\r\n      ) : auth.isAdmin === true ? (\r\n        <Redirect to=\"/admin/sales\" />\r\n      ) : (\r\n        <Redirect to=\"/user/sales\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === false ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/admin/sales\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(() => {\r\n  const { productType, deliveryId } = useParams();\r\n  const [link, setLink] = useState('');\r\n  useEffect(() => {\r\n    if (!link) {\r\n      axios\r\n        .post('/delivery/generatePDF', {\r\n          productType,\r\n          deliveryId,\r\n          signature: '',\r\n        })\r\n        .then((response) => {\r\n          // handle success\r\n          if (!response.data) {\r\n            Swal.fire({\r\n              icon: 'info',\r\n              title: 'Alarm',\r\n              text:\r\n                'New Delivery PDF was created. Please click the button again to check.',\r\n              allowOutsideClick: false,\r\n            });\r\n          }\r\n          setLink(response.data.url);\r\n          if (response.data.url) window.location.href = response.data.url;\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          });\r\n        });\r\n    }\r\n  }, [link]);\r\n  return <></>;\r\n});\r\n","import React, { useState } from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  CssBaseline,\r\n} from \"@mui/material\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"store\";\r\nimport axios from \"axios\";\r\n\r\nimport { Invoice, Quotation, Receipt, SignIn, SignUp } from \"components/Guest\";\r\nimport Admin from \"components/Admin\";\r\nimport Standard from \"components/Standard\";\r\nimport { AdminRoute, GuestRoute, PrivateRoute } from \"components/Common/Routes\";\r\nimport DeliveryPDF from \"components/Common/DeliveryPDF\";\r\n\r\nif (store.getState().auth.isLoggedIn)\r\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${\r\n    store.getState().auth.token\r\n  }`;\r\n\r\nconst theme = createTheme({\r\n  components: {\r\n    MuiButton: {\r\n      variants: [\r\n        {\r\n          props: { color: \"aaaa\" },\r\n          style: {\r\n            root: { color: `#888888` },\r\n          },\r\n        },\r\n      ],\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n      },\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: \"none\",\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      defaultProps: {\r\n        variant: \"outlined\",\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n        size: \"small\",\r\n      },\r\n    },\r\n    MuiFormControl: {\r\n      defaultProps: {\r\n        margin: \"dense\",\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\naxios.defaults.baseURL = \"http://localhost:4000/api\";\r\n// axios.defaults.baseURL = 'http://97.74.83.170/api';\r\n// axios.defaults.baseURL = \"https://blueoceanblue.com/api\";\r\n\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n    store.dispatch({ type: \"loading/beginLoading\" });\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    return response;\r\n  },\r\n  function (error) {\r\n    store.dispatch({ type: \"loading/endLoading\" });\r\n    if (error.response && error.response.status === 401)\r\n      store.dispatch({ type: \"auth/logout\" });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(store.getState().loading.value);\r\n  store.subscribe(() => {\r\n    setLoading(store.getState().loading.value);\r\n  });\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <Container\r\n          maxWidth = {false}\r\n          disableGutters\r\n          sx = {{\r\n            height: \"100vh\",\r\n            overflow: \"auto\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n        >\r\n          <Backdrop\r\n            sx = {{ color: \"#fff\", zIndex: (theme) => theme.zIndex.modal + 1 }}\r\n            open = {loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route path = \"/\" exact>\r\n                <Redirect to = \"/signin\" />\r\n              </Route>\r\n              <Route path = \"/invoice/:id\" exact component = {Invoice} />\r\n              <Route path = \"/receipt/:id\" exact component = {Receipt} />\r\n              <Route path = \"/quotation/:id\" exact component = {Quotation} />\r\n              <GuestRoute path = \"/signin\" exact component = {SignIn} />\r\n              <GuestRoute path = \"/signup\" exact component = {SignUp} />\r\n              <AdminRoute path = \"/admin\" component = {Admin} />\r\n              <PrivateRoute path = \"/user\" component = {Standard} />\r\n              <Route\r\n                path = \"/deliveryPDF/:productType/:deliveryId\"\r\n                component = {DeliveryPDF}\r\n              />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Container>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}