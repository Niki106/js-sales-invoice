(this["webpackJsonpsales-invoicing-system-app"]=this["webpackJsonpsales-invoicing-system-app"]||[]).push([[0],{376:function(e,t,a){},400:function(e,t){},402:function(e,t){},431:function(e,t){},432:function(e,t){},507:function(e,t){},677:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),c=a(78),r=a.n(c),o=(a(376),a(4)),l=a(25),s=a(36),u=a(758),d=a(808),p=a(773),b=a(782),j=a(348),h=a(809),m=a(24),x=a(99),f=a(65),O=Object(x.b)({name:"auth",initialState:{isLoggedIn:!1,isAdmin:!1,token:null},reducers:{loginSuccess:function(e,t){e.isLoggedIn=!0,e.token=t.payload.token,e.isAdmin=t.payload.isAdmin},loginFail:function(e){e.isLoggedIn=!1},logout:function(e){e.isLoggedIn=!1,e.isAdmin=!1,e.token=null}}}),g=O.actions,y=(g.loginSuccess,g.loginFail,g.logout,O.reducer),k=Object(x.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),v=k.actions,C=(v.increment,v.decrement,v.incrementByAmount,k.reducer),S=Object(x.b)({name:"loading",initialState:{value:!1},reducers:{beginLoading:function(e){e.value=!0},endLoading:function(e){e.value=!1}}}),D=S.actions,w=(D.increment,D.decrement,D.incrementByAmount,S.reducer),T=Object(f.b)({auth:y,counter:C,loading:w}),A=localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")):{},P=Object(x.a)({reducer:T,preloadedState:A});P.subscribe((function(){localStorage.setItem("state",JSON.stringify(P.getState()))}));var B=P,W=a(12),I=a.n(W),R=a(23),L=a.p+"static/media/chinese.msyh.554cdb5e.ttf",M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVcAAACWCAYAAABq8su9AAAkCElEQVR42uzdX0yVdRzH8S/m1urGpRetP9x3hSABBYqgR/7JnwMLT/x/Tmuu1WqpjRGuNramIN2Uq03amo5NoJQgFCeghEVoY0bNlOq2rQvn2rLNrRmn7/Pg2c7s1H7nnIfnfE7nc/Getz/2++61rw+c58jpCwXyf2zmuxx5s+d52VFqSZ0/yNamB7RsLaB1a+9pJ7QhbUQbBmxUe1eTcPaMvN7ZKlNXt9w/R59rvxvkQ5n7ZDa1mCsfnvBJvT8gjY0BCQTSO4hLIa4p1SatQ/tU+0ULpWB3DHH9RgsZVIsy98QVJ4hLIa4pUYF2XLsNAmQiXTPEdcYQ1wqUuSeuOEFcCnGFLkcbA0GRuAJHXIkrMytD6wfBkLjiJ8SVuDKzbfUHEAiJa4pEXIkr+++aQAAkrikWcSWu7N/bB4IfcU3BiCtxZdE7AAKfF10nrsSVuBJXL2oBQc+rbmsSrnS7Ja/sayOuxJW4EldXy3IBq5+1Ea1He0mztDatHbAXtVpN7PwNQSkptuSN7mZ7ZogrcSWuxNWV1mm/xgnqb9r72rMgP0tcVVZZUlsXlMHxYjm78DRxJa7Elbi60sdxwtqrbQL5GeLO2Vq36dZ6sFlmr2fLqZkC4kpciStxTbjsOH8RlAtyfhe21qDU1Abl5NlCmbxib63ElbgSV+KaeIsxwnpOWw9y9oSrv7e1HuhukdkbztZKXIkrcSWuCbctVlhBzu3u1loTlKHJIjnnbK3ElbgSV+KaeBdigHUZ5MyuPmvdXmw/a20JP2slrsSVuBLXhMuMcWvNBDm3y89aI7dW4kpciStxTbyuGGA9CHJmd7fWog7771rDWytxJa7Elbi60mVDWG+CnNfVX2L5dlpSXW3JyPlCmbxsb63ElbgSV+KaeBu1FUNcu0HO7Bqsu3yWlJdbcuxkhfNRV91aiStxJa7E1ZUqtZBhjyb7vLurg1JWZsnO0sQrLuyQigqFdag84k+viCtxJa7E1Z06DWG94vmz0Hr9t97ZLJ0Xqfh8q/fWZgVl78sdsr+rVXr6A/L24T1x1flWs26su2RmKccQVqdpQ1wrUeaeuOIEcSnE1bMGDHE9oonXVdcEpbnVkv3dbdJ7tEGOj5bKxFd5cn4xV6au5srM9zmKY3xdvJbt/GXAqemY5miamytxJa7E1aQJQ1wtj8/l/Jd9T5Ml45fyZW55s0wvbXFepDL2Rb6cvligJWWOFgxxLUGZe+KKE8SlEFfPmjPEtdzjczmPA1rbLZmYz7OBRZihDO2mIa6bUeaeuOIEcSnE1bMWDHHd6vnmWr76SOCz2XwUXLMNYf1TewRl7okrThCXQlzhcC0krgVHDHG9gTLzxBUriEshrp71tSGuRWmO63rtD0NcB1FmnrhiBXEpxJW4guE6oIUMa0eZeeKKFcSlEFfiCoRrYwywrmgbUGaeuGIFcSnElbiC4PqcFoqhT1DmnbjiBXEpxBUO16eSgWtTS9JwzdDe0UIxloUy78QVL4hLIa5wuNZrT2qZa1iWlh9+qcqOEkv8fkvG5jzF9THtVe2nOGCdRJl1lIgrcU3nTHFd0e5qf61RoXt1hN9WVVVlSd8HDXJmPk9Go38a62HtGa1Z69IOaX1abwwd1vq1Y9q8dkcLxdnjKLOOEnElrumcgytIu21YfT7L+ejrwHC5XFrOsu8u8sUqG7QXtNHwp6VAeg1lzpEirsQ1nUPA9a6WEwnrR8Nl938rwEbtkHYLBNPIxlFmHC3iSlzTOQRct0a8uDoarHtBUbVbQplvxIgrcU3nko2rFYa14p+wPqiNgiAarW+1h1DmGzHiSlzTuWTiOuhvWH21YGWl/Y0AZZHfCPCE9iMIotE6o63TJFpEl7gSV5YsXG9pUlsXlJJiS/qO1smXf7N39tFR1Wcef+wetJ59cXfP2dbdPdvds6fb/aMlSCCBQBLyQpJJJpnJvN6ZvM0kVoqAoAhSxEoQBasWX2vR+gZSQY0FRQFDhGB9obXtsra+UGrbQ2urp7Wn7bHHHqtOv/eZO+kwTJJ7Z+6Q39x5/viciUm8d7jzy2ee+8zze57Xy1Ji/SR4SxGJZmMQ0ATcCC5WZd2LXNVBiRdF5Op4uXb69JHW1XGMbOmjZ34wkzcLGMX7bygi0UyeBXMATUAAJECPKute5KoOSrwoIldHy/VlzMbiHViBYJwePVhF+78zOxW1Pq6ISDOlGgQ0CR6QMGhUZd2LXNVBiRdF5KqcXN8Bb4Jf5cHbBnX68MGaeTG69iv+ZDpgmF+jLkVk+j54CWwCswCZYEBmaIlcRa4i11zkWgemgXPy4OM6SAfwNNeeeBwzscZGuJyTx+6o18D9YCNYB75kgasNVoNe0ADOB2SBm2RAochV5CpyzVWuZbaMyzZGZbvdcdq5rxoTXMtT01c35CDVXaAa0BRRBl6U6a8iV5GryHVKWw5mVgeMvjYDYrXa5Z/5CIQATRHngetltLbIVeQqcp1yuSJiZbFWz43RoqWoDnh5rDpAJ2JRrLMBTRGLUz0NRK4iV5GryHVK5erzcxqA86wDi2K097lK5FpT1QGWKwQ6AU0hJ0BC5GqOp1+aRVt3NJLfJ3IVuZYehZQr92V1tfZTfV2cVl3Vw/Ws+yDWZDqAmQZ+V0T9UkdErqbgN8+RYzPprm80kNcrchW5lh4Fk6svkOxy1YjrfcMdPs6xPvGtirSIlSkHCZPMELkWF4d/eAGtWecjd6sachO5ilyLXq6IWFmqHZ443bGtnQ7hjww51gyxWqptPaHIOhK5moxah79XTg88VkOdnREKBCNKyE3kKnItarlCrHyNPV6UW+2v4YgVf2xZxMqsMimr+xRZRyJXc/DrfvkaP7maIhSJqiE3kWth4HzfFV/q4k+sW1v7QZzc7SUvWjvlyqmAxjSxoirAyK9mw1J96zWKrCORq5mo9fuzaNs3a/UqAYlaS0GuB/+vnK66VuMi9mC4n0KRARZCQ32MGhv0W1iUDPmVEF7RyrW1rZ8CuLY7nqyhkcnFShYmrA4qso5Erhai1laJWktDrvqQu0eGq7AzaD7t2jePv75vaCFt3BJG7WWcWprjtLAxTtj3DkomojUr13kmjsUTW6+72UfPH59uQqzMRolcnUMy1zoLudZa6tSj1oAaUlMFJV6kQr3we0Yr6ckXKlBrWcGfXO87Ops/bDl4rBwfvLipqzdOdTUxau8omSj2RTsj14UNcbrmxqCe38Y1F7mWIvokiZV61NqsUVSi1tKQ6wTS5agW+UEuel59VQ+nCZqb4knBOjuK/ZZJuTaalevgl0OobxS5KvJ8z3TUilxrskIgKFGryNWAb2P3Pl/Bo0a23O0hrzfOxe8ePHb6lBBhIdhvUq4Rs3LdcENQ5FqCcj21QkCjSEQNoamEEi/SFEexfFu758hcWry8j9MEHR7H5mEfMCnXq81HrmGRa4nJNVUhgFyr1LWKXCdfLEgRcD72kpV9vC8egnViBLvepFwPmDgWX6eVa3v0CEY+0FLj+Z7RqHXlFT6paxW5mkwTPFfBi2bN+ihVV8W4AYnP76gINmRSru+BjwOaCJeLy9ywG4vfnHANRa5OAHdzvMMuG988zGWOvBvLJ1GryNVKBIs8LN/yrN0Q5VItNCJxkmD/EyRM0mtmd1Z9bZwuXNTHda7JXgIi12JlaJgDDE7z7P/2bJ51lgneRLn07rLVXCEgUavI1VIEy6NInjteRptuDlB9neMEe9ykXF8BZIa66hhdekU3HXl9Bu0erYRgRa7Fhr7u9x+dzcHF6rU+WrQ4REuXB09j2Qo8XhKkUFjvfCVRq8jVcgTLt0WcIth8q58F2+ocwX7FykjsyRtj93OdcEMd17zyNcOt43iCXS9yVRMEFDyGZwnE2bhAI3dbhNrd2um04WcgFJK6VpFrHoKFJFgWm251VAQ704Jc3wFnTSpYpAfa2uJ6igDRvl8vLMc1FLkWC4haeZ1fe6Obmho1CmsR0qS0SuR6BgXL0VlrmyN2c71qQbCPmZ1A4GqJc0/Xux5qSg4jHBG5FgOYFMHpnCiE6umQmlWR65kVLOcTr9vCESxug4u+TKsbJCyw0axgmyBXr68f126u/kcrclUcPWp99vUyGtzcLpsBRK5T16eAy7SujlLtfH2jQdHv5HrLomA3ADKRIuDr88X1Ed79NjQiclWZp16YzaVX0S6NOr2SDhC5TpFgUWrEu7mWrexFBFv0udcgSFjkQXA2oHHxxcnlSr7xPHqQo1eRq6IMjfAdmUStIlc1bqHQZYsbcff1x2hBdZx8xZ1/PZqDYH8MvJNFr3U1cVo7GDEmE4hcVYRzrYclahW5KgJEwcXUjz87h4LhODXUFbVg/x0kcuQZEAbnZoteW43o9eGnq/iP2KJcVynyej/pVLliHY/lWlskahW5qoIewR76wQW0/fE64xPyohZsF0jkwdtgJ1gB2sB08GmOXmvjtGpdN2+XtCjXr4LPgP+dYl5wqlwlahW5KgsEyz1h73m4mVyuohfsFpCwkd+Cafrgws8vjtGBl2bxhyYpuTqQopLrqVGrbGEVuSrI0Ah3YneKYHfZKNffgWl6E/KLl/eJXBUjGbVWStQqclWblGC/vssRgt1pk1x/KXJVk6GDUiEgci0ixgT7cIsTcrA3i1ydK9enXpS6VpFrkaEL9tArF9Ddu5q5B0FNVYz0nGNjFsa+D/m0tCjZmPsikavz5DqWa90kUavItcjA4uVNBthbzx36r7wmkpV1GyPoFxuhxZfEKNrTzx236mtjvHXU41VmxMznwBGRa/HIFeuPewQ8gzWIOymuaEnn6I8+x3XamiZRq8i1COG+mN/mEd4s2nE5humz353Frd7ufNCF6Qdd1BvvZ8FifIpK474XgZMiV7XlinWH0fHJZtabtrhp3aAXedWOU9h8i4cuuTRAno6IRK0iV2cD4bBcjfldLOWbtnbSoqVxo4VfDJJVos3h2WAFeEXkqp5c9Yh1H3KpgBtatyyMUGuTRm7XqbS2aNTRHtH7sErUKnItHYxbOi64R/0scrcuunhFjJqbkrvAvD5l8rJtYCv46QRy/Wgcud6kiAztpnOK36Q5DXD5Gh811mkUDks+VeQqZJMsPyJlwF2l7nignbpjcR757WpRIopNpxwsBjeDfeAoOAFeHEeuy8HPwRsO4SfgJKidwnQAjyS6a0cDR6ehkESlqqCEUITxJXvwWDkNQ7SDX46Qx8vd/iE1ZaLYiTjrdLkyf6PKNbaJj03xNmw8VvGtvqdDxlyrhCoLVJh4YCIXfu86UK1vJ+WOU263clHsaZwqVzWup1MYE+tIFWlamNpcGkW71JCKIHItKvDHpH/wxZUG666NsriakI/1BdQQqcj1jIsVX0OsEQ1ilWGBKqLEYhHMpwoQxXKP1Fvu8ZC7PU4LG9TdDSZyzXP6xZFK2vtcBTdpN+DvHcZmlUcO6mINi1gVRomFJFjOxXKaYPsT9dSusGBFrrk3ZIdAWayPPD33tO2rO/bWQqgiVtVRYkEJud8aPvhEHQu2UUHBilwtvWnyPCtsT+VrtX6TlwY+H6aeXo3i/eEU+J5GWpg/vBKxKo4SC0uwSbD1aglW5GpNqrtH59CGzR7q6tZ473+HWyNfp75VlWG8Ho0CfqljLQaUWGBCXoLlmV5IESgnWJHrhFLl23+W6mFEqpu9Sak2Q6IeXZ5Sr1rsKLHQBFsEq1yKQOSa9bXiSBU5c5bqIKSailS9IlVHocSCE5yZgxW5jpNTPTw3Gal2GZGqNyJSdSBKLDzBVsFmpAjiIldFpKrnVAevN6TaJLf/TkeJBSjYnyLYtqeeBedy6aIb4D6x2Un+rIMfB0Su9uZU+fYfkapx+y9SLSWUWIiC7YLlSOlrDy5EBNtNgUAXhULd2QknHwPBXkS5saRoPbpoRa4516k+z1Idu/2PdklOtRRRYkEKtsNbZbfvnk/hcIjCoRBFImYIQ7ZdLFpMQ8iIZuMi10kYGp5Dw9+bxRHr+usyb/+lfKrUUGJRCoWR690P1SNqNdrQaSZgAYQoGg2yCIKhbiOaHWAsduLiPrRLL4vp40W4T+2e0cpk/9HDliikmPnYGDONx7wjVu77sOfIHIrFwtRUL7f/pY4SIhAUkWsGEC0TRjTLkaxnwFK7w6aF/XThF/rozu1NdMf9C3nrJiTLz80sB74zi/+f4e+XswCHRuzJhwI+Nsbt8AQIPPJ5IFr8zHrECrGi78Mc6u4OU2uzfPoviFwdiw1yBTzEzohkwzhWL3WYimKTIvYHYnxuT3uy3GjxkhBduirIc5zMsmRZkJZfFqDb72/iwXvAkGzuUkV/XG5+c/9jdXT5FT666Ashumx1gG79egtLHBUXpiXLEeuxZMTaBbG2tch+f0Hk6mhMyNUKLNdINIhjdbFAs0Sx/LWHf3YhpxMQ9ULOYR47EgKe9gi5WzVyt0VM0w5aWyIs6GXLQ/iQDpJ9OV2y1qW6bXcdrfpigPx+HLuZnw9Lsd2t0eKlIbr93hYWZoZks3atev74dKQ75lK3iFUQuZYGdsvVAPLQhalxFJuei2WpGlUG/kAfy5jlqtkhdo3CodSAPUh2xV8lOzIm2Ymlik/vIdUFtHqtLlUu3udrE4mmnSPMvVEh2zHJcqogTbLM45AqJM3XeMvWtqRYXdJIRRC5lgSFkitgcSJVwJUFPv9YLpalGtaiqcoDE8eyQbLbOV2QJtnsUl3FUo2wVP2BbJ/cZ0i2NZKU7JIw3XYvpwtY5hAt52pv+mobXXiRLmPuUCVTAASRa6lQQLmCCNCMyDRMwWAPhMRSZdJ/BxREsqGUZN2cLhiTLCTI8ht9NS1S9XFJlCFVC+cIa5zGaIdkL14Woq3fwAdz97VAqmGcm7+P35USK0HkWlJkyLWQojMj1cJLliPZIN03VE8791fT6iv9aVLNPRdqSJZFyi3/OnShi1QFkWvJcqpc1VhsBoVKF/AtejCY/O+2lvRI1QZYsjoiVUHkWtKUklzTJRsIRqSZtKAESohAELkKgtNQQgSCyFUQnIYSIhBEroLgNJQQgSByFQSnoYQIBJGrIDgNJUQgiFwFwWkoIQJB5CoITkMJEQgiV0FwGqk/xhmgAdRZoBHMA5QDZcb56jOOWW9QCc4HdIY4C3wGzDXOXwE+BWgK+AQoBwtANSgDf3cG5Tod1IC54J8A2cSnQD1YAGpNUmc8ngeogMwD5wKyif/O+LdapQ5UAbLIZ0GVDdfik4Dy5BNgPjgbUIH4WzADzAO1oCL13AvIP4A5oAbMBGdNJNcNIJEHh8A0QCZZZ/K474FR0FdAoUbBY+BklvN/CF4BW0ELoAJSAa4H3wV/BIkMfgMOg7Us/cLI9UrwMvgTSBj8AuwwhEt50Ar+DBI58hb4H0A28zHwAkiAEza9mfhBwib2WZBTL0gYbANkkXPAMyABfg/KAOXIdOMYCXDcEC3ZxPlgFdhrHPuPGdfsZ2AUbAbzbQ4O7gEn0871AXjVONd52eSasIEyQCZ5K4fjj4B/BmQTA+ANi8/h/0EUkI18Fuyx+DzeB7eAv7dJrv8GjoHEJCwBlCP7bRDNGkA2c3nGOW4HlCcHQMJGLgBkgoMgYfBn8K+ALDAz47xvG5Eh5cD6jGOFbHojvA781uL1OwBqAeVBG3h3kvO8CSoz5fpenmL9EPwLIJOcyPE8J8E/AsqD88BTIJEHu8G5gPJkeZ7P4xegHlAWuJfpndsbuDNUODThbdVP096FP8xcNBkRZxRQDuwGCfBRKqLJARcgGzkH/Bok0p7b++B8QHmwESTGh8/zrnGudyb53d9biPoezRDjfwGyQCX4IOP8I4ByYC1I2LBuUswAr6Yd733w0STXLvNO6QZAOVA5/jGZD9O+/wH4dLpc/wASBm+CWy1wo7WolXktdT7j3LdlOe62cW7VXwKUI/8BfjaOqN4Bh8DXjPNvBaPg3XF+//U8I+nbJpDmMfBQ2rXYA34ywe/3AsqAZ+fv3DePeno08vnGbQN4L0hkLNRhcIv2l/buPtqmOo/j+Dd5KJMeTItGmRZW5THPIaFl3IQbE3OvS43ShJqmUomyZkijovIcdbm6HoahrJWiTGR6LpJqpGJVo4iuTBKL67r4zXudtWtt39nnzvnt375P7v7j9Y97zj5nX3t/7u/8zvf3/fXvv9ALAeML3XycD7H0rO84u5GNyRb6QSJ2r+/cC3y/gycgDqpgOCZhsjIJ63AQR5CH+d7PtMcsP5ovhfF8i7oQC619IXHc938+HmJppO84riPXq2A8Ovw3YzGmYyqewis4nOQ5SyAWKuNrdQ8cxmLv9VbCqJ+/hlOCwnU1pBjpcP0SksSpGJssTCydlWQ6YpN3vGQfsc/FPT/9jpSXISFMhQnwOJpCkuiCpTAB+qrHJrYlefGdNnLzkEx6nQaG64Uw6ia4TT2mnX905+kWJlzVjS+lrKo6rz045hu9FueXIo/CePahOsSde7j6gugH9Qe3VymF6+VJQnI5ehQxH90U03XweUZbvP716jy+Ryf1mJthlMpB4fpWCYfrdi9EpQg6YD+FWHofRhlv8fw6WBEw2hVLNyYZjTe2OEbvJCPqBupxia1PRo/pI72uDrxwhqkL7ylIgIvwFQxW4ReO4ZqHOpBSdLcatRoU+H4X0yHFJBvGF2LNymC47lVTFgWoW8LhWhM/qmu0EIMsjtERm1XwLbN4/gJ1HpmQAJkwngcg5SVcBV+oILnQ4vXuh1EGQ0K4D8dRiN+GKLEyHtdPCvWxRx1rs3pMYr+nSbO6J3Y1zeyflXwEBfUXWTsDXSGQch6uVbHbd9Pk4zFsV3N6tStwuO5GoQqWzSUcrivUMQ6hDcTSqciFwXY0tHjuuzCevd6xJIlG6AApb+E6UQVJD0gKzoFRRkAcXIi6EEuL1fv4HOLgYhglC+JJ7CU1d2kXuvNnQV0MBIoK1ysgRTlJwvVuddO+BcE89e8zKnC45uN1bFe/k/klFK5XwiiuZVUXhZiCWQfj+R6VIEUpj+F6rwqRfhCPzZTCu5BSUBtGuQTi6HZ1zK3+ny9/zZt3HZoRNO/6R3UDTK8A4VoFeeq8e/pqM42aLqhdQcPV4AZ0DJiXH1YC4bpSTQc8DCkFi9R59DkZw3W2ChGvBMl6OqEFpBTcpd7HEkhEtuuaY9++/Yn99ceM753YUlptfVI/4MYZfJKH613qfDeony/To9cKHK4TIJgNo7QqxnCtgwJ1LlUgpWCwCvk8tA4brq+UwXCthH0qQFIpg2oQUBkgpeQl9V46QCKiV7yN8v989cbWkrOkS2Ln0oyMLH0B/C2gFOt5jMNoZATVS5bTagE912rQXc+bBdW9VtBwnQnxfKh+b3moXkzhOkg9dxKklFTDThWwBzEXY3AveuHMVML1I7RCW1wWoB3a4IwIw1UUbQVMiD8AGep5EyARuBSNIRa+UlUGp0Ai0k6d5yJVkpVYrTX01ozEHvxq9Ho2dqlSFy3fC+FfRxCux/Et0tEK7ZLSr+fuHnXTrocEWKZupicqaLhOU0tOD6rf39piCteHAz+Ku2uFCyCWOulFBAG+wQNJw9VSHhoXc51re6yBUdpDUjBcPe8miKMHYTz3pPqlmuoX8E4xNHophPG8CvFPDby6uYVMnZ1GSVZWUNVAfWyFUbT9SHMM16M4AJOCY/h9hKPW75KMWrUmQaPXCh6ugu4wyviIw1VPQ+RH8Pup4lshWBCyTrufHnz4z89nI2qHCVdtSgThesALmw34wLOhiBVJTzp8XO4HcVAJBf7VbBYrw47CeF6EROgM7IXxrIeoL7YS0wNDb8mQ9B5ZQdtOV8Ej+BwF/2cpYUeHcLW1sZgqBN5LZbmuv+41DteEMQGh0ivicH0GxnNQnUcYzWF8/g4JoSEW4zt1PL2ibRtquIbrdU7ham8ZxMJI9fyBEAdV8B2M5zNICs5DQTHOa5+NQzCetyF69LqWBQUz53Xz5l6LbI7RBmnIQjaOq2mD/+AXDstfj1iE6+wo51o9hSnUOtZQPRAKUCsO14RVKjjVAgPncF3gD1f/Wn3X3gCepyEOzkUXdMMQrAhYCfZcULjm4UnMxpwAOcjGMEgJhesxjIVYGqyOMxLioDJ2wXg+tgjl3XoqJEKXqPN8HqKteKut/GN9a7nxpkzp09vqYuqM/epmecAhXPdgMZ5EThJzMBY1Ip5rPYpNuAgt0SqJeliLI74bZlocrgmnY5deYBBhuE5RS167OM+1Rv8HW7szYETfSYfrGogz93D9As/hr2pZp43L1TGXl2C4au+p93IBJCIDoXoUqJHrGuZdP2khU7K7S+90Rq6Z1hdPN3XxfIFKIacFdpVSXetR7Ff9P4tyCPt9PQcOo1YcrgktYIpYYHCfDleHKZw7y0G4Ch5Xo9f5pV3nul6tvoqy2L+a+iKpANVLKVynwegvwyLysjp2Hz0lsGpdG3nhzbYycGB/Rq2+igE7q9QN1cShzvVXJVnXqkauxoIXrPACJw7X4IYlaoHBKIdwbauO+XY5CdfT1fTTxtIO10/0/KgK3qoQB8+oY04spXDVo+jdkAg0Cti94TT9uDe3XCr308Dl6jT1ZZad0TA+vcr4IgJ/hcARGAf5vlVbteJw/VmOP0Q9NZFmGa7aZ+r5vykH4SpY7f+EVtrhugvieThJb9NqDq/VAUa5OMpwdWgSPgPi6OOijrlsdTt5fUtzmfF0mvSkM1Y/egz0twxX/VHP55oyHq7+udZCbMMs5GBuCnIwE5vUx71pcbie4F8qCNfgITXiz3Cs7thWTsLVvwvF7rKw/LWyDljlA/UYW2+o4+3EOc5LTe3D9WrH7lxaLozyS990QKJxy5KXOgpNWxK9BQYMOOFCqI5RuBWSgmUwPi3LcLgG1bVeBQmhQUDPgVpxuP7sfBwOaA14xCFcqwWUPK0Mu1GiQ7g2wF9SvHYqYQeM56Oy2FsgKGA3OARsXRhlGxpBLFym+qhugVh6AUa5A2JpPoxyq55rfe3T5jJ8RF9J69pfBgxUHda9zeg8U1OoFTzmu1l2oGoZDte7g3oIOHhGhcfUOFxP0FMF2D4U6nC1lB7wpdnKEJ2t/qTqUHMhKain9s3qDSnCKHWNLNXhuraM9BYICtiNapdZG5kwylGMwGkp1JGOgVH+HbJW9msYZTmapTj63QSjLNWPffHdNrJg+RWSSWVA375ZQdsDG+W2Ioqnd+r13mW4t0DS1VgOGsHoutc4XE8wTvXDzcexkOGq22LqSpWsFIv+c33v55hl28RrA7Z3aQ8J0D/gffbQ4fohmqAZmitaCzQppnBNPkVgH7B6Oay2E9NxPdqhCdrjBmTje5gAf4aEUMc3d6utwnCkoRlaoA/GYl0RzxElseT1wUfTpUf3pNUBCwO+jFiAPmiKThiHfeoiK8C5Dr0F8nAVmqFlClrg1DBzrXrUGvHodVocrv/jZTXPfVSFaxjzkqwUXIdxXgi2RDN0xi14FodU1YftNkVnYUfAHnIT0BVN0Qs5Aa/zxk+LCA647oZq+ZF9C4xnhwpX7REYZR1Od9hS20QgJ4J+ABtgHD0NSRquE9Np1pL04jkT3/hqQI+ntJOmfSMN3QxlL4ylragHUbRzkBfRqFVrqN7TYdSHWJqtwvXSYgjXvBCNb9qocJ0eshwpLyBsMqOoIfUU+o6rabpK5HaHPbzUsZLeI/tRByIRhU0zSIq+gfH8gEoQTY9glWshIbXCmzAhbFA9ClxNhAlhj25EE7TFy/jH0iW9Z5EXzwXYrG+GInbbHORQoqJqTa2NhCjaLep9vw9Rohi9Fjps17xI3bAtIYprHfKPIVpFdlB/lHIgIbTU11NEDXgy8CWMPr4SdH2tQDtICNcgXx0/2evtQFN/45aPYBzVhqTon+pjvnhsArYxxFF/1XUrmZ2YhzRIMWiIWfgWRtG2YjTOgoQMV60SJqgCaO0VtHHdy99ROkTRrrDaqdbexer410EsPQjjOYCakAjMgvFsD/HFTx11biMgIQ0NbK7t7jSMwAfqk5Z2DB/jcbSGOKqHRSgsog46W/d1/Wn76MlYiAUWFiIHnSEWzsNMZFtuNDgEs9EJEqH6GIDx3vHn4Sncgc5qjrc4VUNXDMdM5GIupmAI2kIUl3DVaiILjyAXs3CHmsQP6xSMxnwssLAQubjZ4rW6Iwd/gETNN882yGElz0OYg8shEamBRzHHYTR8JXIwNoLu/zd4x/odpBi08l5jvPc6uZiIG1WgRqkxhmGG93qTMSRZcxkxxsRisVgsWnG4xmKxWByusVgsVk6UiTcRi8ViJ5sy8SZisVjsZFMm3kQsFoudbP4LF1ZXxIg2zNsAAAAASUVORK5CYII=",N=a(0),H=Object(m.b)((function(e){return{loading:e.loading.value}}))((function(e){return Object(N.jsx)(R.PDFViewer,{height:"100%",children:Object(N.jsx)(R.Document,{children:Object(N.jsx)(R.Page,{children:Object(N.jsx)(R.View,{children:Object(N.jsx)(R.View,{children:Object(N.jsx)(R.Text,{children:"Invoice"})})})})})})})),V=a(28),z=a(8),q=a(18),F=a(731),Q=a(147),E=["cells"],U=["content","width"],K=["cells"],Y=["content","width"],J=R.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});R.Font.register({family:"Microsoft Yahei",src:L});var G=["January","February","March","April","May","June","July","August","September","October","November","December"],X=Object(m.b)((function(e){return{loading:e.loading.value}}))((function(e){var t=e.loading,a=Object(n.useState)(!1),i=Object(o.a)(a,2),c=i[0],r=i[1],l=Object(n.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToQuotations:[]}),u=Object(o.a)(l,2),d=u[0],j=u[1],h=Object(s.h)().id;Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return m({id:h,cancelToken:e.token}),function(){return e.cancel("Brand Component got unmounted")}}),[h]);var m=function(e){var t=e.id,a=e.cancelToken;I.a.get("/quotation/".concat(t),{cancelToken:a}).then((function(e){console.log(e.data),r(!0),j(e.data)})).catch((function(e){r(!1)}))};return t?Object(N.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(N.jsx)(b.a,{color:"inherit"})}):c?Object(N.jsx)(R.PDFViewer,{height:"100%",children:Object(N.jsx)(R.Document,{children:Object(N.jsxs)(R.Page,{style:J.body,wrap:!0,children:[Object(N.jsxs)(R.View,{style:J.header,children:[Object(N.jsxs)(R.View,{children:[Object(N.jsx)(R.Text,{style:J.title,children:"Quotation"}),Object(N.jsxs)(R.Text,{children:["Date: ",function(e){var t=new Date(e);return"".concat(G[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}(d.createdAt)]}),Object(N.jsx)(R.Text,{children:"No: Q-".concat(d.Seller.prefix).concat(function(e){var t=new Date(e);return"".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate())}(d.createdAt)).concat(("000"+d.quotationNum).substr(-3))})]}),Object(N.jsx)(R.View,{style:J.logo,children:Object(N.jsx)(R.Image,{src:M})})]}),Object(N.jsxs)(R.View,{style:J.info,children:[Object(N.jsxs)(R.View,{style:J.companyInfo,children:[Object(N.jsx)(R.Text,{children:"Blueocean Int\u2019l (HK) Ltd"}),Object(N.jsx)(R.Text,{children:"19/F"}),Object(N.jsx)(R.Text,{children:"Bel Trade Commercial Building"}),Object(N.jsx)(R.Text,{children:"3 Burrows Street"}),Object(N.jsx)(R.Text,{children:"Wanchai, Hong Kong"}),Object(N.jsx)(R.Text,{children:"Tel: 2169 3337"}),Object(N.jsxs)(R.Text,{children:["Email: ",Object(N.jsx)(R.Tspan,{style:J.email,children:"info@ergoseatings.com"})]})]}),Object(N.jsxs)(R.View,{style:J.clientInfo,children:[Object(N.jsxs)(R.Text,{children:["Client's Name: ",d.name]}),d.unit?Object(N.jsxs)(R.Text,{children:["Unit ",d.unit]}):null,d.floor?Object(N.jsxs)(R.Text,{children:["Floor ",d.floor]}):null,d.block?Object(N.jsxs)(R.Text,{children:["Block ",d.block]}):null,Object(N.jsx)(R.Text,{children:d.street}),Object(N.jsx)(R.Text,{children:d.district}),Object(N.jsxs)(R.Text,{children:["Phone: ",d.phone]}),Object(N.jsxs)(R.Text,{children:["Email: ",Object(N.jsx)(R.Tspan,{style:J.email,children:d.email})]})]})]}),Object(N.jsx)(R.View,{style:J.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Proposed Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Valid Til",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(d.Seller.firstName," ").concat(d.Seller.lastName),width:"15%"},{content:d.timeLine%7===0?"Est ".concat(d.timeLine/7," working week").concat(d.timeLine/7===1?"":"s"," after payment"):"Est ".concat(d.timeLine," working day").concat(1===d.timeLine?"":"s"," after payment"),width:"55%"},{content:d.paymentTerms,width:"15%"},{content:"".concat(d.validTil," month").concat(1===d.validTil?"":"s"),textAlign:"right",width:"15%"}]}].map((function(e,t,a){var n=e.cells,i=Object(q.a)(e,E);return Object(N.jsx)(R.View,{style:[J.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((function(e,t,a){var n=e.content,i=e.width,c=Object(q.a)(e,U);return Object(N.jsx)(R.Text,{style:[J.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},c)],children:n},t)}))},t)}))}),Object(N.jsxs)(R.View,{style:J.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"}].concat(Object(V.a)(d.ChairStocks.map((function(e){return{cells:[{content:"".concat(e.ChairToQuotation.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToQuotation.remark,"\n").concat(JSON.parse(e.ChairToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty),textAlign:"right",width:"15%"}]}}))),Object(V.a)(d.DeskStocks.map((function(e){return{cells:[{content:"".concat(e.DeskToQuotation.qty),width:"15%"},{content:"Desk Model: ".concat(e.model,"\nColor of Legs: ").concat(e.color,"\nArmSize: ").concat(e.armSize,"\nFeetSize: ").concat(e.feetSize,"\nBeam Size: ").concat(e.beamSize,"\n").concat(e.DeskToQuotation.hasDeskTop?"Table Top: ".concat(e.DeskToQuotation.topMaterial," ").concat(e.DeskToQuotation.topColor,"\nTable Top Size: ").concat(e.DeskToQuotation.topLength,"x").concat(e.DeskToQuotation.topWidth,"x").concat(e.DeskToQuotation.topThickness,"\nTable Top Color:\nRounded Corners: ").concat(e.DeskToQuotation.topRoundedCorners,", Radius: R").concat(e.DeskToQuotation.topCornerRadius,"\nHoles Required: ").concat(e.DeskToQuotation.topHoleCount,", Holes Shaped: ").concat(e.DeskToQuotation.topHoleType,", \nRemark: ").concat(e.DeskToQuotation.remark):"Without DeskTop","\n").concat(JSON.parse(e.DeskToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.DeskToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty),textAlign:"right",width:"15%"}]}}))),Object(V.a)(d.AccessoryStocks.map((function(e){return{cells:[{content:"".concat(e.AccessoryToQuotation.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToQuotation.remark,"\n").concat(JSON.parse(e.AccessoryToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty),textAlign:"right",width:"15%"}]}}))),Object(V.a)(d.ServiceToQuotations.map((function(e){return{cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]}}))),Object(V.a)(Array(Math.max(0,6-d.ChairStocks.length-d.DeskStocks.length-d.AccessoryStocks.length-d.ServiceToQuotations.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]})),[{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToQuotations.length?d.ServiceToQuotations.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.ServiceToQuotations.length?d.ServiceToQuotations.map((function(e){return e.price})).reduce((function(e,t){return e+t})):0)-(d.discountType?d.discount:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.discount/100)+(d.surchargeType?d.surcharge:((d.ChairStocks.length?d.ChairStocks.map((function(e){return e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.DeskStocks.length?d.DeskStocks.map((function(e){return e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty})).reduce((function(e,t){return e+t})):0)+(d.AccessoryStocks.length?d.AccessoryStocks.map((function(e){return e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty})).reduce((function(e,t){return e+t})):0))*d.surcharge/100)),textAlign:"right",width:"15%"}]}]).map((function(e,t,a){var n=e.cells,i=Object(q.a)(e,K);return Object(N.jsx)(R.View,{style:[J.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((function(e,t,a){var n=e.content,i=e.width,c=Object(q.a)(e,Y);return Object(N.jsx)(R.Text,{style:[J.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},c)],children:n},t)}))},t)})),Object(N.jsx)(R.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((function(e,t){return Object(N.jsxs)(R.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(N.jsx)(R.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(N.jsx)(R.Text,{children:"\u2022"})}),Object(N.jsx)(R.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(N.jsx)(R.Text,{children:e})})]},t)})),Object(N.jsx)(R.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((function(e,t){return Object(N.jsxs)(R.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(N.jsx)(R.View,{style:{width:2,height:2,margin:"5px 10px 0 0",backgroundColor:"#888888"}}),Object(N.jsx)(R.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(N.jsx)(R.Text,{children:e})})]},t)})),Object(N.jsx)(R.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(N.jsx)(R.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this quotation represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(N.jsx)(R.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(N.jsx)(R.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})}):Object(N.jsxs)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:[Object(N.jsx)(F.a,{}),Object(N.jsx)(Q.a,{children:"This url is not a valid quotation url."})]})})),Z=a(783),_=a(784),$=a(774),ee=a(775),te=a(332),ae=a(790),ne=a(766),ie=a(791),ce=a(168),re=a.n(ce),oe=a(17),le=a.n(oe),se=function(){return function(e){delete I.a.defaults.headers.common.Authorization,e({type:"auth/logout"})}};var ue=function(e){return Object(N.jsxs)(Q.a,Object(z.a)(Object(z.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(N.jsx)(Z.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}))},de=Object(m.b)((function(e){return{auth:e.auth}}),{login:function(e){return function(t){return new Promise((function(a,n){I.a.post("/user/login",e).then((function(e){var n=e.data,i=n.token,c="admin"===n.type;I.a.defaults.headers.common.Authorization="Bearer ".concat(i),t({type:"auth/loginSuccess",payload:{token:i,isAdmin:c}}),a()})).catch((function(e){n(e)})).then((function(){}))}))}}})((function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(_.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)("img",{src:M,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(N.jsx)($.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(N.jsx)(re.a,{})}),Object(N.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)(_.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:function(t){t.preventDefault();var a=t.currentTarget,n=new FormData(a);e.login({email:n.get("email"),password:n.get("password")}).then().catch((function(e){a.password.value="",le.a.fire({icon:"error",title:"Login Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})}))},noValidate:!0,sx:{mt:1},children:[Object(N.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(N.jsx)(ee.a,{item:!0,xs:12,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email",autoFocus:!0})}),Object(N.jsx)(ee.a,{item:!0,xs:12,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(N.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(N.jsxs)(ee.a,{container:!0,children:[Object(N.jsx)(ee.a,{item:!0,xs:!0,children:Object(N.jsx)(Z.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(N.jsx)(ee.a,{item:!0,children:Object(N.jsx)(Z.a,{component:l.b,to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(N.jsx)(ue,{sx:{mt:8,mb:4}})]})})),pe=a(787),be=a(770),je=a(777),he=a(323);var me=function(e){return Object(N.jsxs)(Q.a,Object(z.a)(Object(z.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(N.jsx)(Z.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}))},xe=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(_.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)("img",{src:M,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(N.jsx)($.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(N.jsx)(re.a,{})}),Object(N.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(N.jsxs)(_.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:function(t){t.preventDefault();var a=t.currentTarget,n=new FormData(a);I.a.post("user/register",{firstName:n.get("firstName"),lastName:n.get("lastName"),email:n.get("email"),password:n.get("password"),prefix:n.get("prefix"),type:n.get("type")}).then((function(){e.history.push("/signin"),le.a.fire({icon:"success",title:"SignUp Success",html:"Your account was successfully registered.<br>You can use your account once Adminstrator allows.",allowOutsideClick:!1})})).catch((function(e){le.a.fire({icon:"error",title:"SignUp Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})})).then((function(){}))},noValidate:!0,sx:{mt:1},children:[Object(N.jsxs)(ee.a,{container:!0,spacing:2,children:[Object(N.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,label:"First Name",type:"text",name:"firstName",autoComplete:"fname",autoFocus:!0})}),Object(N.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,label:"Last Name",type:"text",name:"lastName",autoComplete:"lname"})}),Object(N.jsx)(ee.a,{item:!0,xs:12,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"})}),Object(N.jsx)(ee.a,{item:!0,xs:12,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password"})}),Object(N.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(N.jsx)(te.a,{required:!0,fullWidth:!0,name:"prefix",label:"Prefix",type:"text",autoComplete:"prefix"})}),Object(N.jsx)(ee.a,{item:!0,xs:12,sm:6,children:Object(N.jsxs)(pe.a,{fullWidth:!0,children:[Object(N.jsx)(be.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(N.jsxs)(je.a,{labelId:"user-type-select-label",id:"user-type-select",defaultValue:"",name:"type",label:"Type",children:[Object(N.jsx)(he.a,{value:"salesman",children:"Salesman"}),Object(N.jsx)(he.a,{value:"driver",children:"Driver"})]})]})})]}),Object(N.jsx)(ie.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(N.jsx)(ee.a,{container:!0,justifyContent:"flex-end",children:Object(N.jsx)(ee.a,{item:!0,children:Object(N.jsx)(Z.a,{component:l.b,to:"/signin",variant:"body2",children:"Already have an account? Sign In"})})})]})]}),Object(N.jsx)(me,{sx:{mt:8,mb:4}})]})})),fe=a(754),Oe=a(755),ge=a(756),ye=a(757),ke=a(792),ve=a(793),Ce=a(324),Se=a(735),De=["component","auth","drawerHeight","handleDrawerToggle","title"],we=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){e.component,e.auth;var t=e.drawerHeight,a=e.handleDrawerToggle,n=e.title;Object(q.a)(e,De);return Object(N.jsx)(ke.a,{position:"static",sx:{backgroundColor:"#5664d2",flexBasis:"".concat(t,"px"),maxHeight:"".concat(t,"px")},children:Object(N.jsxs)(ve.a,{variant:"dense",children:[Object(N.jsx)(Ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2,display:{sm:"none"}},children:Object(N.jsx)(Se.a,{})}),Object(N.jsx)(Q.a,{variant:"h6",noWrap:!0,component:"div",children:n})]})})})),Te=a(789),Ae=a(767),Pe=a(737),Be=a(738),We=a(794),Ie=a(325),Re=a(760),Le=a(736),Me=a(739),Ne=Object(Re.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:function(e){return e.drawerWidth},backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"},overflow:"auto","&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:"#6b778c",borderRadius:4}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}}),He=function(e){var t=e.drawerWidth,a=e.handleLogout,i=e.lists,c=Ne({drawerWidth:t}),r=Object(n.useState)(-1),s=Object(o.a)(r,2),u=s[0],d=s[1],p=Object(n.useState)(-1),b=Object(o.a)(p,2),j=b[0],h=b[1];return Object(N.jsxs)(_.a,{className:c.root,sx:{display:{xs:"none",sm:"block"}},children:[i.map((function(e,t){return[Object(N.jsxs)(Te.a,{children:[e.category?Object(N.jsx)(Q.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((function(e,a){return e.children?[Object(N.jsxs)(Ae.a,{button:!0,className:c.navlink,onClick:function(){j===a&&u===t?(h(-1),d(-1)):(h(a),d(t))},secondaryAction:Object(N.jsx)(Le.a,{sx:{transition:"transform ease .3s",transform:j===a&&u===t?"":"Rotate(-90deg)"}}),children:[Object(N.jsx)(Pe.a,{children:e.icon}),Object(N.jsx)(Be.a,{primary:e.label})]},"listitem-".concat(a)),Object(N.jsx)(We.a,{in:j===a&&u===t,children:Object(N.jsx)(Te.a,{disablePadding:!0,children:e.children.map((function(e,t){return Object(N.jsx)(l.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(N.jsxs)(Ae.a,{button:!0,className:c.navlink,children:[Object(N.jsx)(Pe.a,{children:null}),Object(N.jsx)(Be.a,{primary:e.label})]})},t)}))})},"listcollapse-".concat(a))]:Object(N.jsx)(l.c,Object(z.a)(Object(z.a)({activeClassName:"active"},e),{},{children:Object(N.jsxs)(Ae.a,{button:!0,className:c.navlink,children:[Object(N.jsx)(Pe.a,{children:e.icon}),Object(N.jsx)(Be.a,{primary:e.label})]})}),"listitem-".concat(a))}))]},"list-".concat(t)),Object(N.jsx)(Ie.a,{},"listdivider-".concat(t))]})),Object(N.jsx)(Te.a,{children:Object(N.jsxs)(Ae.a,{button:!0,className:c.navlink,onClick:a,children:[Object(N.jsx)(Pe.a,{children:Object(N.jsx)(Me.a,{})}),Object(N.jsx)(Be.a,{primary:"Logout"})]})})]})},Ve=a(778),ze=Object(Re.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:function(e){return e.drawerWidth},backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}}),qe=function(e){var t=e.drawerWidth,a=e.handleLogout,i=e.handleDrawerClose,c=e.lists,r=e.mobileOpen,s=ze({drawerWidth:t}),u=Object(n.useState)(-1),d=Object(o.a)(u,2),p=d[0],b=d[1],j=Object(n.useState)(-1),h=Object(o.a)(j,2),m=h[0],x=h[1];return Object(N.jsxs)(Ve.a,{variant:"temporary",open:r,onClose:i,ModalProps:{keepMounted:!0},PaperProps:{className:s.root},sx:{display:{xs:"block",sm:"none"}},children:[c.map((function(e,t){return[Object(N.jsxs)(Te.a,{children:[e.category?Object(N.jsx)(Q.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((function(e,a){return e.children?[Object(N.jsxs)(Ae.a,{button:!0,className:s.navlink,onClick:function(){m===a&&p===t?(x(-1),b(-1)):(x(a),b(t))},secondaryAction:Object(N.jsx)(Le.a,{sx:{transition:"transform ease .3s",transform:m===a&&p===t?"":"Rotate(-90deg)"}}),children:[Object(N.jsx)(Pe.a,{children:e.icon}),Object(N.jsx)(Be.a,{primary:e.label})]},"listitem-".concat(a)),Object(N.jsx)(We.a,{in:m===a&&p===t,children:Object(N.jsx)(Te.a,{disablePadding:!0,children:e.children.map((function(e,t){return Object(N.jsx)(l.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(N.jsxs)(Ae.a,{button:!0,className:s.navlink,children:[Object(N.jsx)(Pe.a,{children:null}),Object(N.jsx)(Be.a,{primary:e.label})]})},t)}))})},"listcollapse-".concat(a))]:Object(N.jsx)(l.c,Object(z.a)(Object(z.a)({},e),{},{activeClassName:"active",children:Object(N.jsxs)(Ae.a,{button:!0,className:s.navlink,children:[Object(N.jsx)(Pe.a,{children:e.icon}),Object(N.jsx)(Be.a,{primary:e.label})]})}),"listitem-".concat(a))}))]},"list-".concat(t)),Object(N.jsx)(Ie.a,{},"listdivider-".concat(t))]})),Object(N.jsx)(Te.a,{children:Object(N.jsxs)(Ae.a,{button:!0,className:s.navlink,onClick:function(e){i(e),a(e)},children:[Object(N.jsx)(Pe.a,{children:Object(N.jsx)(Me.a,{})}),Object(N.jsx)(Be.a,{primary:"Logout"})]})})]})},Fe=a(800),Qe=a(801),Ee=a(802),Ue=a(745),Ke=a(803),Ye=a(804),Je=a(742),Ge=a(743),Xe=a(5),Ze=a(74),_e=a(795),$e=a(796),et=a(740),tt=a(779),at=a(221),nt=a(797),it=a(798),ct=a(799),rt=a(768),ot=a(744),lt=a(346),st=a(788),ut=a(780),dt=a(741),pt=["id","label","nonSort","sx"],bt=["id","label","nonSort","sx"];function jt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function ht(e,t){return"desc"===e?function(e,a){return jt(e,a,t)}:function(e,a){return-jt(e,a,t)}}function mt(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}function xt(e){var t=e.columns,a=e.onSelectAllClick,n=e.order,i=e.orderBy,c=e.numSelected,r=e.nonSelect,o=e.rowCount,l=e.onRequestSort;return Object(N.jsx)(_e.a,{children:Object(N.jsxs)($e.a,{children:[!r&&Object(N.jsx)(et.a,{padding:"checkbox",children:Object(N.jsx)(ne.a,{color:"primary",indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),t.map((function(e){var t,a=e.id,c=e.label,r=e.nonSort,o=e.sx,s=Object(q.a)(e,pt);return Object(N.jsx)(et.a,Object(z.a)(Object(z.a)({align:"left",sx:Object(z.a)({p:"3px 0 3px 5px"},o),sortDirection:i===a&&n},s),{},{children:r?c:Object(N.jsx)(tt.a,{active:i===a,direction:i===a?n:"asc",onClick:(t=a,function(e){l(e,t)}),IconComponent:dt.a,children:c})}),a)}))]})})}var ft=function(e){var t=e.title,a=e.numSelected,n=e.onBulkEditClick,i=e.onBulkRemoveClick;return Object(N.jsxs)(ve.a,{sx:Object(z.a)({pl:{sm:2},pr:{xs:1,sm:1}},a>0&&{bgcolor:function(e){return Object(Ze.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[a>0?Object(N.jsxs)(Q.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(N.jsx)(Q.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:t}),a>0&&Object(N.jsxs)(N.Fragment,{children:[n&&Object(N.jsx)(ut.a,{title:"Edit",children:Object(N.jsx)(Ce.a,{onClick:n,children:Object(N.jsx)(Je.a,{})})}),i&&Object(N.jsx)(ut.a,{title:"Delete",children:Object(N.jsx)(Ce.a,{onClick:i,children:Object(N.jsx)(Ge.a,{})})})]})]})},Ot=Object(Re.a)((function(e){var t;return{table:(t={},Object(Xe.a)(t,"& .MuiTableCell-root.".concat(at.a.head),{backgroundColor:ot.a[400],"&, & *":{color:ot.a[50]},fontSize:16,fontWeight:600}),Object(Xe.a)(t,"& .MuiTableCell-root.".concat(at.a.body),{fontSize:14}),Object(Xe.a)(t,"& .MuiTableRow-root",{height:40,"&:nth-of-type(odd)":{backgroundColor:lt.a[50]},"&:last-child td, &:last-child th":{border:0}}),t)}})),gt=function(e){var t=e.title,a=e.columns,i=e.nonSelect,c=e.onBulkEditClick,r=e.onBulkRemoveClick,l=e.rows,s=Ot(),u=Object(n.useState)("asc"),d=Object(o.a)(u,2),p=d[0],b=d[1],j=Object(n.useState)("index"),h=Object(o.a)(j,2),m=h[0],x=h[1],f=Object(n.useState)([]),O=Object(o.a)(f,2),g=O[0],y=O[1],k=Object(n.useState)(0),v=Object(o.a)(k,2),C=v[0],S=v[1],D=Object(n.useState)(10),w=Object(o.a)(D,2),T=w[0],A=w[1],P=Object(n.useState)(l.length),B=Object(o.a)(P,2),W=B[0],I=B[1],R=Object(n.useRef)();Object(n.useEffect)((function(){R.current!==l.map((function(e){return e.id})).join(",")&&(R.current=l.map((function(e){return e.id})).join(","),y(g.filter((function(e){return l.map((function(e){return e.id})).includes(e)})))),l.length!==W&&(S(0),I(l.length))}),[l,g]);var L=C>0?Math.max(0,(1+C)*T-l.length):0;return Object(N.jsx)(_.a,{sx:{width:"100%"},children:Object(N.jsxs)(st.a,{sx:{width:"100%",mt:2},children:[Object(N.jsx)(ft,{title:t,numSelected:g.length,onBulkEditClick:c?function(e){e.preventDefault(),c(g)}:null,onBulkRemoveClick:r?function(e){e.preventDefault(),r(g)}:null}),Object(N.jsx)(nt.a,{children:Object(N.jsxs)(it.a,{className:s.table,sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",children:[Object(N.jsx)(xt,{columns:a,numSelected:g.length,order:p,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var t=l.map((function(e){return e.id}));y(t)}else y([])},onRequestSort:function(e,t){b(m===t&&"asc"===p?"desc":"asc"),x(t)},nonSelect:i,rowCount:l.length}),Object(N.jsxs)(ct.a,{children:[mt(l,ht(p,m)).slice(C*T,C*T+T).map((function(e,t){var n,c=(n=e.id,-1!==g.indexOf(n)),r="enhanced-table-checkbox-".concat(t);return Object(N.jsxs)($e.a,{role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[!i&&Object(N.jsx)(et.a,{padding:"checkbox",children:Object(N.jsx)(ne.a,{onClick:function(t){return function(e,t){var a=g.indexOf(t),n=[];-1===a?n=n.concat(g,t):0===a?n=n.concat(g.slice(1)):a===g.length-1?n=n.concat(g.slice(0,-1)):a>0&&(n=n.concat(g.slice(0,a),g.slice(a+1))),y(n)}(0,e.id)},color:"primary",checked:c,inputProps:{"aria-labelledby":r}})}),a.map((function(t,a){var n=t.id,i=(t.label,t.nonSort,t.sx),c=Object(q.a)(t,bt);return Object(N.jsx)(et.a,Object(z.a)(Object(z.a)({component:"th",id:0===a?r:"",scope:"row",sx:Object(z.a)({p:"3px 0 3px 5px"},i)},c),{},{children:"index"===n?e[n]+1:e[n]}),a)}))]},t)})),L>0&&Object(N.jsx)($e.a,{style:{height:33*L},children:Object(N.jsx)(et.a,{colSpan:6})})]})]})}),Object(N.jsx)(rt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:l.length,rowsPerPage:T,page:C,onPageChange:function(e,t){S(t)},onRowsPerPageChange:function(e){A(parseInt(e.target.value,10)),S(0)}})]})})},yt=["isActive"],kt=["width"],vt=[{id:"email",label:"Email"},{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"type",label:"Type"},{id:"prefix",label:"Prefix"},{id:"isActive",label:"Active"},{nonSort:!0,id:"edit",sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}];var Ct=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)(!1),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),b=p[0],j=p[1],h=Object(n.useState)([]),m=Object(o.a)(h,2),x=m[0],f=m[1],O=Object(n.useState)(""),g=Object(o.a)(O,2),y=g[0],k=g[1],v=function(e){e<i.length&&e>=0&&(j(i[e].id),f([{name:"email",defaultValue:i[e].email,label:"Email",width:"100%"},{name:"firstName",defaultValue:i[e].firstName,label:"First Name",width:"100%"},{name:"lastName",defaultValue:i[e].lastName,label:"Last Name",width:"100%"},{name:"prefix",defaultValue:i[e].prefix,label:"Prefix",width:"100%"}]),k(i[e].type)),u(!0)},C=function(e){e<i.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current account permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep this account.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/user/".concat(i[e].id)).then((function(e){S()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},S=function(e){I.a.get("/user",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return S(e.token),function(){return e.cancel("Users Component got unmounted")}}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(gt,{title:"Users",rows:i.map((function(e,t){var a=e.isActive,n=Object(q.a)(e,yt);return Object(z.a)({index:t,isActive:Object(N.jsx)(ne.a,{checked:a,onClick:function(e){e.stopPropagation(),e.preventDefault(),I.a.put("/user/".concat(n.id),{isActive:!a}).then((function(){S()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),v(t)},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),C(t)},children:Object(N.jsx)(Ge.a,{})})},n)})),columns:vt,onEditClick:v,onRemoveClick:C,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected ChairColors permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/user",{data:{ids:e}}).then((function(e){S()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(N.jsxs)(Fe.a,{open:s,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);new I.a.put("/user/".concat(b),{email:t.get("email"),firstName:t.get("firstName"),lastName:t.get("lastName"),type:y,prefix:t.get("prefix")}).then((function(e){u(!1),S()})).catch((function(e){u(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){u(!0)})),console.log(e)})).then((function(){}))}},children:[Object(N.jsx)(Qe.a,{children:"Edit User"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(Ke.a,{children:"Please Edit the User information and Click Save button."}),x.map((function(e,t){var a=e.width,n=Object(q.a)(e,kt);return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})),Object(N.jsxs)(pe.a,{children:[Object(N.jsx)(be.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(N.jsxs)(je.a,{labelId:"user-type-select-label",id:"user-type-select",value:y,label:"Type",onChange:function(e){e.preventDefault(),k(e.target.value)},children:[Object(N.jsx)(he.a,{value:"admin",children:"Admin"}),Object(N.jsx)(he.a,{value:"salesman",children:"Salesman"}),Object(N.jsx)(he.a,{value:"driver",children:"Driver"})]})]})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){u(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"Save"})]})]})]})})),St=a(30),Dt=a.n(St),wt=a(41),Tt=a(761),At=a(746),Pt=a(748),Bt=a(34),Wt=a(747),It=Object(Re.a)((function(e){return{formControl:{marginTop:30,marginRight:20,width:400,float:"right"},indeterminateColor:{color:"#f50057"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}})),Rt={PaperProps:{style:{maxHeight:217,width:250}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},variant:"menu"};var Lt=function(e){var t=e.options,a=e.onChange,n=e.selected,i=It(),c=t.length>0&&n.length===t.length;return Object(N.jsxs)(pe.a,{className:i.formControl,variant:"outlined",children:[Object(N.jsx)(be.a,{htmlFor:"mutiple-select-label",children:"Select columns"}),Object(N.jsxs)(je.a,{multiple:!0,value:n,onChange:function(e){var i=e.target.value;"all"!==i[i.length-1]?a(i):a(n.length===t.length?[]:t)},renderValue:function(e){return e.join(", ")},MenuProps:Rt,label:"Select columns",size:"normal",children:[Object(N.jsxs)(he.a,{value:"all",classes:{root:c?i.selectedAll:""},children:[Object(N.jsx)(Pe.a,{children:Object(N.jsx)(ne.a,{classes:{indeterminate:i.indeterminateColor},checked:c,indeterminate:n.length>0&&n.length<t.length})}),Object(N.jsx)(Be.a,{classes:{primary:i.selectAllText},primary:"Select All"})]}),t.map((function(e){return Object(N.jsxs)(he.a,{value:e,children:[Object(N.jsx)(Pe.a,{children:Object(N.jsx)(ne.a,{checked:n.indexOf(e)>-1})}),Object(N.jsx)(Be.a,{primary:e})]},e)}))]})]})},Mt=["label"],Nt=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],Ht=["type","width"],Vt=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],zt=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"];var qt=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)("create"),i=Object(o.a)(a,2),c=i[0],r=i[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)([]),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),k=y[0],v=y[1],C=Object(n.useState)(0),S=Object(o.a)(C,2),D=S[0],w=S[1],T=Object(n.useState)(1e3),A=Object(o.a)(T,2),P=A[0],B=A[1],W=Object(n.useState)(0),R=Object(o.a)(W,2),L=R[0],M=R[1],H=Object(n.useState)([]),V=Object(o.a)(H,2),F=V[0],Q=V[1],E=Object(n.useState)(null),U=Object(o.a)(E,2),K=U[0],Y=U[1],J=Object(n.useState)(null),G=Object(o.a)(J,2),X=G[0],Z=G[1],$=Object(n.useState)([]),ee=Object(o.a)($,2),ce=ee[0],re=ee[1],oe=function(e){e<u.length&&e>=0&&(v(u[e].id),O([{name:"brand",label:"Brand",type:"text",defaultValue:u[e].brand,width:"48%"},{name:"model",label:"Model",type:"text",defaultValue:u[e].model,width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",defaultValue:u[e].frameColor,width:"30%"},{name:"backColor",label:"Back Color",type:"text",defaultValue:u[e].backColor,width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",defaultValue:u[e].seatColor,width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",defaultValue:u[e].backMaterial,width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",defaultValue:u[e].seatMaterial,width:"48%"},{name:"remark",label:"Remark",multiline:!0,type:"text",defaultValue:u[e].remark,width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",defaultValue:u[e].withHeadrest,width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",defaultValue:u[e].withAdArmrest,width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:u[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:u[e].arrivalDate,width:"48%"}]),w(u[e].balance),B(u[e].unitPrice),M(u[e].qty-u[e].balance)),r("edit"),h(!0)},se=function(e){e<u.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current ChairStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/chairStock/".concat(u[e].id)).then((function(e){pe()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},ue=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/chairStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.put("/chairStock/".concat(k),{brand:a.get("brand"),model:a.get("model"),frameColor:a.get("frameColor"),backColor:a.get("backColor"),seatColor:a.get("seatColor"),backMaterial:a.get("backMaterial"),seatMaterial:a.get("seatMaterial"),withHeadrest:Boolean(a.get("withHeadrest")),withAdArmrest:Boolean(a.get("withAdArmrest")),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:D,qty:Number(D)+Number(L)}).then((function(e){h(!1),pe()})).catch((function(e){h(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){h(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/chairStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.post("/chairStock/create",{brand:a.get("brand"),model:a.get("model"),frameColor:a.get("frameColor"),backColor:a.get("backColor"),seatColor:a.get("seatColor"),backMaterial:a.get("backMaterial"),seatMaterial:a.get("seatMaterial"),withHeadrest:Boolean(a.get("withHeadrest")),withAdArmrest:Boolean(a.get("withAdArmrest")),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:D,qty:Number(D)+Number(L)}).then((function(e){h(!1),pe()})).catch((function(e){h(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){h(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){d(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){Q(e.data)})).catch((function(e){console.log(e)})).then((function(){})),pe(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{startIcon:Object(N.jsx)(At.a,{}),onClick:function(){O([{name:"brand",label:"Brand",type:"text",width:"48%"},{name:"model",label:"Model",type:"text",width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",width:"30%"},{name:"backColor",label:"Back Color",type:"text",width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),w(0),B(1e3),M(0),r("create"),h(!0)},children:"New Stock"}),Object(N.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(N.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(t.target.files.length>0)){e.next=9;break}return(a=new FormData).append("file",t.target.files[0]),e.next=7,I.a.post("/chairStock/uploadCreate",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:e.sent,pe();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.prev=14,t.target.value=null,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()}),Object(N.jsx)(ie.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:K,onChange:function(e,t){e.preventDefault(),Y(t),Z(null)},options:F.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:X,onChange:function(e,t){e.preventDefault(),Z(t)},options:F.filter((function(e){return!K||e.brand===K})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,Mt);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:zt,onChange:function(e){re(e)},selected:ce}),Object(N.jsx)(gt,{title:"Chair Stocks",rows:u.map((function(e,t){var a=e.withHeadrest,n=e.withAdArmrest,i=e.thumbnailURL,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,Nt);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),oe(t)},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),se(t)},children:Object(N.jsx)(Ge.a,{})}),shipmentDate:c||"No",arrivalDate:r||"No"},o)})).filter((function(e){return(!K||e.brand===K)&&(!X||e.model===X)})),columns:Vt.map((function(e,t){return t>5&&t<16?ce.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:oe,onRemoveClick:se,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected ChairStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/chairStock",{data:{ids:e}}).then((function(e){pe()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,PaperProps:{component:"form",onSubmit:"create"===c?de:ue},children:[Object(N.jsx)(Qe.a,{children:"create"===c?"New Stock":"Edit Stock"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[f.map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,Ht);if("text"===a)return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(N.jsx)(te.a,Object(z.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){var c=i.defaultValue,r=i.label,o=i.name;return Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:o,defaultChecked:c}),label:r},t)}return null})),Object(N.jsx)(te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(N.jsx)(ae.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:P,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){w(D>1?D-1:0)},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Balance",value:D,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?w(e.target.value):w(0),B(1e3)}}),Object(N.jsx)(Ce.a,{onClick:function(){w(D+1)},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){M(Math.max(L-1,0))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Shipment",value:L,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){M(Math.max(e.target.value,0))}}),Object(N.jsx)(Ce.a,{onClick:function(){M(L+1)},children:Object(N.jsx)(At.a,{})})]})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){h(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"create"===c?"Create":"Save"})]})]})]})})),Ft=qt,Qt=["label"],Et=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],Ut=["type","width"],Kt=["name","label"],Yt=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],Jt=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"];var Gt=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],l=Object(n.useState)("create"),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)([]),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),k=y[0],v=y[1],C=Object(n.useState)(0),S=Object(o.a)(C,2),D=S[0],w=S[1],T=Object(n.useState)(1e3),A=Object(o.a)(T,2),P=A[0],B=A[1],W=Object(n.useState)(0),R=Object(o.a)(W,2),L=R[0],M=R[1],H=Object(n.useState)([]),V=Object(o.a)(H,2),F=V[0],Q=V[1],E=Object(n.useState)(null),U=Object(o.a)(E,2),K=U[0],Y=U[1],J=Object(n.useState)(null),G=Object(o.a)(J,2),X=G[0],Z=G[1],$=Object(n.useState)(null),ee=Object(o.a)($,2),ce=ee[0],re=ee[1],oe=Object(n.useState)([]),se=Object(o.a)(oe,2),ue=se[0],de=se[1],pe=function(e){e<c.length&&e>=0&&(v(c[e].id),O([{name:"supplierCode",label:"Supplier",type:"autocomplete",defaultValue:c[e].supplierCode,options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",defaultValue:c[e].model,width:"30%"},{name:"color",label:"Color",type:"text",defaultValue:c[e].color,width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",defaultValue:c[e].armSize,options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",defaultValue:c[e].feetSize,options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",defaultValue:c[e].beamSize,options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Remark",multiline:!0,type:"text",defaultValue:c[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),w(c[e].balance),B(c[e].unitPrice),M(c[e].qty)),d("edit"),h(!0)},be=function(e){e<c.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current DeskStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/deskStock/".concat(c[e].id)).then((function(e){me()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},je=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/chairStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.put("/deskStock/".concat(k),{supplierCode:a.get("supplierCode"),model:a.get("model"),color:a.get("color"),armSize:a.get("armSize"),feetSize:a.get("feetSize"),beamSize:a.get("beamSize"),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:D,qty:Number(D)+Number(L)}).then((function(e){h(!1),me()})).catch((function(e){h(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){h(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/chairStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.post("/deskStock/create",{supplierCode:a.get("supplierCode"),model:a.get("model"),color:a.get("color"),armSize:a.get("armSize"),feetSize:a.get("feetSize"),beamSize:a.get("beamSize"),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:D,qty:Number(D)+Number(L)}).then((function(e){h(!1),me()})).catch((function(e){h(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){h(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),me=function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){Q(e.data)})).catch((function(e){console.log(e)})).then((function(){})),me(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{startIcon:Object(N.jsx)(At.a,{}),onClick:function(){O([{name:"supplierCode",label:"Supplier",type:"autocomplete",options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",width:"30%"},{name:"color",label:"Color",type:"text",width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),w(0),B(1e3),M(0),d("create"),h(!0)},children:"New Stock"}),Object(N.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(N.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(t.target.files.length>0)){e.next=9;break}return(a=new FormData).append("file",t.target.files[0]),e.next=7,I.a.post("/chairStock/uploadCreate",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:e.sent,me();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.prev=14,t.target.value=null,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()}),Object(N.jsx)(ie.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:K,onChange:function(e,t){e.preventDefault(),Y(t),Z(null),re(null)},options:F.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:X,onChange:function(e,t){e.preventDefault(),Z(t),re(null)},options:F.filter((function(e){return!K||e.supplierCode===K})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:ce,onChange:function(e,t){e.preventDefault(),re(t)},options:F.filter((function(e){return(!K||e.supplierCode===K)&&(!X||e.model===X)})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,Qt);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Jt,onChange:function(e){de(e)},selected:ue}),Object(N.jsx)(gt,{title:"Desk Leg Stocks",rows:c.map((function(e,t){var a=e.withHeadrest,n=e.withAdArmrest,i=e.thumbnailURL,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,Et);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),pe(t)},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),be(t)},children:Object(N.jsx)(Ge.a,{})}),shipmentDate:c||"No",arrivalDate:r||"No"},o)})).filter((function(e){return(!K||e.supplierCode===K)&&(!X||e.model===X)&&(!ce||e.color===ce)})),columns:Yt.map((function(e,t){return t>5&&t<13?ue.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:pe,onRemoveClick:be,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected DeskStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/deskStock",{data:{ids:e}}).then((function(e){me()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,PaperProps:{component:"form",onSubmit:"create"===u?he:je},children:[Object(N.jsx)(Qe.a,{children:"create"===u?"New Stock":"Edit Stock"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[f.map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,Ut);if("text"===a)return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(N.jsx)(te.a,Object(z.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){var c=i.defaultValue,r=i.label,o=i.name;return Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:o,defaultChecked:c}),label:r,sx:{flexBasis:n,minWidth:n}},t)}if("autocomplete"===a){var l=i.name,s=i.label,u=Object(q.a)(i,Kt);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{name:l,label:s}))}},u),t)}return null})),Object(N.jsx)(te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(N.jsx)(ae.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:P,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){w(D>1?D-1:0)},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Balance",value:D,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?w(e.target.value):w(0),B(1e3)}}),Object(N.jsx)(Ce.a,{onClick:function(){w(D+1)},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){M(Math.max(L-1,0))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Shipment",value:L,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){M(Math.max(e.target.value,0))}}),Object(N.jsx)(Ce.a,{onClick:function(){M(L+1)},children:Object(N.jsx)(At.a,{})})]})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){h(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"create"===u?"Create":"Save"})]})]})]})})),Xt=Gt,Zt=["thumbnailURL","shipmentDate","arrivalDate"],_t=["type","width"],$t=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}];var ea=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)("create"),i=Object(o.a)(a,2),c=i[0],r=i[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)([]),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)(!1),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useState)([]),y=Object(o.a)(g,2),k=y[0],v=y[1],C=Object(n.useState)(""),S=Object(o.a)(C,2),D=S[0],w=S[1],T=Object(n.useState)(0),A=Object(o.a)(T,2),P=A[0],B=A[1],W=Object(n.useState)(1e3),R=Object(o.a)(W,2),L=R[0],M=R[1],H=Object(n.useState)(0),V=Object(o.a)(H,2),F=V[0],Q=V[1],E=Object(n.useState)([]),U=Object(o.a)(E,2),K=(U[0],U[1]),Y=Object(n.useState)("All"),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=function(e){e<u.length&&e>=0&&(w(u[e].id),v([{name:"name",label:"Name",type:"text",defaultValue:u[e].name,width:"48%"},{name:"category",label:"Category",type:"select",defaultValue:u[e].category,width:"48%"},{name:"remark",label:"Remark",multiline:!0,type:"text",defaultValue:u[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:u[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:u[e].arrivalDate,width:"48%"}]),B(u[e].balance),M(u[e].unitPrice),Q(u[e].qty-u[e].balance)),r("edit"),O(!0)},$=function(e){e<u.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current AccessoryStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/accessoryStock/".concat(u[e].id)).then((function(e){re()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},ee=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/accessoryStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.put("/accessoryStock/".concat(D),{name:a.get("name"),category:a.get("category"),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:P,qty:Number(P)+Number(F)}).then((function(e){O(!1),re()})).catch((function(e){O(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){O(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(t.currentTarget),n="",!a.get("thumbnail").name){e.next=15;break}return(i=new FormData).append("file",a.get("thumbnail")),e.prev=6,e.next=9,I.a.post("/accessoryStock/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 9:c=e.sent,n=c.data.url,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:I.a.post("/accessoryStock/create",{name:a.get("name"),category:a.get("category"),remark:a.get("remark"),thumbnailURL:n,unitPrice:a.get("unitPrice"),shipmentDate:a.get("shipmentDate")||null,arrivalDate:a.get("arrivalDate")||null,balance:P,qty:Number(P)+Number(F)}).then((function(e){O(!1),re()})).catch((function(e){O(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){O(!0)})),console.log(e)})).then((function(){}));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),re=function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){d(e.data),h(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){K(e.data)})).catch((function(e){console.log(e)})).then((function(){})),re(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{startIcon:Object(N.jsx)(At.a,{}),onClick:function(){v([{name:"name",label:"Name",type:"text",width:"48%"},{name:"category",label:"Category",type:"select",width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),B(0),M(1e3),Q(0),r("create"),O(!0)},children:"New Stock"}),Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:G,onChange:function(e){var t=e.target.value;X(t),d("All"===t?j:j.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{title:"Accessory Stocks",rows:u.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,Zt);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),Z(t)},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),$(t)},children:Object(N.jsx)(Ge.a,{})}),shipmentDate:n||"No",arrivalDate:i||"No"},c)})),columns:$t,onEditClick:Z,onRemoveClick:$,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected AccessoryStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/accessoryStock",{data:{ids:e}}).then((function(e){re()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:f,PaperProps:{component:"form",onSubmit:"create"===c?ce:ee},children:[Object(N.jsx)(Qe.a,{children:"create"===c?"New Stock":"Edit Stock"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[k.map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,_t);if("text"===a)return Object(N.jsx)(te.a,Object(z.a)({size:"small",sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(N.jsx)(te.a,Object(z.a)({size:"small",type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){var c=i.defaultValue,r=i.label,o=i.name;return Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:o,defaultChecked:c}),label:r},t)}return"select"===a?Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:n,minWidth:n},children:[Object(N.jsx)(be.a,{id:"category_select",children:"Category"}),Object(N.jsxs)(je.a,Object(z.a)(Object(z.a)({labelId:"category_select"},i),{},{children:[Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"})]}),t)]}):null})),Object(N.jsx)(te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(N.jsx)(ae.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:L,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){B(P>1?P-1:0)},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Balance",value:P,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){e.target.value>0?B(e.target.value):B(0),M(1e3)}}),Object(N.jsx)(Ce.a,{onClick:function(){B(P+1)},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(N.jsx)(Ce.a,{onClick:function(){Q(Math.max(F-1,0))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(te.a,{label:"Shipment",value:F,type:"number",sx:{width:"80px",mx:"5px"},onChange:function(e){Q(Math.max(e.target.value,0))}}),Object(N.jsx)(Ce.a,{onClick:function(){Q(F+1)},children:Object(N.jsx)(At.a,{})})]})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){O(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"create"===c?"Create":"Save"})]})]})]})})),ta=ea,aa=a(96),na=a.n(aa),ia=a(771),ca=a(750),ra=a(751),oa=a(752),la=a(52),sa=a.n(la),ua=a(97),da=a.n(ua),pa=a(7),ba=a(749),ja=Object(pa.a)(Te.a)((function(e){e.theme;return{backgroundColor:ot.a[600],padding:"10px"}})),ha=Object(pa.a)(Ae.a)((function(e){e.theme;return{backgroundColor:ot.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}})),ma=Object(pa.a)(Be.a)((function(e){e.theme;return{color:ba.a[900]}})),xa=function(e){var t=e.unitPrice,a=e.amount,n=e.deliveryOption;return Object(N.jsx)(_.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,a,n].map((function(e,t){return Object(N.jsx)(Q.a,{variant:"span",sx:{color:"white",width:2===t?150:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:ba.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t)}))})},fa=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],Oa=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],ga=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Con","tact"];var ya=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),O=f[0],g=f[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useRef)(null),L=Object(n.useRef)(null),M=Object(n.useState)(null),H=Object(o.a)(M,2),V=H[0],F=H[1],Q=Object(n.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)([]),$=Object(o.a)(Z,2),ee=$[0],ce=$[1],re=Object(n.useRef)([]),oe=Object(n.useRef)([]),se=Object(n.useRef)([]),ue=function(e){e<c.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/salesOrder/".concat(c[e].id)).then((function(e){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},de=function(e){I.a.get("/salesOrder",{cancelToken:e}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return de(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{component:l.b,to:"/admin/order/create",startIcon:Object(N.jsx)(At.a,{}),children:"New Order"}),Object(N.jsx)("div",{children:Object(N.jsx)(Lt,{options:ga,onChange:function(e){ce(e)},selected:ee})}),Object(N.jsx)(gt,{title:"Sales Orders",rows:c.map((function(e,t){var a=e.id,n=e.invoiceNum,i=e.district,r=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,b=(e.isPreOrder,e.discount),j=e.discountType,h=e.surcharge,x=e.surchargeType,f=e.createdAt,O=e.timeLine,y=e.paid,k=e.ChairStocks,v=e.DeskStocks,S=e.AccessoryStocks,D=Object(q.a)(e,fa);return Object(z.a)({id:a,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:O%7!==0?"".concat(O," day").concat(1===O?"":"s"):"".concat(O/7," week").concat(O/7===1?"":"s"),orderDate:function(){var e=new Date(f);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(h).concat(x?" HKD":"%"),clientAddress:[i,r,o,s,u].join(", "),isPreOrder:(!c[t].ChairStocks.length||!c[t].ChairStocks.reduce((function(e,t){return t.ChairToOrder.preOrder*e})))*(!c[t].DeskStocks.length||!c[t].DeskStocks.reduce((function(e,t){return t.DeskToOrder.preOrder*e})))?"No":"Yes",products:Object(N.jsx)(Ce.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),re.current=[],oe.current=[],se.current=[],K(t),W(!0)},children:Object(N.jsx)(ia.a,{badgeContent:k.length+v.length+S.length,color:"error",children:Object(N.jsx)(ca.a,{})})}),paid:Object(N.jsx)(ne.a,{checked:y,onClick:function(e){e.stopPropagation(),e.preventDefault(),I.a.put("/salesOrder/withoutStock/".concat(a),{paid:!y}).then((function(){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),invoiceNum:Object(N.jsx)(l.b,{to:"/invoice/".concat(a),target:"_blank",children:n}),emailIcon:Object(N.jsx)(Ce.a,{onClick:function(){p(D.name),m(D.email),T(!0)},children:Object(N.jsx)(ra.a,{})}),whatsappIcon:Object(N.jsx)(Ce.a,{onClick:function(){I.a.get("whatsapp/checkauth").then((function(){p(D.name),g(D.phone),C(!0)})).catch((function(e){I.a.get("whatsapp/getqr").then((function(e){le.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:na.a.renderToStaticMarkup(Object(N.jsx)(da.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(N.jsx)(oa.a,{})}),edit:Object(N.jsx)(Ce.a,{component:l.b,to:{pathname:"/admin/order/edit",state:{order:c[t]}},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ue(t)},children:Object(N.jsx)(Ge.a,{})})},D)})),columns:Oa.map((function(e,t){return t>3&&t<14?ee.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onRemoveClick:ue,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/salesOrder",{data:{ids:e}}).then((function(e){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),F(null===V?e.currentTarget:null)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(N.jsx)(Qe.a,{children:"Send WhatsApp Message to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(sa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){C(!1)})).catch((function(e){C(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){C(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:w,children:[Object(N.jsx)(Qe.a,{children:"Send Email to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(te.a,{label:"Email",type:"email",value:h,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:L,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(N.jsx)(te.a,{label:"Link",type:"text",value:G,onChange:function(e){return X(e.target.value)}})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("email/send",{email:h,message:L.current.value,link:G}).then((function(){T(!1)})).catch((function(e){T(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){T(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),open:B,children:[Object(N.jsx)(Qe.a,{children:"Products Details"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(ja,{children:[U<c.length&&c[U].ChairStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(N.jsx)(xa,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return re.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)})),U<c.length&&c[U].DeskStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Desk: ".concat(e.supplierCode,", ").concat(e.model,", ").concat(e.color,", ").concat(e.armSize,", ").concat(e.feetSize,", ").concat(e.beamSize),secondary:e.DeskToOrder.hasDeskTop?Object(N.jsxs)("span",{children:["".concat(e.DeskToOrder.topMaterial,", ").concat(e.DeskToOrder.topColor,", ").concat(e.DeskToOrder.topLength,"x").concat(e.DeskToOrder.topWidth,"x").concat(e.DeskToOrder.topThickness,", ").concat(e.DeskToOrder.topRoundedCorners,"-R").concat(e.DeskToOrder.topCornerRadius,", ").concat(e.DeskToOrder.topHoleCount,"-").concat(e.DeskToOrder.topHoleType," "),Object(N.jsx)("a",{href:e.DeskToOrder.topSketchURL,target:"_blank",children:"Sketch"})]}):"Without DeskTop"}),Object(N.jsx)(xa,{unitPrice:"".concat(e.DeskToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.DeskToOrder.qty),deliveryOption:"".concat(e.DeskToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.DeskToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return oe.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.DeskToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.DeskToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.DeskToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.DeskToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.DeskToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.DeskToOrder.delivered}),label:"Delivered"},t)]})]},t)})),U<c.length&&c[U].AccessoryStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Accessory: ".concat(e.category),secondary:"".concat(e.remark)}),Object(N.jsx)(xa,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return se.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t)}))]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault();var t=re.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),a=oe.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),n=se.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}}));I.a.post("/salesOrder/products",{chairToOrders:t,deskToOrders:a,accessoryToOrders:n}).then((function(){de()})).catch((function(e){console.log(e)})).then((function(){W(!1)}))},children:"OK"})]})]})]})})),ka=a(772),va=a(805),Ca=a(764),Sa=a(781),Da=a(765),wa=a(763),Ta=a(806),Aa=a(807),Pa=a(326),Ba=a(753),Wa=a(769),Ia=["children","value","index"],Ra=["setValue","width"],La=["label"],Ma=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],Na=["label"],Ha=["thumbnailURL","shipmentDate","arrivalDate"],Va=["thumbnailURL","shipmentDate","arrivalDate"],za=["productDetail"],qa=["productDetail"],Fa=["type","width"],Qa=["name","label"],Ea=["suffix"],Ua=["name","label","options"],Ka=function(e){var t=e.children,a=e.value,n=e.index,i=Object(q.a)(e,Ia);return Object(N.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(N.jsx)(_.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var Ya=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Ja=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"],Ga=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Xa=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"],Za=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],_a=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=e.componentType,i=e.initialClient,c=e.initialCart,r=e.initialServices,l=Object(n.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)("Left"),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)("Rounded"),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useRef)(null),y=Object(n.useState)(0),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useState)(!1),L=Object(o.a)(R,2),M=L[0],H=L[1],F=Object(n.useState)("chair"),E=Object(o.a)(F,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)(1e3),$=Object(o.a)(Z,2),ce=$[0],re=$[1],oe=Object(n.useState)(0),se=Object(o.a)(oe,2),ue=se[0],de=se[1],me=Object(n.useState)(""),xe=Object(o.a)(me,2),fe=xe[0],Oe=xe[1],ge=Object(n.useState)(c),ye=Object(o.a)(ge,2),ke=ye[0],ve=ye[1],Se=Object(n.useState)(i.paid),De=Object(o.a)(Se,2),we=De[0],Te=De[1],Ae=Object(n.useState)([]),Pe=Object(o.a)(Ae,2),Be=Pe[0],We=Pe[1],Re=Object(n.useState)([]),Le=Object(o.a)(Re,2),Me=Le[0],Ne=Le[1],He=Object(n.useState)([]),Ve=Object(o.a)(He,2),ze=Ve[0],qe=Ve[1],Ue=Object(n.useState)([]),Ke=Object(o.a)(Ue,2),Je=Ke[0],Xe=Ke[1],Ze=Object(n.useState)(0),_e=Object(o.a)(Ze,2),$e=_e[0],et=_e[1],tt=Object(n.useState)([]),at=Object(o.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)([]),rt=Object(o.a)(ct,2),ot=rt[0],lt=rt[1],ut=Object(n.useState)([]),dt=Object(o.a)(ut,2),pt=(dt[0],dt[1]),bt=Object(n.useState)(null),jt=Object(o.a)(bt,2),ht=jt[0],mt=jt[1],xt=Object(n.useState)(null),ft=Object(o.a)(xt,2),Ot=ft[0],yt=ft[1],kt=Object(n.useState)(null),vt=Object(o.a)(kt,2),Ct=vt[0],St=vt[1],It=Object(n.useState)(null),Rt=Object(o.a)(It,2),Mt=Rt[0],Nt=Rt[1],Ht=Object(n.useState)(null),Vt=Object(o.a)(Ht,2),zt=Vt[0],qt=Vt[1],Ft=Object(n.useState)("All"),Qt=Object(o.a)(Ft,2),Et=Qt[0],Ut=Qt[1],Kt=r?r.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Yt=Object(n.useState)(Kt),Jt=Object(o.a)(Yt,2),Gt=Jt[0],Xt=Jt[1],Zt=Object(n.useState)([]),_t=Object(o.a)(Zt,2),$t=_t[0],ea=_t[1],ta=Object(n.useState)([]),aa=Object(o.a)(ta,2),na=aa[0],ia=aa[1];Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){it(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){lt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){pt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){We(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){Ne(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){qe(e.data),Xe(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(N.jsx)(ka.a,{activeStep:v,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var a,n={};return a=t,(null!==g.current&&v>0&&0===a?!g.current.checkValidity():0===ke.length&&0===Gt.length&&v>1&&1===a)&&(n.optional=Object(N.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),n.error=!0),Object(N.jsx)(va.a,{sx:{my:"10px"},children:Object(N.jsx)(Ca.a,Object(z.a)(Object(z.a)({},n),{},{children:e}))},e)}))}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},ref:g,hidden:0!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),C(1)},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((function(e,t){e.setValue;var a=e.width,n=Object(q.a)(e,Ra);return"Phone"===n.label?Object(N.jsx)(sa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:a,minWidth:a},margin:"dense",size:"small"},n),t):Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})),Object(N.jsx)(te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(N.jsxs)(Sa.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(N.jsx)(ae.a,{value:"day",control:Object(N.jsx)(Da.a,{}),label:"Days"}),Object(N.jsx)(ae.a,{value:"week",control:Object(N.jsx)(Da.a,{}),label:"Weeks"})]})]}),Object(N.jsx)(ie.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===v&&Object(N.jsxs)(N.Fragment,{children:[ke.length>0&&Object(N.jsx)(st.a,{children:Object(N.jsx)(ja,{sx:{px:"10px"},children:ke.map((function(e,t){return Object(N.jsxs)(ha,{secondaryAction:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ve(ke.filter((function(e,a){return a!==t})))},children:Object(N.jsx)(Ge.a,{})}),children:["chair"===e.productType&&Object(N.jsx)(ma,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(N.jsx)(ma,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(N.jsx)(ma,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(N.jsx)(xa,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(N.jsxs)(st.a,{sx:{my:"10px"},children:[Object(N.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsxs)(wa.a,{value:$e,onChange:function(e,t){e.preventDefault(),et(t)},"aria-label":"basic tabs example",children:[Object(N.jsx)(Ta.a,{label:"Chairs"}),Object(N.jsx)(Ta.a,{label:"Desks"}),Object(N.jsx)(Ta.a,{label:"Accessories"}),Object(N.jsx)(Ta.a,{label:"Miscs"})]})}),Object(N.jsxs)(Ka,{value:$e,index:0,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:ht,onChange:function(e,t){e.preventDefault(),mt(t),yt(null)},options:nt.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:Ot,onChange:function(e,t){e.preventDefault(),yt(t)},options:nt.filter((function(e){return!ht||e.brand===ht})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,La);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Ja,onChange:function(e){ea(e)},selected:$t}),Object(N.jsx)(gt,{nonSelect:!0,title:"Chair Stocks",rows:Be.map((function(e,t){var a=e.thumbnailURL,n=e.withHeadrest,i=e.withAdArmrest,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,Ma);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(N.jsx)(Ce.a,{onClick:function(e){if(e.preventDefault(),ke.find((function(e){return"chair"===e.productType&&e.productDetail.id===Be[t].id})))le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{K("chair"),X(Be[t]);var a=""==Be[t].frameColor?"___":Be[t].frameColor,n=""==Be[t].seatColor?"___":Be[t].seatColor,i=""==Be[t].backColor?"___":Be[t].backColor;Oe("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),re(Be[t].unitPrice),de(1),T(!0)}},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!ht||e.brand===ht)&&(!Ot||e.model===Ot)})),columns:Ya.map((function(e,t){return t>6?$t.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Ka,{value:$e,index:1,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Ct,onChange:function(e,t){e.preventDefault(),St(t),Nt(null),qt(null)},options:ot.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:Mt,onChange:function(e,t){e.preventDefault(),Nt(t),qt(null)},options:ot.filter((function(e){return!Ct||e.supplierCode===Ct})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:zt,onChange:function(e,t){e.preventDefault(),qt(t)},options:ot.filter((function(e){return!Mt||e.model===Mt})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,Na);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Xa,onChange:function(e){ia(e)},selected:na}),Object(N.jsx)(gt,{nonSelect:!0,title:"Desk Leg Stocks",rows:Me.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,Ha);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){K("desk"),X(Me[t]),re(Me[t].unitPrice),de(1),H(!1),W(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})).filter((function(e){return(!Ct||e.supplierCode===Ct)&&(!Mt||e.model===Mt)&&(!zt||e.color===zt)})),columns:Ga.map((function(e,t){return t>6?na.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Ka,{value:$e,index:2,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:Et,onChange:function(e){var t=e.target.value;Ut(t),qe("All"===t?Je:Je.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{nonSelect:!0,title:"Accessory Stocks",rows:ze.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,Va);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),K("accessory"),X(ze[t]),Oe(ze[t].remark),re(ze[t].unitPrice),de(1),ke.find((function(e){return"accessory"===e.productType&&e.productDetail.id===ze[t].id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):T(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})),columns:Za})]}),Object(N.jsx)(Ka,{value:$e,index:3,children:Object(N.jsxs)(_.a,{sx:{m:3},children:[Object(N.jsx)(ie.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(Wa.a)(),description:"",price:0,productType:"misc"};Xt([].concat(Object(V.a)(Gt),[e]))},children:"+ New Service"}),Object(N.jsx)(ee.a,{container:!0,spacing:2,children:Gt.map((function(e){return Object(N.jsx)(ee.a,{item:!0,xs:4,children:Object(N.jsxs)(Aa.a,{sx:{px:2,pb:2},children:[Object(N.jsx)(_.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(Ce.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Gt.filter((function(t){return t.id!==e}));Xt(t)}(e.id)},children:Object(N.jsx)(Ba.a,{fontSize:"small"})})}),Object(N.jsx)(te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var a=Gt.map((function(a){return a.id===t?Object.assign({},a,{description:e.target.value}):a}));Xt(a)}(t,e.id)}}),Object(N.jsx)(te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var a=Gt.map((function(a){return a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a}));Xt(a)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(0)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==ke.length||0!==Gt.length?C(2):le.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(g.current),c=new FormData(t.currentTarget);"create"===a?I.a.post("/salesOrder/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,za);return Object(z.a)({productId:t.id},a)})).concat(Gt),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),dueDate:c.get("dueDate")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/admin/order")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):I.a.put("/salesOrder/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,qa);return Object(z.a)({productId:t.id},a)})).concat(Gt),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),dueDate:c.get("dueDate")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/admin/order")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(N.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total: ",ke.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Gt.reduce((function(e,t){return e+t.price}),0)]}),Object(N.jsx)(te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(N.jsx)(ae.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(N.jsx)(ne.a,{name:"paid",checked:we,onChange:function(e){Te(e.target.checked)}}),label:"Paid"}),Object(N.jsx)(te.a,{type:"date",disabled:we,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:i.dueDate,InputLabelProps:{shrink:!0}}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]})]}),Object(N.jsx)(ie.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),C(1)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(N.jsxs)(Fe.a,{open:w,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);T(!1),ke.find((function(e){return e.productType===U&&e.productDetail.id===G.id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,a){return Boolean(t.get("deliveryOption_".concat(a)))}))),productPrice:e.currentTarget.unitPrice.value,remark:fe}))}},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:ce,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(N.jsx)(te.a,{label:"Remark",name:"remark",value:fe,sx:{width:400,mx:"5px"},onChange:function(e){Oe(e.target.value)}})}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]}),Object(N.jsxs)(Fe.a,{open:B,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ke.find((function(e){return"desk"===e.productType&&e.productDetail.id===G.id}))||M){e.next=5;break}return W(!1),le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 5:if(a=new FormData(t.currentTarget),n="",!a.get("topSketchImg")||!a.get("topSketchImg").name){e.next=19;break}return(i=new FormData).append("file",a.get("topSketchImg")),e.prev=10,e.next=13,I.a.post("/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 13:c=e.sent,n=c.data.url,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:W(!1),ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(a.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(a.get("hasDeskTop"))?Number(a.get("deskTotalPrice")):Number(a.get("deskLegPrice")),hasDeskTop:Boolean(a.get("hasDeskTop"))||!1,topMaterial:a.get("topMaterial")||"",topColor:a.get("topColor")||"",topLength:a.get("topLength")||0,topWidth:a.get("topWidth")||0,topThickness:a.get("topThickness")||0,topRoundedCorners:a.get("topRoundedCorners")||0,topCornerRadius:a.get("topCornerRadius")||50,topHoleCount:a.get("topHoleCount")||0,topHoleType:a.get("topHoleType")||"",topHolePosition:j||"",remark:a.get("remark")||"",topSketchURL:n}));case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:ce,sx:{width:200,visibility:M?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"hasDeskTop",checked:M,onChange:function(e){H(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",defaultValue:"Melamine",options:["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%"},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",defaultValue:700,inputProps:{min:0},width:"30%"},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",defaultValue:400,inputProps:{min:0},width:"30%"},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",defaultValue:25,inputProps:{min:0},width:"30%"},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",defaultValue:0,options:[0,1,2,3,4],width:"48%"},{name:"topCornerRadius",label:"Corner Radius",type:"number",defaultValue:50,inputProps:{min:0},width:"48%"},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1==e.target.value?h("Left"):2==e.target.value?h("Left_Right"):3==e.target.value&&h("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:f,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:j,onChange:function(e){e.preventDefault(),h(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u||"Rounded"!==f,width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,Fa);if("autocomplete"===a){var c=i.name,r=i.label,o=Object(q.a)(i,Qa);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{name:c,label:r}))},disabled:!M},o),t)}if("suffixNumber"===a){var l=i.suffix,s=Object(q.a)(i,Ea);return Object(N.jsx)(ae.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(N.jsx)(te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!M},s)),label:l},t)}if("select"===a){var u=i.name,d=i.label,p=i.options,b=Object(q.a)(i,Ua);return Object(N.jsxs)(pe.a,{sx:{flexBasis:n,minWidth:n},children:[Object(N.jsx)(be.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(N.jsx)(je.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!M},b),{},{children:p.map((function(e,t){return Object(N.jsx)(he.a,{value:e,children:e},t)}))}))]},t)}return Object(N.jsx)(te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!M},i),t)})),Object(N.jsx)(te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:ce,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!M,InputProps:{endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}})]}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",mx:"10px",children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]})]})})),$a=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(N.jsx)(_a,Object(z.a)({componentType:"create",initialClient:{phone:i,setPhone:c,paid:!0,discountType:1,surchargeType:1,dueDate:""},initialCart:[]},e))},en=["ChairStocks","DeskStocks","AccessoryStocks","ServiceToOrders","Seller","sellerId"],tn=["ChairToOrder"],an=["DeskToOrder"],nn=["unitPrice","qty","deliveryOption"],cn=["AccessoryToOrder"],rn=function(e){var t=(Object(s.g)().state||{}).order,a=t||{},i=a.ChairStocks,c=a.DeskStocks,r=a.AccessoryStocks,l=a.ServiceToOrders,u=(a.Seller,a.sellerId,Object(q.a)(a,en)),d=Object(n.useState)(u.phone),p=Object(o.a)(d,2),b=p[0],j=p[1];return t?Object(N.jsx)(_a,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},u),{},{phone:b,setPhone:j}),initialCart:i.map((function(e){var t=e.ChairToOrder,a=Object(q.a)(e,tn);return{productType:"chair",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.DeskToOrder,a=Object(q.a)(e,an),n=t.unitPrice,i=t.qty,c=t.deliveryOption,r=Object(q.a)(t,nn);return Object(z.a)({productType:"desk",productDetail:a,productPrice:n,productAmount:i,productDeliveryOption:c},r)}))).concat(r.map((function(e){var t=e.AccessoryToOrder,a=Object(q.a)(e,cn);return{productType:"accessory",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:l},e)):Object(N.jsx)(s.a,{to:"/admin/order"})},on=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],ln=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],sn=["Address","TimeLine","Remark","Discount","SurC harge","Products","Paid","Con","tact"];var un=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),O=f[0],g=f[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useRef)(null),L=Object(n.useRef)(null),M=Object(n.useState)(null),H=Object(o.a)(M,2),V=H[0],F=H[1],Q=Object(n.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(n.useState)([]),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=function(e){e<c.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/quotation/".concat(c[e].id)).then((function(e){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},$=function(e){I.a.get("/quotation",{cancelToken:e}).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return $(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{component:l.b,to:"/admin/quotation/create",startIcon:Object(N.jsx)(At.a,{}),children:"New Quotation"}),Object(N.jsx)("div",{children:Object(N.jsx)(Lt,{options:sn,onChange:function(e){X(e)},selected:G})}),Object(N.jsx)(gt,{title:"Sales quotations",rows:c.map((function(e,t){var a=e.id,n=e.quotationNum,i=e.district,r=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,b=e.discount,j=e.discountType,h=e.surcharge,x=e.surchargeType,f=e.createdAt,O=e.timeLine,y=e.paid,k=e.ChairStocks,v=e.DeskStocks,S=e.AccessoryStocks,D=Object(q.a)(e,on);return Object(z.a)({id:a,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:O%7!==0?"".concat(O," day").concat(1===O?"":"s"):"".concat(O/7," week").concat(O/7===1?"":"s"),quotationDate:function(){var e=new Date(f);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(h).concat(x?" HKD":"%"),clientAddress:[i,r,o,s,u].join(", "),products:Object(N.jsx)(Ce.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),K(t),W(!0)},children:Object(N.jsx)(ia.a,{badgeContent:k.length+v.length+S.length,color:"error",children:Object(N.jsx)(ca.a,{})})}),paid:Object(N.jsx)(ne.a,{checked:y,onClick:function(e){e.stopPropagation(),e.preventDefault(),I.a.put("/quotation/withoutStock/".concat(a),{paid:!y}).then((function(){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),quotationNum:Object(N.jsx)(l.b,{to:"/quotation/".concat(a),target:"_blank",children:n}),emailIcon:Object(N.jsx)(Ce.a,{onClick:function(){p(D.name),m(D.email),T(!0)},children:Object(N.jsx)(ra.a,{})}),whatsappIcon:Object(N.jsx)(Ce.a,{onClick:function(){I.a.get("whatsapp/checkauth").then((function(){p(D.name),g(D.phone),C(!0)})).catch((function(e){I.a.get("whatsapp/getqr").then((function(e){le.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:na.a.renderToStaticMarkup(Object(N.jsx)(da.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(N.jsx)(oa.a,{})}),edit:Object(N.jsx)(Ce.a,{component:l.b,to:{pathname:"/admin/quotation/edit",state:{quotation:c[t]}},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),Z(t)},children:Object(N.jsx)(Ge.a,{})})},D)})),columns:ln.map((function(e,t){return t>3&&t<13?G.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:function(e){c.length},onRemoveClick:Z,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/quotation",{data:{ids:e}}).then((function(e){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),F(null===V?e.currentTarget:null)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(N.jsx)(Qe.a,{children:"Send WhatsApp Message to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(sa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){C(!1)})).catch((function(e){C(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){C(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:w,children:[Object(N.jsx)(Qe.a,{children:"Send Email to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(te.a,{label:"Email",type:"email",value:h,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:L,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("email/send",{email:h,message:L.current.value}).then((function(){T(!1)})).catch((function(e){T(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){T(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{maxWidth:"sm",fullWidth:!0,open:B,onClose:function(e){e.preventDefault(),W(!1)},children:[Object(N.jsx)(Qe.a,{children:"Products Details"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(ja,{children:[U<c.length&&c[U].ChairStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(N.jsx)(xa,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)})),U<c.length&&c[U].DeskStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Desk: ".concat(e.supplierCode,", ").concat(e.model,", ").concat(e.color,", ").concat(e.armSize,", ").concat(e.feetSize,", ").concat(e.beamSize),secondary:e.DeskToQuotation.hasDeskTop?Object(N.jsxs)("span",{children:["".concat(e.DeskToQuotation.topMaterial,", ").concat(e.DeskToQuotation.topColor,", ").concat(e.DeskToQuotation.topLength,"x").concat(e.DeskToQuotation.topWidth,"x").concat(e.DeskToQuotation.topThickness,", ").concat(e.DeskToQuotation.topRoundedCorners,"-R").concat(e.DeskToQuotation.topCornerRadius,", ").concat(e.DeskToQuotation.topHoleCount,"-").concat(e.DeskToQuotation.topHoleType," "),Object(N.jsx)("a",{href:e.DeskToQuotation.topSketchURL,target:"_blank",children:"Sketch"})]}):"Without DeskTop"}),Object(N.jsx)(xa,{unitPrice:"".concat(e.DeskToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.DeskToQuotation.qty),deliveryOption:"".concat(e.DeskToQuotation.deliveryOption)})]},t)})),U<c.length&&c[U].AccessoryStocks.map((function(e,t){return Object(N.jsxs)(ha,{children:[Object(N.jsx)(ma,{primary:"Accessory: ".concat(e.category),secondary:"".concat(e.remark)}),Object(N.jsx)(xa,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t)}))]})}),Object(N.jsx)(Ye.a,{children:Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"OK"})})]})]})})),dn=["children","value","index"],pn=["setValue","width"],bn=["label"],jn=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],hn=["label"],mn=["thumbnailURL","shipmentDate","arrivalDate"],xn=["thumbnailURL","shipmentDate","arrivalDate"],fn=["productDetail"],On=["productDetail"],gn=["type","width"],yn=["name","label"],kn=["suffix"],vn=["name","label","options"],Cn=function(e){var t=e.children,a=e.value,n=e.index,i=Object(q.a)(e,dn);return Object(N.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(N.jsx)(_.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var Sn=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Dn=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"],wn=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Tn=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"],An=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Pn=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=e.componentType,i=e.initialClient,c=e.initialCart,r=e.initialServices,l=Object(n.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)("Left"),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)("Rounded"),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useRef)(null),y=Object(n.useState)(0),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useState)(!1),L=Object(o.a)(R,2),M=L[0],H=L[1],F=Object(n.useState)("chair"),E=Object(o.a)(F,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)(1e3),$=Object(o.a)(Z,2),ce=$[0],re=$[1],oe=Object(n.useState)(0),se=Object(o.a)(oe,2),ue=se[0],de=se[1],me=Object(n.useState)(""),xe=Object(o.a)(me,2),fe=xe[0],Oe=xe[1],ge=Object(n.useState)(c),ye=Object(o.a)(ge,2),ke=ye[0],ve=ye[1],Se=Object(n.useState)([]),De=Object(o.a)(Se,2),we=De[0],Te=De[1],Ae=Object(n.useState)([]),Pe=Object(o.a)(Ae,2),Be=Pe[0],We=Pe[1],Re=Object(n.useState)([]),Le=Object(o.a)(Re,2),Me=Le[0],Ne=Le[1],He=Object(n.useState)([]),Ve=Object(o.a)(He,2),ze=Ve[0],qe=Ve[1],Ue=Object(n.useState)(0),Ke=Object(o.a)(Ue,2),Je=Ke[0],Ze=Ke[1],_e=Object(n.useState)([]),$e=Object(o.a)(_e,2),et=$e[0],tt=$e[1],at=Object(n.useState)([]),nt=Object(o.a)(at,2),it=nt[0],ct=nt[1],rt=Object(n.useState)([]),ot=Object(o.a)(rt,2),lt=(ot[0],ot[1]),ut=Object(n.useState)(null),dt=Object(o.a)(ut,2),pt=dt[0],bt=dt[1],jt=Object(n.useState)(null),ht=Object(o.a)(jt,2),mt=ht[0],xt=ht[1],ft=Object(n.useState)(null),Ot=Object(o.a)(ft,2),yt=Ot[0],kt=Ot[1],vt=Object(n.useState)(null),Ct=Object(o.a)(vt,2),St=Ct[0],It=Ct[1],Rt=Object(n.useState)(null),Mt=Object(o.a)(Rt,2),Nt=Mt[0],Ht=Mt[1],Vt=Object(n.useState)("All"),zt=Object(o.a)(Vt,2),qt=zt[0],Ft=zt[1],Qt=r?r.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Et=Object(n.useState)(Qt),Ut=Object(o.a)(Et,2),Kt=Ut[0],Yt=Ut[1],Jt=Object(n.useState)([]),Gt=Object(o.a)(Jt,2),Xt=Gt[0],Zt=Gt[1],_t=Object(n.useState)([]),$t=Object(o.a)(_t,2),ea=$t[0],ta=$t[1];Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){tt(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){ct(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){lt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){Te(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){We(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){Ne(e.data),qe(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(N.jsx)(ka.a,{activeStep:v,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var a,n={};return a=t,(null!==g.current&&v>0&&0===a?!g.current.checkValidity():0===ke.length&&0===Kt.length&&v>1&&1===a)&&(n.optional=Object(N.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),n.error=!0),Object(N.jsx)(va.a,{sx:{my:"10px"},children:Object(N.jsx)(Ca.a,Object(z.a)(Object(z.a)({},n),{},{children:e}))},e)}))}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},ref:g,hidden:0!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),C(1)},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((function(e,t){e.setValue;var a=e.width,n=Object(q.a)(e,pn);return"Phone"===n.label?Object(N.jsx)(sa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:a,minWidth:a},margin:"dense",size:"small"},n),t):Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})),Object(N.jsx)(te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(N.jsxs)(Sa.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(N.jsx)(ae.a,{value:"day",control:Object(N.jsx)(Da.a,{}),label:"Days"}),Object(N.jsx)(ae.a,{value:"week",control:Object(N.jsx)(Da.a,{}),label:"Weeks"})]})]}),Object(N.jsx)(ie.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===v&&Object(N.jsxs)(N.Fragment,{children:[ke.length>0&&Object(N.jsx)(st.a,{children:Object(N.jsx)(ja,{sx:{px:"10px"},children:ke.map((function(e,t){return Object(N.jsxs)(ha,{secondaryAction:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ve(ke.filter((function(e,a){return a!==t})))},children:Object(N.jsx)(Ge.a,{})}),children:["chair"===e.productType&&Object(N.jsx)(ma,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(N.jsx)(ma,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(N.jsx)(ma,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(N.jsx)(xa,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(N.jsxs)(st.a,{sx:{my:"10px"},children:[Object(N.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsxs)(wa.a,{value:Je,onChange:function(e,t){e.preventDefault(),Ze(t)},"aria-label":"basic tabs example",children:[Object(N.jsx)(Ta.a,{label:"Chairs"}),Object(N.jsx)(Ta.a,{label:"Desks"}),Object(N.jsx)(Ta.a,{label:"Accessories"}),Object(N.jsx)(Ta.a,{label:"Miscs"})]})}),Object(N.jsxs)(Cn,{value:Je,index:0,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:pt,onChange:function(e,t){e.preventDefault(),bt(t),xt(null)},options:et.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:mt,onChange:function(e,t){e.preventDefault(),xt(t)},options:et.filter((function(e){return!pt||e.brand===pt})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,bn);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Dn,onChange:function(e){Zt(e)},selected:Xt}),Object(N.jsx)(gt,{nonSelect:!0,title:"Chair Stocks",rows:we.map((function(e,t){var a=e.thumbnailURL,n=e.withHeadrest,i=e.withAdArmrest,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,jn);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(N.jsx)(Ce.a,{onClick:function(e){if(e.preventDefault(),ke.find((function(e){return"chair"===e.productType&&e.productDetail.id===we[t].id})))le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{K("chair"),X(we[t]);var a=""==we[t].frameColor?"___":we[t].frameColor,n=""==we[t].seatColor?"___":we[t].seatColor,i=""==we[t].backColor?"___":we[t].backColor;Oe("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),re(we[t].unitPrice),de(1),T(!0)}},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!pt||e.brand===pt)&&(!mt||e.model===mt)})),columns:Sn.map((function(e,t){return t>6?Xt.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Cn,{value:Je,index:1,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:yt,onChange:function(e,t){e.preventDefault(),kt(t),It(null),Ht(null)},options:it.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:St,onChange:function(e,t){e.preventDefault(),It(t),Ht(null)},options:it.filter((function(e){return!yt||e.supplierCode===yt})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:Nt,onChange:function(e,t){e.preventDefault(),Ht(t)},options:it.filter((function(e){return!St||e.model===St})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,hn);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Tn,onChange:function(e){ta(e)},selected:ea}),Object(N.jsx)(gt,{nonSelect:!0,title:"Desk Leg Stocks",rows:Be.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,mn);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){K("desk"),X(Be[t]),re(Be[t].unitPrice),de(1),H(!1),W(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})).filter((function(e){return(!yt||e.supplierCode===yt)&&(!St||e.model===St)&&(!Nt||e.color===Nt)})),columns:wn.map((function(e,t){return t>6?ea.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Cn,{value:Je,index:2,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:qt,onChange:function(e){var t=e.target.value;Ft(t),Ne("All"===t?ze:ze.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{nonSelect:!0,title:"Accessory Stocks",rows:Me.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,xn);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),K("accessory"),X(Me[t]),Oe(Me[t].remark),re(Me[t].unitPrice),de(1),ke.find((function(e){return"accessory"===e.productType&&e.productDetail.id===Me[t].id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):T(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})),columns:An})]}),Object(N.jsx)(Cn,{value:Je,index:3,children:Object(N.jsxs)(_.a,{sx:{m:3},children:[Object(N.jsx)(ie.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(Wa.a)(),description:"",price:0,productType:"misc"};Yt([].concat(Object(V.a)(Kt),[e]))},children:"+ New Service"}),Object(N.jsx)(ee.a,{container:!0,spacing:2,children:Kt.map((function(e){return Object(N.jsx)(ee.a,{item:!0,xs:4,children:Object(N.jsxs)(Aa.a,{sx:{px:2,pb:2},children:[Object(N.jsx)(_.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(Ce.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Kt.filter((function(t){return t.id!==e}));Yt(t)}(e.id)},children:Object(N.jsx)(Ba.a,{fontSize:"small"})})}),Object(N.jsx)(te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var a=Kt.map((function(a){return a.id===t?Object.assign({},a,{description:e.target.value}):a}));Yt(a)}(t,e.id)}}),Object(N.jsx)(te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var a=Kt.map((function(a){return a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a}));Yt(a)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(0)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==ke.length||0!==Kt.length?C(2):le.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){var n;t.preventDefault();var c=new FormData(g.current),r=new FormData(t.currentTarget);"create"===a?I.a.post("/quotation/create",(n={name:c.get("name"),phone:c.get("phone"),email:c.get("email"),district:c.get("district"),street:c.get("street"),block:c.get("block"),floor:c.get("floor"),unit:c.get("unit"),timeLine:Math.max(c.get("timeLine"),0)*("day"===c.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,fn);return Object(z.a)({productId:t.id},a)})).concat(Kt),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")},Object(Xe.a)(n,"surcharge",Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0)),Object(Xe.a)(n,"surchargeType",r.get("surchargeType")),n)).then((function(){e.history.push("/admin/quotation")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):I.a.put("/quotation/".concat(i.id),{name:c.get("name"),phone:c.get("phone"),email:c.get("email"),district:c.get("district"),street:c.get("street"),block:c.get("block"),floor:c.get("floor"),unit:c.get("unit"),timeLine:c.get("timeLine")*("day"===c.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,On);return Object(z.a)({productId:t.id},a)})).concat(Kt),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then((function(){e.history.push("/admin/quotation")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(N.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total: ",ke.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Kt.reduce((function(e,t){return e+t.price}),0)]}),Object(N.jsx)(te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(N.jsx)(ae.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(N.jsx)(te.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:i.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]})]}),Object(N.jsx)(ie.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),C(1)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(N.jsxs)(Fe.a,{open:w,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);T(!1),ke.find((function(e){return e.productType===U&&e.productDetail.id===G.id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,a){return Boolean(t.get("deliveryOption_".concat(a)))}))),productPrice:e.currentTarget.unitPrice.value,remark:fe}))}},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:ce,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(N.jsx)(te.a,{label:"Remark",name:"remark",value:fe,sx:{width:400,mx:"5px"},onChange:function(e){Oe(e.target.value)}})}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]}),Object(N.jsxs)(Fe.a,{open:B,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ke.find((function(e){return"desk"===e.productType&&e.productDetail.id===G.id}))||M){e.next=5;break}return W(!1),le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 5:if(a=new FormData(t.currentTarget),n="",!a.get("topSketchImg")||!a.get("topSketchImg").name){e.next=19;break}return(i=new FormData).append("file",a.get("topSketchImg")),e.prev=10,e.next=13,I.a.post("/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 13:c=e.sent,n=c.data.url,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:W(!1),ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(a.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(a.get("hasDeskTop"))?Number(a.get("deskTotalPrice")):Number(a.get("deskLegPrice")),hasDeskTop:Boolean(a.get("hasDeskTop"))||!1,topMaterial:a.get("topMaterial")||"",topColor:a.get("topColor")||"",topLength:a.get("topLength")||0,topWidth:a.get("topWidth")||0,topThickness:a.get("topThickness")||0,topRoundedCorners:a.get("topRoundedCorners")||0,topCornerRadius:a.get("topCornerRadius")||50,topHoleCount:a.get("topHoleCount")||0,topHoleType:a.get("topHoleType")||"",topHolePosition:j||"",remark:a.get("remark")||"",topSketchURL:n}));case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:ce,sx:{width:200,visibility:M?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"hasDeskTop",checked:M,onChange:function(e){H(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",defaultValue:"Melamine",options:["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%"},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",defaultValue:700,inputProps:{min:0},width:"30%"},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",defaultValue:400,inputProps:{min:0},width:"30%"},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",defaultValue:25,inputProps:{min:0},width:"30%"},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",defaultValue:0,options:[0,1,2,3,4],width:"48%"},{name:"topCornerRadius",label:"Corner Radius",type:"number",defaultValue:50,inputProps:{min:0},width:"48%"},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1==e.target.value?h("Left"):2==e.target.value?h("Left_Right"):3==e.target.value&&h("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:f,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:j,onChange:function(e){e.preventDefault(),h(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u||"Rounded"!==f,width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,gn);if("autocomplete"===a){var c=i.name,r=i.label,o=Object(q.a)(i,yn);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{name:c,label:r}))},disabled:!M},o),t)}if("suffixNumber"===a){var l=i.suffix,s=Object(q.a)(i,kn);return Object(N.jsx)(ae.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(N.jsx)(te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!M},s)),label:l},t)}if("select"===a){var u=i.name,d=i.label,p=i.options,b=Object(q.a)(i,vn);return Object(N.jsxs)(pe.a,{sx:{flexBasis:n,minWidth:n},children:[Object(N.jsx)(be.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(N.jsx)(je.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!M},b),{},{children:p.map((function(e,t){return Object(N.jsx)(he.a,{value:e,children:e},t)}))}))]},t)}return Object(N.jsx)(te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!M},i),t)})),Object(N.jsx)(te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:ce,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!M,InputProps:{endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}})]}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",mx:"10px",children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]})]})})),Bn=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(N.jsx)(Pn,Object(z.a)({componentType:"create",initialClient:{phone:i,setPhone:c,paid:!0,discountType:1,surchargeType:1,validTil:1},initialCart:[]},e))},Wn=["ChairStocks","DeskStocks","AccessoryStocks","ServiceToQuotations","Seller","sellerId"],In=["ChairToQuotation"],Rn=["DeskToQuotation"],Ln=["unitPrice","qty","deliveryOption"],Mn=["AccessoryToQuotation"],Nn=function(e){var t=(Object(s.g)().state||{}).quotation,a=t||{},i=a.ChairStocks,c=a.DeskStocks,r=a.AccessoryStocks,l=a.ServiceToQuotations,u=(a.Seller,a.sellerId,Object(q.a)(a,Wn)),d=Object(n.useState)(u.phone),p=Object(o.a)(d,2),b=p[0],j=p[1];return t?Object(N.jsx)(Pn,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},u),{},{phone:b,setPhone:j}),initialCart:i.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(q.a)(e,In),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.DeskToQuotation,a=Object(q.a)(e,Rn),n=t.unitPrice,i=t.qty,c=t.deliveryOption,r=Object(q.a)(t,Ln);return Object(z.a)({productType:"desk",productDetail:a,productPrice:n,productAmount:i,productDeliveryOption:c},r)}))).concat(r.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(q.a)(e,Mn),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:l},e)):Object(N.jsx)(s.a,{to:"/admin/quotation"})},Hn=["id","SalesOrder","ChairStock"],Vn=["width"],zn=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"frameColor",label:"FColor"},{id:"backColor",label:"BColor"},{id:"seatColor",label:"SColor"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Armrest"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var qn=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(!1),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)([]),f=Object(o.a)(x,2),O=f[0],g=f[1],y=function(e){I.a.get("/delivery/allChair",e).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(gt,{title:"Chair Delivery",rows:c.map((function(e,t){var a=e.id,n=e.SalesOrder,i=e.ChairStock,r=Object(q.a)(e,Hn);return Object(z.a)({id:a,orderDate:function(){var e=new Date(n.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(n.Seller.prefix).concat(new Date(n.createdAt).getFullYear(),"-").concat(("000"+n.invoiceNum).substr(-3)),district:n.district,name:n.name,phone:n.phone,email:n.email,brand:null===i?"":i.brand,model:null===i?"":i.model,frameColor:null===i?"":i.frameColor,backColor:null===i?"":i.backColor,seatColor:null===i?"":i.seatColor,withHeadrest:null===i?"No":i.withHeadrest?"Yes":"No",withAdArmrest:null===i?"No":i.withAdArmrest?"Yes":"No",remark:null===i?"":i.reamrk,deliveryPDF:Object(N.jsx)(ie.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(a),children:"Delivery Note"}),edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),function(e){e<c.length&&e>=0&&(p([c[e].id]),g([{name:"poNum",label:"PO #",type:"text",defaultValue:c[e].poNum,width:"100%"}])),m(!0)}(t)},children:Object(N.jsx)(Je.a,{})})},r)})),columns:zn,onBulkEditClick:function(e){p(e),g([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),m(!0)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:h,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);I.a.put("/delivery/chair",{ids:d,poNum:t.get("poNum")}).then((function(e){m(!1),y()})).catch((function(e){m(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){m(!0)})),console.log(e)})).then((function(){}))}},children:[Object(N.jsx)(Qe.a,{children:"Edit PO #"}),Object(N.jsx)(Ee.a,{children:Object(N.jsx)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var a=e.width,n=Object(q.a)(e,Vn);return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)}))})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){m(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"Save"})]})]})]})})),Fn=["id","SalesOrder","DeskStock"],Qn=["width"],En=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"akNum",label:"AK #",sx:{minWidth:100}},{id:"heworkNum",label:"Hework #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"model",label:"Model"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"deskTop",label:"Table Top"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var Un=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(!1),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)([]),f=Object(o.a)(x,2),O=f[0],g=f[1],y=function(e){I.a.get("/delivery/allDesk",e).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(gt,{title:"Desk Delivery",rows:c.map((function(e,t){var a,n=e.id,i=e.SalesOrder,r=e.DeskStock,o=Object(q.a)(e,Fn);return Object(z.a)((a={id:n,orderDate:function(){var e=new Date(i.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(i.Seller.prefix).concat(new Date(i.createdAt).getFullYear(),"-").concat(("000"+i.invoiceNum).substr(-3)),district:i.district,name:i.name,phone:i.phone,model:r.model,color:r.color},Object(Xe.a)(a,"color",r.color),Object(Xe.a)(a,"armSize",r.armSize),Object(Xe.a)(a,"feetSize",r.feetSize),Object(Xe.a)(a,"beamSize",r.beamSize),Object(Xe.a)(a,"deskTop","".concat(o.hasDeskTop?"".concat(o.topMaterial,", ").concat(o.topColor,", ").concat(o.topLength,"x").concat(o.topWidth,"x").concat(o.topThickness,", ").concat(o.topRoundedCorners,"-R").concat(o.topCornerRadius,", ").concat(o.topHoleCount,"-").concat(o.topHoleType):"Without DeskTop")),Object(Xe.a)(a,"remark",r.reamrk),Object(Xe.a)(a,"deliveryPDF",Object(N.jsx)(ie.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(n),children:"Delivery Note"})),Object(Xe.a)(a,"edit",Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),function(e){e<c.length&&e>=0&&(p([c[e].id]),g([{name:"akNum",label:"AK #",type:"text",defaultValue:c[e].akNum,width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",defaultValue:c[e].heworkNum,width:"100%"}])),m(!0)}(t)},children:Object(N.jsx)(Je.a,{})})),a),o)})),columns:En,onBulkEditClick:function(e){p(e),g([{name:"akNum",label:"AK #",type:"text",width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",width:"100%"}]),m(!0)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:h,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);I.a.put("/delivery/desk",{ids:d,akNum:t.get("akNum"),heworkNum:t.get("heworkNum")}).then((function(e){m(!1),y()})).catch((function(e){m(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){m(!0)})),console.log(e)})).then((function(){}))}},children:[Object(N.jsx)(Qe.a,{children:"Edit AK and Hework #"}),Object(N.jsx)(Ee.a,{children:Object(N.jsx)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var a=e.width,n=Object(q.a)(e,Qn);return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)}))})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){m(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"Save"})]})]})]})})),Kn=["id","SalesOrder","AccessoryStock"],Yn=["width"],Jn=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"category",label:"Category"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var Gn=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(!1),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)([]),f=Object(o.a)(x,2),O=f[0],g=f[1],y=function(e){I.a.get("/delivery/allAccessory",e).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return y({cancelToken:e.token}),function(){return e.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(gt,{title:"Accessory Delivery",rows:c.map((function(e,t){var a=e.id,n=e.SalesOrder,i=e.AccessoryStock,r=Object(q.a)(e,Kn);return Object(z.a)({id:a,orderDate:function(){var e=new Date(n.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),invoiceNum:"I-".concat(n.Seller.prefix).concat(new Date(n.createdAt).getFullYear(),"-").concat(("000"+n.invoiceNum).substr(-3)),district:n.district,name:n.name,phone:n.phone,email:n.email,category:i.category,remark:i.reamrk,deliveryPDF:Object(N.jsx)(ie.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(a),children:"Delivery Note"}),edit:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),function(e){e<c.length&&e>=0&&(p([c[e].id]),g([{name:"poNum",label:"PO #",type:"text",defaultValue:c[e].poNum,width:"100%"}])),m(!0)}(t)},children:Object(N.jsx)(Je.a,{})})},r)})),columns:Jn,onBulkEditClick:function(e){p(e),g([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),m(!0)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:h,PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);I.a.put("/delivery/accessory",{ids:d,poNum:t.get("poNum")}).then((function(e){m(!1),y()})).catch((function(e){m(!1),le.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then((function(){m(!0)})),console.log(e)})).then((function(){}))}},children:[Object(N.jsx)(Qe.a,{children:"Edit PO #"}),Object(N.jsx)(Ee.a,{children:Object(N.jsx)(st.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:O.map((function(e,t){var a=e.width,n=Object(q.a)(e,Yn);return Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)}))})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(){m(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"Save"})]})]})]})}));var Xn=[{category:"Chair",content:[{to:"/admin/chair/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/admin/desk/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/admin/accessory/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/admin/order",icon:Object(N.jsx)(Oe.a,{}),label:"Order"},{to:"/admin/quotation",icon:Object(N.jsx)(Oe.a,{}),label:"Quotation"}]},{category:"Delivery",content:[{to:"/admin/delivery/chair",icon:Object(N.jsx)(ge.a,{}),label:"Chair"},{to:"/admin/delivery/desk",icon:Object(N.jsx)(ge.a,{}),label:"Desk"},{to:"/admin/delivery/accessory",icon:Object(N.jsx)(ge.a,{}),label:"Accessory"}]},{category:"User",content:[{to:"/admin/user",icon:Object(N.jsx)(ye.a,{}),label:"Users"}]}],Zn=Object(m.b)((function(e){return{auth:e.auth}}),{logout:se})((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(s.i)().path,l=function(t){t.preventDefault(),le.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&e.logout()}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{drawerHeight:50,handleDrawerToggle:function(e){e.preventDefault(),c(!0)},title:"Administrator"}),Object(N.jsxs)(_.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(N.jsx)(qe,{mobileOpen:i,handleDrawerClose:function(e){e.preventDefault(),c(!1)},drawerWidth:240,handleLogout:l,lists:Xn}),Object(N.jsx)(He,{drawerWidth:240,handleLogout:l,lists:Xn}),Object(N.jsx)(_.a,{component:"main",sx:{flexGrow:1,width:{sm:"calc(100% - ".concat(240,"px)")},maxWidth:"100%"},children:Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"".concat(r,"/user"),component:Ct}),Object(N.jsx)(s.b,{path:"".concat(r,"/chair/stock"),exact:!0,component:Ft}),Object(N.jsx)(s.b,{path:"".concat(r,"/desk/stock"),exact:!0,component:Xt}),Object(N.jsx)(s.b,{path:"".concat(r,"/accessory/stock"),exact:!0,component:ta}),Object(N.jsx)(s.b,{path:"".concat(r,"/order"),exact:!0,component:ya}),Object(N.jsx)(s.b,{path:"".concat(r,"/order/create"),exact:!0,component:$a}),Object(N.jsx)(s.b,{path:"".concat(r,"/order/edit"),exact:!0,component:rn}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation"),exact:!0,component:un}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation/create"),exact:!0,component:Bn}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation/edit"),exact:!0,component:Nn}),Object(N.jsx)(s.b,{path:"".concat(r,"/delivery/chair"),exact:!0,component:qn}),Object(N.jsx)(s.b,{path:"".concat(r,"/delivery/desk"),exact:!0,component:Un}),Object(N.jsx)(s.b,{path:"".concat(r,"/delivery/accessory"),exact:!0,component:Gn})]})})]})]})})),_n=["label"],$n=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],ei=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ti=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"];var ai=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)([]),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),b=p[0],j=p[1],h=Object(n.useState)(null),m=Object(o.a)(h,2),x=m[0],f=m[1],O=Object(n.useState)([]),g=Object(o.a)(O,2),y=g[0],k=g[1];return Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:b,onChange:function(e,t){e.preventDefault(),j(t),f(null)},options:s.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:x,onChange:function(e,t){e.preventDefault(),f(t)},options:s.filter((function(e){return!b||e.brand===b})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,_n);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:ti,onChange:function(e){k(e)},selected:y}),Object(N.jsx)(gt,{nonSelect:!0,title:"Chair Stocks",rows:i.map((function(e,t){var a=e.withHeadrest,n=e.withAdArmrest,i=e.thumbnailURL,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,$n);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!b||e.brand===b)&&(!x||e.model===x)})),columns:ei.map((function(e,t){return t>5?y.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]})})),ni=["label"],ii=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],ci=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model",hidden:!0},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ri=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"];var oi=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)([]),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),b=p[0],j=p[1],h=Object(n.useState)(null),m=Object(o.a)(h,2),x=m[0],f=m[1],O=Object(n.useState)(null),g=Object(o.a)(O,2),y=g[0],k=g[1],v=Object(n.useState)([]),C=Object(o.a)(v,2),S=C[0],D=C[1];return Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){u(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){c(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:b,onChange:function(e,t){e.preventDefault(),j(t),f(null),k(null)},options:s.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:x,onChange:function(e,t){e.preventDefault(),f(t),k(null)},options:s.filter((function(e){return!b||e.supplierCode===b})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:y,onChange:function(e,t){e.preventDefault(),k(t)},options:s.filter((function(e){return(!b||e.supplierCode===b)&&(!x||e.model===x)})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,ni);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:ri,onChange:function(e){D(e)},selected:S}),Object(N.jsx)(gt,{nonSelect:!0,title:"Desk Leg Stocks",rows:i.map((function(e,t){var a=e.withHeadrest,n=e.withAdArmrest,i=e.thumbnailURL,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,ii);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!b||e.supplierCode===b)&&(!x||e.model===x)&&(!y||e.color===y)})),columns:ci.map((function(e,t){return t>5?S.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]})})),li=["thumbnailURL","shipmentDate","arrivalDate"],si=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"category",label:"Category"},{id:"remark",label:"Special Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}];var ui=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)([]),l=Object(o.a)(r,2),s=l[0],u=l[1],d=Object(n.useState)([]),p=Object(o.a)(d,2),b=(p[0],p[1]),j=Object(n.useState)("All"),h=Object(o.a)(j,2),m=h[0],x=h[1];Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){b(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){c(e.data),u(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:m,onChange:function(e){var t=e.target.value;x(t),c("All"===t?s:s.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{nonSelect:!0,title:"Accessory Stocks",rows:i.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,li);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})),columns:si})]})})),di=Object(pa.a)(Te.a)((function(e){e.theme;return{backgroundColor:ot.a[600],padding:"10px"}})),pi=Object(pa.a)(Ae.a)((function(e){e.theme;return{backgroundColor:ot.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}})),bi=Object(pa.a)(Be.a)((function(e){e.theme;return{color:ba.a[900]}})),ji=function(e){var t=e.unitPrice,a=e.amount;return Object(N.jsx)(_.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,a].map((function(e,t){return Object(N.jsx)(Q.a,{variant:"span",sx:{color:"white",width:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:ba.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t)}))})},hi=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],mi=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],xi=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Con","tact"];var fi=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),O=f[0],g=f[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useRef)(null),L=Object(n.useRef)(null),M=Object(n.useState)(null),H=Object(o.a)(M,2),V=H[0],F=H[1],Q=Object(n.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)([]),$=Object(o.a)(Z,2),ee=$[0],ce=$[1],re=Object(n.useRef)([]),oe=Object(n.useRef)([]),se=Object(n.useRef)([]),ue=function(e){e<c.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/salesOrder/".concat(c[e].id)).then((function(e){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},de=function(e){I.a.get("/salesOrder/current",{cancelToken:e}).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return de(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{component:l.b,to:"/user/order/create",startIcon:Object(N.jsx)(At.a,{}),children:"New Order"}),Object(N.jsx)("div",{children:Object(N.jsx)(Lt,{options:xi,onChange:function(e){ce(e)},selected:ee})}),Object(N.jsx)(gt,{title:"Sales Orders",rows:c.map((function(e,t){var a=e.id,n=e.invoiceNum,i=e.district,r=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,b=(e.isPreOrder,e.discount),j=e.discountType,h=e.surcharge,x=e.surchargeType,f=e.createdAt,O=e.timeLine,y=e.paid,k=e.ChairStocks,v=e.DeskStocks,S=e.AccessoryStocks,D=Object(q.a)(e,hi);return Object(z.a)({id:a,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:O%7!==0?"".concat(O," day").concat(1===O?"":"s"):"".concat(O/7," week").concat(O/7===1?"":"s"),orderDate:function(){var e=new Date(f);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(h).concat(x?" HKD":"%"),clientAddress:[i,r,o,s,u].join(", "),isPreOrder:(!c[t].ChairStocks.length||!c[t].ChairStocks.reduce((function(e,t){return t.ChairToOrder.preOrder*e})))*(!c[t].DeskStocks.length||!c[t].DeskStocks.reduce((function(e,t){return t.DeskToOrder.preOrder*e})))?"No":"Yes",products:Object(N.jsx)(Ce.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),re.current=[],oe.current=[],se.current=[],K(t),W(!0)},children:Object(N.jsx)(ia.a,{badgeContent:k.length+v.length+S.length,color:"error",children:Object(N.jsx)(ca.a,{})})}),paid:Object(N.jsx)(ne.a,{checked:y,onClick:function(e){e.stopPropagation(),e.preventDefault(),I.a.put("/salesOrder/withoutStock/".concat(a),{paid:!y}).then((function(){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),invoiceNum:Object(N.jsx)(l.b,{to:"/invoice/".concat(a),target:"_blank",children:n}),emailIcon:Object(N.jsx)(Ce.a,{onClick:function(){p(D.name),m(D.email),T(!0)},children:Object(N.jsx)(ra.a,{})}),whatsappIcon:Object(N.jsx)(Ce.a,{onClick:function(){I.a.get("whatsapp/checkauth").then((function(){p(D.name),g(D.phone),C(!0)})).catch((function(e){I.a.get("whatsapp/getqr").then((function(e){le.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:na.a.renderToStaticMarkup(Object(N.jsx)(da.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(N.jsx)(oa.a,{})}),edit:Object(N.jsx)(Ce.a,{component:l.b,to:{pathname:"/user/order/edit",state:{order:c[t]}},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ue(t)},children:Object(N.jsx)(Ge.a,{})})},D)})),columns:mi.map((function(e,t){return t>3&&t<14?ee.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onRemoveClick:ue,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/salesOrder",{data:{ids:e}}).then((function(e){de()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),F(null===V?e.currentTarget:null)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(N.jsx)(Qe.a,{children:"Send WhatsApp Message to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(sa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){C(!1)})).catch((function(e){C(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){C(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:w,children:[Object(N.jsx)(Qe.a,{children:"Send Email to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(te.a,{label:"Email",type:"email",value:h,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:L,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(N.jsx)(te.a,{label:"Link",type:"text",value:G,onChange:function(e){return X(e.target.value)}})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("email/send",{email:h,message:L.current.value,link:G}).then((function(){T(!1)})).catch((function(e){T(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){T(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),open:B,children:[Object(N.jsx)(Qe.a,{children:"Products Details"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(di,{children:[U<c.length&&c[U].ChairStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(N.jsx)(ji,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return re.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)})),U<c.length&&c[U].DeskStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Desk: ".concat(e.supplierCode,", ").concat(e.model,", ").concat(e.color,", ").concat(e.armSize,", ").concat(e.feetSize,", ").concat(e.beamSize),secondary:e.DeskToOrder.hasDeskTop?Object(N.jsxs)("span",{children:["".concat(e.DeskToOrder.topMaterial,", ").concat(e.DeskToOrder.topColor,", ").concat(e.DeskToOrder.topLength,"x").concat(e.DeskToOrder.topWidth,"x").concat(e.DeskToOrder.topThickness,", ").concat(e.DeskToOrder.topRoundedCorners,"-R").concat(e.DeskToOrder.topCornerRadius,", ").concat(e.DeskToOrder.topHoleCount,"-").concat(e.DeskToOrder.topHoleType," "),Object(N.jsx)("a",{href:e.DeskToOrder.topSketchURL,target:"_blank",children:"Sketch"})]}):"Without DeskTop"}),Object(N.jsx)(ji,{unitPrice:"".concat(e.DeskToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.DeskToOrder.qty),deliveryOption:"".concat(e.DeskToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.DeskToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return oe.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.DeskToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.DeskToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.DeskToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.DeskToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.DeskToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.DeskToOrder.delivered}),label:"Delivered"},t)]})]},t)})),U<c.length&&c[U].AccessoryStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Accessory: ".concat(e.category),secondary:"".concat(e.remark)}),Object(N.jsx)(ji,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(N.jsx)(ie.a,{variant:"contained",sx:{mt:"5px"},component:l.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),c[U].paid&&Object(N.jsxs)(st.a,{ref:function(e){return se.current.push(e)},component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(N.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(N.jsx)(te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(N.jsx)(te.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(te.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t)}))]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault();var t=re.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),a=oe.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}})),n=se.current.map((function(e){return{id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}}));I.a.post("/salesOrder/products",{chairToOrders:t,deskToOrders:a,accessoryToOrders:n}).then((function(){de()})).catch((function(e){console.log(e)})).then((function(){W(!1)}))},children:"OK"})]})]})]})})),Oi=["children","value","index"],gi=["setValue","width"],yi=["label"],ki=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],vi=["label"],Ci=["thumbnailURL","shipmentDate","arrivalDate"],Si=["thumbnailURL","shipmentDate","arrivalDate"],Di=["productDetail"],wi=["productDetail"],Ti=["type","width"],Ai=["name","label"],Pi=["suffix"],Bi=["name","label","options"],Wi=function(e){var t=e.children,a=e.value,n=e.index,i=Object(q.a)(e,Oi);return Object(N.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(N.jsx)(_.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var Ii=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Ri=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"],Li=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Mi=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"],Ni=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Special Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Hi=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=e.componentType,i=e.initialClient,c=e.initialCart,r=e.initialServices,l=Object(n.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)("Left"),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)("Rounded"),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useRef)(null),y=Object(n.useState)(0),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useState)(!1),L=Object(o.a)(R,2),M=L[0],H=L[1],F=Object(n.useState)("chair"),E=Object(o.a)(F,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)(1e3),$=Object(o.a)(Z,2),ce=$[0],re=$[1],oe=Object(n.useState)(0),se=Object(o.a)(oe,2),ue=se[0],de=se[1],me=Object(n.useState)(""),xe=Object(o.a)(me,2),fe=xe[0],Oe=xe[1],ge=Object(n.useState)(c),ye=Object(o.a)(ge,2),ke=ye[0],ve=ye[1],Se=Object(n.useState)(i.paid),De=Object(o.a)(Se,2),we=De[0],Te=De[1],Ae=Object(n.useState)([]),Pe=Object(o.a)(Ae,2),Be=Pe[0],We=Pe[1],Re=Object(n.useState)([]),Le=Object(o.a)(Re,2),Me=Le[0],Ne=Le[1],He=Object(n.useState)([]),Ve=Object(o.a)(He,2),ze=Ve[0],qe=Ve[1],Ue=Object(n.useState)([]),Ke=Object(o.a)(Ue,2),Je=Ke[0],Xe=Ke[1],Ze=Object(n.useState)(0),_e=Object(o.a)(Ze,2),$e=_e[0],et=_e[1],tt=Object(n.useState)([]),at=Object(o.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)([]),rt=Object(o.a)(ct,2),ot=rt[0],lt=rt[1],ut=Object(n.useState)([]),dt=Object(o.a)(ut,2),pt=(dt[0],dt[1]),bt=Object(n.useState)(null),jt=Object(o.a)(bt,2),ht=jt[0],mt=jt[1],xt=Object(n.useState)(null),ft=Object(o.a)(xt,2),Ot=ft[0],yt=ft[1],kt=Object(n.useState)(null),vt=Object(o.a)(kt,2),Ct=vt[0],St=vt[1],It=Object(n.useState)(null),Rt=Object(o.a)(It,2),Mt=Rt[0],Nt=Rt[1],Ht=Object(n.useState)(null),Vt=Object(o.a)(Ht,2),zt=Vt[0],qt=Vt[1],Ft=Object(n.useState)("All"),Qt=Object(o.a)(Ft,2),Et=Qt[0],Ut=Qt[1],Kt=r?r.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Yt=Object(n.useState)(Kt),Jt=Object(o.a)(Yt,2),Gt=Jt[0],Xt=Jt[1],Zt=Object(n.useState)([]),_t=Object(o.a)(Zt,2),$t=_t[0],ea=_t[1],ta=Object(n.useState)([]),aa=Object(o.a)(ta,2),na=aa[0],ia=aa[1];Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){it(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){lt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){pt(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){We(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){Ne(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){qe(e.data),Xe(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(N.jsx)(ka.a,{activeStep:v,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var a,n={};return a=t,(null!==g.current&&v>0&&0===a?!g.current.checkValidity():0===ke.length&&0===Gt.length&&v>1&&1===a)&&(n.optional=Object(N.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),n.error=!0),Object(N.jsx)(va.a,{sx:{my:"10px"},children:Object(N.jsx)(Ca.a,Object(z.a)(Object(z.a)({},n),{},{children:e}))},e)}))}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},ref:g,hidden:0!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),C(1)},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((function(e,t){e.setValue;var a=e.width,n=Object(q.a)(e,gi);return"Phone"===n.label?Object(N.jsx)(sa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:a,minWidth:a},margin:"dense",size:"small"},n),t):Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})),Object(N.jsx)(te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(N.jsxs)(Sa.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(N.jsx)(ae.a,{value:"day",control:Object(N.jsx)(Da.a,{}),label:"Days"}),Object(N.jsx)(ae.a,{value:"week",control:Object(N.jsx)(Da.a,{}),label:"Weeks"})]})]}),Object(N.jsx)(ie.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===v&&Object(N.jsxs)(N.Fragment,{children:[ke.length>0&&Object(N.jsx)(st.a,{children:Object(N.jsx)(di,{sx:{px:"10px"},children:ke.map((function(e,t){return Object(N.jsxs)(pi,{secondaryAction:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ve(ke.filter((function(e,a){return a!==t})))},children:Object(N.jsx)(Ge.a,{})}),children:["chair"===e.productType&&Object(N.jsx)(bi,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(N.jsx)(bi,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(N.jsx)(bi,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(N.jsx)(ji,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(N.jsxs)(st.a,{sx:{my:"10px"},children:[Object(N.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsxs)(wa.a,{value:$e,onChange:function(e,t){e.preventDefault(),et(t)},"aria-label":"basic tabs example",children:[Object(N.jsx)(Ta.a,{label:"Chairs"}),Object(N.jsx)(Ta.a,{label:"Desks"}),Object(N.jsx)(Ta.a,{label:"Accessories"}),Object(N.jsx)(Ta.a,{label:"Miscs"})]})}),Object(N.jsxs)(Wi,{value:$e,index:0,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:ht,onChange:function(e,t){e.preventDefault(),mt(t),yt(null)},options:nt.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:Ot,onChange:function(e,t){e.preventDefault(),yt(t)},options:nt.filter((function(e){return!ht||e.brand===ht})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,yi);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Ri,onChange:function(e){ea(e)},selected:$t}),Object(N.jsx)(gt,{nonSelect:!0,title:"Chair Stocks",rows:Be.map((function(e,t){var a=e.thumbnailURL,n=e.withHeadrest,i=e.withAdArmrest,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,ki);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(N.jsx)(Ce.a,{onClick:function(e){if(e.preventDefault(),ke.find((function(e){return"chair"===e.productType&&e.productDetail.id===Be[t].id})))le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{K("chair"),X(Be[t]);var a=""==Be[t].frameColor?"___":Be[t].frameColor,n=""==Be[t].seatColor?"___":Be[t].seatColor,i=""==Be[t].backColor?"___":Be[t].backColor;Oe("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),re(Be[t].unitPrice),de(1),T(!0)}},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!ht||e.brand===ht)&&(!Ot||e.model===Ot)})),columns:Ii.map((function(e,t){return t>6?$t.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Wi,{value:$e,index:1,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Ct,onChange:function(e,t){e.preventDefault(),St(t),Nt(null),qt(null)},options:ot.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:Mt,onChange:function(e,t){e.preventDefault(),Nt(t),qt(null)},options:ot.filter((function(e){return!Ct||e.supplierCode===Ct})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:zt,onChange:function(e,t){e.preventDefault(),qt(t)},options:ot.filter((function(e){return!Mt||e.model===Mt})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,vi);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:Mi,onChange:function(e){ia(e)},selected:na}),Object(N.jsx)(gt,{nonSelect:!0,title:"Desk Leg Stocks",rows:Me.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,Ci);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){K("desk"),X(Me[t]),re(Me[t].unitPrice),de(1),H(!1),W(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})).filter((function(e){return(!Ct||e.supplierCode===Ct)&&(!Mt||e.model===Mt)&&(!zt||e.color===zt)})),columns:Li.map((function(e,t){return t>6?na.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(Wi,{value:$e,index:2,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:Et,onChange:function(e){var t=e.target.value;Ut(t),qe("All"===t?Je:Je.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{nonSelect:!0,title:"Accessory Stocks",rows:ze.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,Si);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),K("accessory"),X(ze[t]),Oe(ze[t].remark),re(ze[t].unitPrice),de(1),ke.find((function(e){return"accessory"===e.productType&&e.productDetail.id===ze[t].id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):T(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})),columns:Ni})]}),Object(N.jsx)(Wi,{value:$e,index:3,children:Object(N.jsxs)(_.a,{sx:{m:3},children:[Object(N.jsx)(ie.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(Wa.a)(),description:"",price:0,productType:"misc"};Xt([].concat(Object(V.a)(Gt),[e]))},children:"+ New Service"}),Object(N.jsx)(ee.a,{container:!0,spacing:2,children:Gt.map((function(e){return Object(N.jsx)(ee.a,{item:!0,xs:4,children:Object(N.jsxs)(Aa.a,{sx:{px:2,pb:2},children:[Object(N.jsx)(_.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(Ce.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Gt.filter((function(t){return t.id!==e}));Xt(t)}(e.id)},children:Object(N.jsx)(Ba.a,{fontSize:"small"})})}),Object(N.jsx)(te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var a=Gt.map((function(a){return a.id===t?Object.assign({},a,{description:e.target.value}):a}));Xt(a)}(t,e.id)}}),Object(N.jsx)(te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var a=Gt.map((function(a){return a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a}));Xt(a)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(0)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==ke.length||0!==Gt.length?C(2):le.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(g.current),c=new FormData(t.currentTarget);"create"===a?I.a.post("/salesOrder/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,Di);return Object(z.a)({productId:t.id},a)})).concat(Gt),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),dueDate:c.get("dueDate")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/user/order")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):I.a.put("/salesOrder/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,wi);return Object(z.a)({productId:t.id},a)})).concat(Gt),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),dueDate:c.get("dueDate")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/user/order")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(N.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total: ",ke.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Gt.reduce((function(e,t){return e+t.price}),0)]}),Object(N.jsx)(te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(N.jsx)(ae.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(N.jsx)(ne.a,{name:"paid",checked:we,onChange:function(e){Te(e.target.checked)}}),label:"Paid"}),Object(N.jsx)(te.a,{type:"date",disabled:we,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:i.dueDate,InputLabelProps:{shrink:!0}}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]})]}),Object(N.jsx)(ie.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),C(1)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(N.jsxs)(Fe.a,{open:w,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);T(!1),ke.find((function(e){return e.productType===U&&e.productDetail.id===G.id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,a){return Boolean(t.get("deliveryOption_".concat(a)))}))),productPrice:e.currentTarget.unitPrice.value,remark:fe}))}},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:ce,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(N.jsx)(te.a,{label:"Remark",name:"remark",value:fe,sx:{width:400,mx:"5px"},onChange:function(e){Oe(e.target.value)}})}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]}),Object(N.jsxs)(Fe.a,{open:B,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ke.find((function(e){return"desk"===e.productType&&e.productDetail.id===G.id}))||M){e.next=5;break}return W(!1),le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 5:if(a=new FormData(t.currentTarget),n="",!a.get("topSketchImg")||!a.get("topSketchImg").name){e.next=19;break}return(i=new FormData).append("file",a.get("topSketchImg")),e.prev=10,e.next=13,I.a.post("/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 13:c=e.sent,n=c.data.url,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:W(!1),ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(a.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(a.get("hasDeskTop"))?Number(a.get("deskTotalPrice")):Number(a.get("deskLegPrice")),hasDeskTop:Boolean(a.get("hasDeskTop"))||!1,topMaterial:a.get("topMaterial")||"",topColor:a.get("topColor")||"",topLength:a.get("topLength")||0,topWidth:a.get("topWidth")||0,topThickness:a.get("topThickness")||0,topRoundedCorners:a.get("topRoundedCorners")||0,topCornerRadius:a.get("topCornerRadius")||50,topHoleCount:a.get("topHoleCount")||0,topHoleType:a.get("topHoleType")||"",topHolePosition:j||"",remark:a.get("remark")||"",topSketchURL:n}));case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:ce,sx:{width:200,visibility:M?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"hasDeskTop",checked:M,onChange:function(e){H(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",defaultValue:"Melamine",options:["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%"},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",defaultValue:700,inputProps:{min:0},width:"30%"},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",defaultValue:400,inputProps:{min:0},width:"30%"},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",defaultValue:25,inputProps:{min:0},width:"30%"},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",defaultValue:0,options:[0,1,2,3,4],width:"48%"},{name:"topCornerRadius",label:"Corner Radius",type:"number",defaultValue:50,inputProps:{min:0},width:"48%"},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1==e.target.value?h("Left"):2==e.target.value?h("Left_Right"):3==e.target.value&&h("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:f,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:j,onChange:function(e){e.preventDefault(),h(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u||"Rounded"!==f,width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,Ti);if("autocomplete"===a){var c=i.name,r=i.label,o=Object(q.a)(i,Ai);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{name:c,label:r}))},disabled:!M},o),t)}if("suffixNumber"===a){var l=i.suffix,s=Object(q.a)(i,Pi);return Object(N.jsx)(ae.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(N.jsx)(te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!M},s)),label:l},t)}if("select"===a){var u=i.name,d=i.label,p=i.options,b=Object(q.a)(i,Bi);return Object(N.jsxs)(pe.a,{sx:{flexBasis:n,minWidth:n},children:[Object(N.jsx)(be.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(N.jsx)(je.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!M},b),{},{children:p.map((function(e,t){return Object(N.jsx)(he.a,{value:e,children:e},t)}))}))]},t)}return Object(N.jsx)(te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!M},i),t)})),Object(N.jsx)(te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:ce,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!M,InputProps:{endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}})]}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",mx:"10px",children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]})]})})),Vi=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(N.jsx)(Hi,Object(z.a)({componentType:"create",initialClient:{phone:i,setPhone:c,paid:!0,discountType:1,surchargeType:1,dueDate:""},initialCart:[]},e))},zi=["ChairStocks","DeskStocks","AccessoryStocks","ServiceToOrders","Seller","sellerId"],qi=["ChairToOrder"],Fi=["DeskToOrder"],Qi=["unitPrice","qty","deliveryOption"],Ei=["AccessoryToOrder"],Ui=function(e){var t=(Object(s.g)().state||{}).order,a=t||{},i=a.ChairStocks,c=a.DeskStocks,r=a.AccessoryStocks,l=a.ServiceToOrders,u=(a.Seller,a.sellerId,Object(q.a)(a,zi)),d=Object(n.useState)(u.phone),p=Object(o.a)(d,2),b=p[0],j=p[1];return t?Object(N.jsx)(Hi,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},u),{},{phone:b,setPhone:j}),initialCart:i.map((function(e){var t=e.ChairToOrder,a=Object(q.a)(e,qi);return{productType:"chair",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.DeskToOrder,a=Object(q.a)(e,Fi),n=t.unitPrice,i=t.qty,c=t.deliveryOption,r=Object(q.a)(t,Qi);return Object(z.a)({productType:"desk",productDetail:a,productPrice:n,productAmount:i,productDeliveryOption:c},r)}))).concat(r.map((function(e){var t=e.AccessoryToOrder,a=Object(q.a)(e,Ei);return{productType:"accessory",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:l},e)):Object(N.jsx)(s.a,{to:"/user/order"})},Ki=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],Yi=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],Ji=["Address","TimeLine","Remark","Discount","SurC harge","Products","Paid","Con","tact"];var Gi=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],r=i[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),j=Object(o.a)(b,2),h=j[0],m=j[1],x=Object(n.useState)(""),f=Object(o.a)(x,2),O=f[0],g=f[1],y=Object(n.useState)(!1),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useRef)(null),L=Object(n.useRef)(null),M=Object(n.useState)(null),H=Object(o.a)(M,2),V=H[0],F=H[1],Q=Object(n.useState)(0),E=Object(o.a)(Q,2),U=E[0],K=E[1],Y=Object(n.useState)([]),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=function(e){e<c.length&&e>=0&&le.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/quotation/".concat(c[e].id)).then((function(e){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},$=function(e){I.a.get("/quotation/current",{cancelToken:e}).then((function(e){r(e.data)})).catch((function(e){console.log(e)})).then((function(){}))};return Object(n.useEffect)((function(){var e=I.a.CancelToken.source();return $(e.token),function(){return e.cancel("Brand Component got unmounted")}}),[]),Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(N.jsx)(ie.a,{component:l.b,to:"/user/quotation/create",startIcon:Object(N.jsx)(At.a,{}),children:"New Quotation"}),Object(N.jsx)("div",{children:Object(N.jsx)(Lt,{options:Ji,onChange:function(e){X(e)},selected:G})}),Object(N.jsx)(gt,{title:"Sales quotations",rows:c.map((function(e,t){var a=e.id,n=e.quotationNum,i=e.district,r=e.street,o=e.block,s=e.floor,u=e.unit,d=e.Seller,b=e.discount,j=e.discountType,h=e.surcharge,x=e.surchargeType,f=e.createdAt,O=e.timeLine,y=e.paid,k=e.ChairStocks,v=e.DeskStocks,S=e.AccessoryStocks,D=Object(q.a)(e,Ki);return Object(z.a)({id:a,index:t,seller:(d.firstName||"").concat(" ",d.lastName||""),timeLine:O%7!==0?"".concat(O," day").concat(1===O?"":"s"):"".concat(O/7," week").concat(O/7===1?"":"s"),quotationDate:function(){var e=new Date(f);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),discount:"".concat(b).concat(j?" HKD":"%"),surcharge:"".concat(h).concat(x?" HKD":"%"),clientAddress:[i,r,o,s,u].join(", "),products:Object(N.jsx)(Ce.a,{sx:{my:"5px"},onClick:function(e){e.preventDefault(),K(t),W(!0)},children:Object(N.jsx)(ia.a,{badgeContent:k.length+v.length+S.length,color:"error",children:Object(N.jsx)(ca.a,{})})}),paid:Object(N.jsx)(ne.a,{checked:y,onClick:function(e){e.stopPropagation(),e.preventDefault(),I.a.put("/quotation/withoutStock/".concat(a),{paid:!y}).then((function(){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})).then((function(){}))}}),quotationNum:Object(N.jsx)(l.b,{to:"/quotation/".concat(a),target:"_blank",children:n}),emailIcon:Object(N.jsx)(Ce.a,{onClick:function(){p(D.name),m(D.email),T(!0)},children:Object(N.jsx)(ra.a,{})}),whatsappIcon:Object(N.jsx)(Ce.a,{onClick:function(){I.a.get("whatsapp/checkauth").then((function(){p(D.name),g(D.phone),C(!0)})).catch((function(e){I.a.get("whatsapp/getqr").then((function(e){le.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:na.a.renderToStaticMarkup(Object(N.jsx)(da.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})})).then((function(){}))})).then((function(){}))},children:Object(N.jsx)(oa.a,{})}),edit:Object(N.jsx)(Ce.a,{component:l.b,to:{pathname:"/user/quotation/edit",state:{quotation:c[t]}},children:Object(N.jsx)(Je.a,{})}),delete:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),Z(t)},children:Object(N.jsx)(Ge.a,{})})},D)})),columns:Yi.map((function(e,t){return t>3&&t<13?G.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e})),onEditClick:function(e){c.length},onRemoveClick:Z,onBulkRemoveClick:function(e){le.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&I.a.delete("/quotation",{data:{ids:e}}).then((function(e){$()})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})).then((function(){}))}))},onFilterClick:function(e){e.preventDefault(),F(null===V?e.currentTarget:null)}}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:v,children:[Object(N.jsx)(Qe.a,{children:"Send WhatsApp Message to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(sa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:O,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:R,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("whatsapp/send",{phone:O,message:R.current.value}).then((function(){C(!1)})).catch((function(e){C(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){C(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:w,children:[Object(N.jsx)(Qe.a,{children:"Send Email to the Client"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(Ue.a,{spacing:2,children:[Object(N.jsx)(te.a,{label:"Email",type:"email",value:h,InputProps:{readOnly:!0}}),Object(N.jsx)(te.a,{inputRef:L,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(d,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),I.a.post("email/send",{email:h,message:L.current.value}).then((function(){T(!1)})).catch((function(e){T(!1),le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){T(!0)}))})).then((function(){}))},children:"Send"})]})]}),Object(N.jsxs)(Fe.a,{maxWidth:"sm",fullWidth:!0,open:B,onClose:function(e){e.preventDefault(),W(!1)},children:[Object(N.jsx)(Qe.a,{children:"Products Details"}),Object(N.jsx)(Ee.a,{children:Object(N.jsxs)(di,{children:[U<c.length&&c[U].ChairStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(N.jsx)(ji,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)})),U<c.length&&c[U].DeskStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Desk: ".concat(e.supplierCode,", ").concat(e.model,", ").concat(e.color,", ").concat(e.armSize,", ").concat(e.feetSize,", ").concat(e.beamSize),secondary:e.DeskToQuotation.hasDeskTop?Object(N.jsxs)("span",{children:["".concat(e.DeskToQuotation.topMaterial,", ").concat(e.DeskToQuotation.topColor,", ").concat(e.DeskToQuotation.topLength,"x").concat(e.DeskToQuotation.topWidth,"x").concat(e.DeskToQuotation.topThickness,", ").concat(e.DeskToQuotation.topRoundedCorners,"-R").concat(e.DeskToQuotation.topCornerRadius,", ").concat(e.DeskToQuotation.topHoleCount,"-").concat(e.DeskToQuotation.topHoleType," "),Object(N.jsx)("a",{href:e.DeskToQuotation.topSketchURL,target:"_blank",children:"Sketch"})]}):"Without DeskTop"}),Object(N.jsx)(ji,{unitPrice:"".concat(e.DeskToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.DeskToQuotation.qty),deliveryOption:"".concat(e.DeskToQuotation.deliveryOption)})]},t)})),U<c.length&&c[U].AccessoryStocks.map((function(e,t){return Object(N.jsxs)(pi,{children:[Object(N.jsx)(bi,{primary:"Accessory: ".concat(e.category),secondary:"".concat(e.remark)}),Object(N.jsx)(ji,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t)}))]})}),Object(N.jsx)(Ye.a,{children:Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"OK"})})]})]})})),Xi=["children","value","index"],Zi=["setValue","width"],_i=["label"],$i=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],ec=["label"],tc=["thumbnailURL","shipmentDate","arrivalDate"],ac=["thumbnailURL","shipmentDate","arrivalDate"],nc=["productDetail"],ic=["productDetail"],cc=["type","width"],rc=["name","label"],oc=["suffix"],lc=["name","label","options"],sc=function(e){var t=e.children,a=e.value,n=e.index,i=Object(q.a)(e,Xi);return Object(N.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(N.jsx)(_.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};var uc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],dc=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Special Remark","Shipment","Arrival"],pc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Special Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],bc=["Color","Arm Size","Feet Size","Beam Size","Special Remark","Shipment","Arrival"],jc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Special Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],hc=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=Object(Bt.a)(),a=e.componentType,i=e.initialClient,c=e.initialCart,r=e.initialServices,l=Object(n.useState)(0),s=Object(o.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)("Left"),b=Object(o.a)(p,2),j=b[0],h=b[1],m=Object(n.useState)("Rounded"),x=Object(o.a)(m,2),f=x[0],O=x[1],g=Object(n.useRef)(null),y=Object(n.useState)(0),k=Object(o.a)(y,2),v=k[0],C=k[1],S=Object(n.useState)(!1),D=Object(o.a)(S,2),w=D[0],T=D[1],A=Object(n.useState)(!1),P=Object(o.a)(A,2),B=P[0],W=P[1],R=Object(n.useState)(!1),L=Object(o.a)(R,2),M=L[0],H=L[1],F=Object(n.useState)("chair"),E=Object(o.a)(F,2),U=E[0],K=E[1],Y=Object(n.useState)(""),J=Object(o.a)(Y,2),G=J[0],X=J[1],Z=Object(n.useState)(1e3),$=Object(o.a)(Z,2),ce=$[0],re=$[1],oe=Object(n.useState)(0),se=Object(o.a)(oe,2),ue=se[0],de=se[1],me=Object(n.useState)(""),xe=Object(o.a)(me,2),fe=xe[0],Oe=xe[1],ge=Object(n.useState)(c),ye=Object(o.a)(ge,2),ke=ye[0],ve=ye[1],Se=Object(n.useState)([]),De=Object(o.a)(Se,2),we=De[0],Te=De[1],Ae=Object(n.useState)([]),Pe=Object(o.a)(Ae,2),Be=Pe[0],We=Pe[1],Re=Object(n.useState)([]),Le=Object(o.a)(Re,2),Me=Le[0],Ne=Le[1],He=Object(n.useState)([]),Ve=Object(o.a)(He,2),ze=Ve[0],qe=Ve[1],Ue=Object(n.useState)(0),Ke=Object(o.a)(Ue,2),Je=Ke[0],Xe=Ke[1],Ze=Object(n.useState)([]),_e=Object(o.a)(Ze,2),$e=_e[0],et=_e[1],tt=Object(n.useState)([]),at=Object(o.a)(tt,2),nt=at[0],it=at[1],ct=Object(n.useState)([]),rt=Object(o.a)(ct,2),ot=(rt[0],rt[1]),lt=Object(n.useState)(null),ut=Object(o.a)(lt,2),dt=ut[0],pt=ut[1],bt=Object(n.useState)(null),jt=Object(o.a)(bt,2),ht=jt[0],mt=jt[1],xt=Object(n.useState)(null),ft=Object(o.a)(xt,2),Ot=ft[0],yt=ft[1],kt=Object(n.useState)(null),vt=Object(o.a)(kt,2),Ct=vt[0],St=vt[1],It=Object(n.useState)(null),Rt=Object(o.a)(It,2),Mt=Rt[0],Nt=Rt[1],Ht=Object(n.useState)("All"),Vt=Object(o.a)(Ht,2),zt=Vt[0],qt=Vt[1],Ft=r?r.map((function(e){return Object.assign(e,{productType:"misc"})})):[],Qt=Object(n.useState)(Ft),Et=Object(o.a)(Qt,2),Ut=Et[0],Kt=Et[1],Yt=Object(n.useState)([]),Jt=Object(o.a)(Yt,2),Gt=Jt[0],Xt=Jt[1],Zt=Object(n.useState)([]),_t=Object(o.a)(Zt,2),$t=_t[0],ea=_t[1];Object(n.useEffect)((function(){var e,t=I.a.CancelToken.source();return e=t.token,I.a.get("/chairStock/features",{cancelToken:e}).then((function(e){et(e.data)})).catch((function(e){console.log(e)})).then((function(){})),function(e){I.a.get("/deskStock/features",{cancelToken:e}).then((function(e){it(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock/features",{cancelToken:e}).then((function(e){ot(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/chairStock",{cancelToken:e}).then((function(e){Te(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/deskStock",{cancelToken:e}).then((function(e){We(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(e){I.a.get("/accessoryStock",{cancelToken:e}).then((function(e){Ne(e.data),qe(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}(t.token),function(){return t.cancel("Stock Component got unmounted")}}),[]);return Object(N.jsxs)(_.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(N.jsx)(ka.a,{activeStep:v,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((function(e,t){var a,n={};return a=t,(null!==g.current&&v>0&&0===a?!g.current.checkValidity():0===ke.length&&0===Ut.length&&v>1&&1===a)&&(n.optional=Object(N.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),n.error=!0),Object(N.jsx)(va.a,{sx:{my:"10px"},children:Object(N.jsx)(Ca.a,Object(z.a)(Object(z.a)({},n),{},{children:e}))},e)}))}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},ref:g,hidden:0!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(e){e.preventDefault(),C(1)},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((function(e,t){e.setValue;var a=e.width,n=Object(q.a)(e,Zi);return"Phone"===n.label?Object(N.jsx)(sa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:a,minWidth:a},margin:"dense",size:"small"},n),t):Object(N.jsx)(te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})),Object(N.jsx)(te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(N.jsxs)(Sa.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(N.jsx)(ae.a,{value:"day",control:Object(N.jsx)(Da.a,{}),label:"Days"}),Object(N.jsx)(ae.a,{value:"week",control:Object(N.jsx)(Da.a,{}),label:"Weeks"})]})]}),Object(N.jsx)(ie.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===v&&Object(N.jsxs)(N.Fragment,{children:[ke.length>0&&Object(N.jsx)(st.a,{children:Object(N.jsx)(di,{sx:{px:"10px"},children:ke.map((function(e,t){return Object(N.jsxs)(pi,{secondaryAction:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),ve(ke.filter((function(e,a){return a!==t})))},children:Object(N.jsx)(Ge.a,{})}),children:["chair"===e.productType&&Object(N.jsx)(bi,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(N.jsx)(bi,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(N.jsx)(bi,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(N.jsx)(ji,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t)}))})}),Object(N.jsxs)(st.a,{sx:{my:"10px"},children:[Object(N.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(N.jsxs)(wa.a,{value:Je,onChange:function(e,t){e.preventDefault(),Xe(t)},"aria-label":"basic tabs example",children:[Object(N.jsx)(Ta.a,{label:"Chairs"}),Object(N.jsx)(Ta.a,{label:"Desks"}),Object(N.jsx)(Ta.a,{label:"Accessories"}),Object(N.jsx)(Ta.a,{label:"Miscs"})]})}),Object(N.jsxs)(sc,{value:Je,index:0,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:dt,onChange:function(e,t){e.preventDefault(),pt(t),mt(null)},options:$e.map((function(e){return e.brand})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:ht,onChange:function(e,t){e.preventDefault(),mt(t)},options:$e.filter((function(e){return!dt||e.brand===dt})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,_i);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:dc,onChange:function(e){Xt(e)},selected:Gt}),Object(N.jsx)(gt,{nonSelect:!0,title:"Chair Stocks",rows:we.map((function(e,t){var a=e.thumbnailURL,n=e.withHeadrest,i=e.withAdArmrest,c=e.shipmentDate,r=e.arrivalDate,o=Object(q.a)(e,$i);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(N.jsx)(Ce.a,{onClick:function(e){if(e.preventDefault(),ke.find((function(e){return"chair"===e.productType&&e.productDetail.id===we[t].id})))le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});else{K("chair"),X(we[t]);var a=""==we[t].frameColor?"___":we[t].frameColor,n=""==we[t].seatColor?"___":we[t].seatColor,i=""==we[t].backColor?"___":we[t].backColor;Oe("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),re(we[t].unitPrice),de(1),T(!0)}},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===c)return"No";var e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===r)return"No";var e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},o)})).filter((function(e){return(!dt||e.brand===dt)&&(!ht||e.model===ht)})),columns:uc.map((function(e,t){return t>6?Gt.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(sc,{value:Je,index:1,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Ot,onChange:function(e,t){e.preventDefault(),yt(t),St(null),Nt(null)},options:nt.map((function(e){return e.supplierCode})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Model",value:Ct,onChange:function(e,t){e.preventDefault(),St(t),Nt(null)},options:nt.filter((function(e){return!Ot||e.supplierCode===Ot})).map((function(e){return e.model})).filter((function(e,t,a){return a.indexOf(e)===t}))},{label:"Color",value:Mt,onChange:function(e,t){e.preventDefault(),Nt(t)},options:nt.filter((function(e){return!Ct||e.model===Ct})).map((function(e){return e.color})).filter((function(e,t,a){return a.indexOf(e)===t}))}].map((function(e,t){var a=e.label,n=Object(q.a)(e,ec);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))}},n),t)}))}),Object(N.jsx)(Lt,{options:bc,onChange:function(e){ea(e)},selected:$t}),Object(N.jsx)(gt,{nonSelect:!0,title:"Desk Leg Stocks",rows:Be.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,tc);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){K("desk"),X(Be[t]),re(Be[t].unitPrice),de(1),H(!1),W(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})).filter((function(e){return(!Ot||e.supplierCode===Ot)&&(!Ct||e.model===Ct)&&(!Mt||e.color===Mt)})),columns:pc.map((function(e,t){return t>6?$t.find((function(t){return t===e.label}))?e:void 0:e})).filter((function(e){return void 0!==e}))})]}),Object(N.jsxs)(sc,{value:Je,index:2,children:[Object(N.jsx)(st.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(N.jsxs)(pe.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(N.jsx)(be.a,{id:"category_filter",children:"Category"}),Object(N.jsxs)(je.a,{labelId:"category_filter",label:"Category",value:zt,onChange:function(e){var t=e.target.value;qt(t),Ne("All"===t?ze:ze.filter((function(e){return e.category===t})))},children:[Object(N.jsx)(he.a,{value:"All",children:"All"}),Object(N.jsx)(he.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(N.jsx)(he.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(N.jsx)(he.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(N.jsx)(he.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(N.jsx)(he.a,{value:"Cabinet",children:"Cabinet"})]})]})}),Object(N.jsx)(gt,{nonSelect:!0,title:"Accessory Stocks",rows:Me.map((function(e,t){var a=e.thumbnailURL,n=e.shipmentDate,i=e.arrivalDate,c=Object(q.a)(e,ac);return Object(z.a)({thumbnail:Object(N.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),le.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(N.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),K("accessory"),X(Me[t]),Oe(Me[t].remark),re(Me[t].unitPrice),de(1),ke.find((function(e){return"accessory"===e.productType&&e.productDetail.id===Me[t].id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):T(!0)},children:Object(N.jsx)(At.a,{})}),shipmentDate:function(){if(null===n)return"No";var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}(),arrivalDate:function(){if(null===i)return"No";var e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]}()},c)})),columns:jc})]}),Object(N.jsx)(sc,{value:Je,index:3,children:Object(N.jsxs)(_.a,{sx:{m:3},children:[Object(N.jsx)(ie.a,{variant:"contained",sx:{mb:2},onClick:function(){var e={id:Object(Wa.a)(),description:"",price:0,productType:"misc"};Kt([].concat(Object(V.a)(Ut),[e]))},children:"+ New Service"}),Object(N.jsx)(ee.a,{container:!0,spacing:2,children:Ut.map((function(e){return Object(N.jsx)(ee.a,{item:!0,xs:4,children:Object(N.jsxs)(Aa.a,{sx:{px:2,pb:2},children:[Object(N.jsx)(_.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(Ce.a,{"aria-label":"settings",size:"small",onClick:function(){return function(e){var t=Ut.filter((function(t){return t.id!==e}));Kt(t)}(e.id)},children:Object(N.jsx)(Ba.a,{fontSize:"small"})})}),Object(N.jsx)(te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:function(t){return function(e,t){var a=Ut.map((function(a){return a.id===t?Object.assign({},a,{description:e.target.value}):a}));Kt(a)}(t,e.id)}}),Object(N.jsx)(te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:function(t){return function(e,t){var a=Ut.map((function(a){return a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a}));Kt(a)}(t,e.id)}})]})},e.id)}))})]})})]}),Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),C(0)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right"},onClick:function(e){e.preventDefault(),0!==ke.length||0!==Ut.length?C(2):le.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(N.jsxs)(_.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==v,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:function(t){t.preventDefault();var n=new FormData(g.current),c=new FormData(t.currentTarget);"create"===a?I.a.post("/quotation/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,nc);return Object(z.a)({productId:t.id},a)})).concat(Ut),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),validTil:c.get("validTil")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/user/quotation")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){})):I.a.put("/quotation/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:"",products:ke.map((function(e){var t=e.productDetail,a=Object(q.a)(e,ic);return Object(z.a)({productId:t.id},a)})).concat(Ut),paymentTerms:c.get("paymentTerms"),paid:Boolean(c.get("paid")),validTil:c.get("validTil")||null,discount:Math.max(c.get("discountType")>0?c.get("discount"):Math.min(c.get("discount"),100),0),discountType:c.get("discountType"),surcharge:Math.max(c.get("surchargeType")>0?c.get("surcharge"):Math.min(c.get("surcharge"),100),0),surchargeType:c.get("surchargeType")}).then((function(){e.history.push("/user/quotation")})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then((function(){})),console.log(e)})).then((function(){}))},children:[Object(N.jsxs)(st.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(N.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(N.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total: ",ke.reduce((function(e,t){return e+t.productAmount*parseFloat(t.productPrice)}),0)+Ut.reduce((function(e,t){return e+t.price}),0)]}),Object(N.jsx)(te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(N.jsx)(ae.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(N.jsx)(te.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:i.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]}),Object(N.jsx)(te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(N.jsxs)(je.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(N.jsx)(he.a,{value:0,children:"%"}),Object(N.jsx)(he.a,{value:1,children:"HKD"})]})]}),Object(N.jsx)(ie.a,{sx:{marginTop:"10px"},onClick:function(e){e.preventDefault(),C(1)},children:"Previous"}),Object(N.jsx)(ie.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(N.jsxs)(Fe.a,{open:w,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);T(!1),ke.find((function(e){return e.productType===U&&e.productDetail.id===G.id}))?le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,a){return Boolean(t.get("deliveryOption_".concat(a)))}))),productPrice:e.currentTarget.unitPrice.value,remark:fe}))}},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:ce,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(_.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(N.jsx)(te.a,{label:"Remark",name:"remark",value:fe,sx:{width:400,mx:"5px"},onChange:function(e){Oe(e.target.value)}})}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){T(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]}),Object(N.jsxs)(Fe.a,{open:B,maxWidth:"sm",fullWidth:!0,fullScreen:Object(Wt.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:function(){var e=Object(wt.a)(Dt.a.mark((function e(t){var a,n,i,c;return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!ke.find((function(e){return"desk"===e.productType&&e.productDetail.id===G.id}))||M){e.next=5;break}return W(!1),le.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}),e.abrupt("return");case 5:if(a=new FormData(t.currentTarget),n="",!a.get("topSketchImg")||!a.get("topSketchImg").name){e.next=19;break}return(i=new FormData).append("file",a.get("topSketchImg")),e.prev=10,e.next=13,I.a.post("/upload",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 13:c=e.sent,n=c.data.url,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(10);case 19:W(!1),ve(ke.concat({productType:U,productDetail:G,productAmount:ue,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((function(e,t){return Boolean(a.get("deliveryOption_".concat(t)))}))),productPrice:Boolean(a.get("hasDeskTop"))?Number(a.get("deskTotalPrice")):Number(a.get("deskLegPrice")),hasDeskTop:Boolean(a.get("hasDeskTop"))||!1,topMaterial:a.get("topMaterial")||"",topColor:a.get("topColor")||"",topLength:a.get("topLength")||0,topWidth:a.get("topWidth")||0,topThickness:a.get("topThickness")||0,topRoundedCorners:a.get("topRoundedCorners")||0,topCornerRadius:a.get("topCornerRadius")||50,topHoleCount:a.get("topHoleCount")||0,topHoleType:a.get("topHoleType")||"",topHolePosition:j||"",remark:a.get("remark")||"",topSketchURL:n}));case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},children:[Object(N.jsx)(Qe.a,{children:"Price and Amount"}),Object(N.jsxs)(Ee.a,{sx:{textAlign:"center"},children:[Object(N.jsx)(te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:ce,sx:{width:200,visibility:M?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(N.jsx)(ae.a,{control:Object(N.jsx)(ne.a,{name:"hasDeskTop",checked:M,onChange:function(e){H(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",defaultValue:"Melamine",options:["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"],width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%"},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",defaultValue:700,inputProps:{min:0},width:"30%"},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",defaultValue:400,inputProps:{min:0},width:"30%"},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",defaultValue:25,inputProps:{min:0},width:"30%"},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",defaultValue:0,options:[0,1,2,3,4],width:"48%"},{name:"topCornerRadius",label:"Corner Radius",type:"number",defaultValue:50,inputProps:{min:0},width:"48%"},{name:"topHoleCount",label:"Number of Holes",type:"select",value:u,onChange:function(e){e.preventDefault(),d(e.target.value),1==e.target.value?h("Left"):2==e.target.value?h("Left_Right"):3==e.target.value&&h("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:f,onChange:function(e){e.preventDefault(),O(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:j,onChange:function(e){e.preventDefault(),h(e.target.value)},options:1===u?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==u||"Rounded"!==f,width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((function(e,t){var a=e.type,n=e.width,i=Object(q.a)(e,cc);if("autocomplete"===a){var c=i.name,r=i.label,o=Object(q.a)(i,rc);return Object(N.jsx)(Tt.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:function(e){return Object(N.jsx)(te.a,Object(z.a)(Object(z.a)({},e),{},{name:c,label:r}))},disabled:!M},o),t)}if("suffixNumber"===a){var l=i.suffix,s=Object(q.a)(i,oc);return Object(N.jsx)(ae.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(N.jsx)(te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!M},s)),label:l},t)}if("select"===a){var u=i.name,d=i.label,p=i.options,b=Object(q.a)(i,lc);return Object(N.jsxs)(pe.a,{sx:{flexBasis:n,minWidth:n},children:[Object(N.jsx)(be.a,{id:"desk-top-".concat(u,"-select-label"),children:d}),Object(N.jsx)(je.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(u,"-select-label"),id:"desk-top-".concat(u,"-select"),name:u,label:d,size:"small",disabled:!M},b),{},{children:p.map((function(e,t){return Object(N.jsx)(he.a,{value:e,children:e},t)}))}))]},t)}return Object(N.jsx)(te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!M},i),t)})),Object(N.jsx)(te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:ce,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!M,InputProps:{endAdornment:Object(N.jsx)(Pa.a,{position:"end",children:"HKD"})}})]}),Object(N.jsx)(Ie.a,{sx:{my:"10px"}}),Object(N.jsxs)(_.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(N.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.max(ue-1,1))},children:Object(N.jsx)(Pt.a,{})}),Object(N.jsx)(Q.a,{variant:"span",mx:"10px",children:ue}),Object(N.jsx)(Ce.a,{onClick:function(e){e.preventDefault(),de(Math.min(ue+1,99))},children:Object(N.jsx)(At.a,{})})]}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_0",defaultChecked:!1}),label:"Delivery Included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_1",defaultChecked:!1}),label:"Delivery and installation included"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_2",defaultChecked:!1}),label:"Remote Area Surcharge"}),Object(N.jsx)(ae.a,{sx:{display:"block"},control:Object(N.jsx)(ne.a,{name:"deliveryOption_3",defaultChecked:!1}),label:"Stairs Surcharge"})]}),Object(N.jsxs)(Ye.a,{children:[Object(N.jsx)(ie.a,{onClick:function(e){e.preventDefault(),W(!1)},children:"Cancel"}),Object(N.jsx)(ie.a,{type:"submit",children:"OK"})]})]})]})})),mc=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(N.jsx)(hc,Object(z.a)({componentType:"create",initialClient:{phone:i,setPhone:c,paid:!0,discountType:1,surchargeType:1,validTil:1},initialCart:[]},e))},xc=["ChairStocks","DeskStocks","AccessoryStocks","ServiceToQuotations","Seller","sellerId"],fc=["ChairToQuotation"],Oc=["DeskToQuotation"],gc=["unitPrice","qty","deliveryOption"],yc=["AccessoryToQuotation"],kc=function(e){var t=(Object(s.g)().state||{}).quotation,a=t||{},i=a.ChairStocks,c=a.DeskStocks,r=a.AccessoryStocks,l=a.ServiceToQuotations,u=(a.Seller,a.sellerId,Object(q.a)(a,xc)),d=Object(n.useState)(u.phone),p=Object(o.a)(d,2),b=p[0],j=p[1];return t?Object(N.jsx)(hc,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},u),{},{phone:b,setPhone:j}),initialCart:i.map((function(e){var t=e.ChairToQuotation;return{productType:"chair",productDetail:Object(q.a)(e,fc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(c.map((function(e){var t=e.DeskToQuotation,a=Object(q.a)(e,Oc),n=t.unitPrice,i=t.qty,c=t.deliveryOption,r=Object(q.a)(t,gc);return Object(z.a)({productType:"desk",productDetail:a,productPrice:n,productAmount:i,productDeliveryOption:c},r)}))).concat(r.map((function(e){var t=e.AccessoryToQuotation;return{productType:"accessory",productDetail:Object(q.a)(e,yc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}))),initialServices:l},e)):Object(N.jsx)(s.a,{to:"/user/quotation"})};var vc=[{category:"Chair",content:[{to:"/user/chair/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/user/desk/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/user/accessory/stock",icon:Object(N.jsx)(fe.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/user/order",icon:Object(N.jsx)(Oe.a,{}),label:"Order"},{to:"/user/quotation",icon:Object(N.jsx)(Oe.a,{}),label:"Quotation"}]}],Cc=Object(m.b)((function(e){return{auth:e.auth}}),{logout:se})((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1],r=Object(s.i)().path,l=function(t){t.preventDefault(),le.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then((function(t){t.isConfirmed&&e.logout()}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{drawerHeight:50,handleDrawerToggle:function(e){e.preventDefault(),c(!0)},title:"Salesman"}),Object(N.jsxs)(_.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(N.jsx)(qe,{mobileOpen:i,handleDrawerClose:function(e){e.preventDefault(),c(!1)},drawerWidth:240,handleLogout:l,lists:vc}),Object(N.jsx)(He,{drawerWidth:240,handleLogout:l,lists:vc}),Object(N.jsx)(_.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"".concat(r,"/chair/stock"),component:ai}),Object(N.jsx)(s.b,{path:"".concat(r,"/desk/stock"),component:oi}),Object(N.jsx)(s.b,{path:"".concat(r,"/accessory/stock"),component:ui}),Object(N.jsx)(s.b,{path:"".concat(r,"/order"),exact:!0,component:fi}),Object(N.jsx)(s.b,{path:"".concat(r,"/order/create"),exact:!0,component:Vi}),Object(N.jsx)(s.b,{path:"".concat(r,"/order/edit"),exact:!0,component:Ui}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation"),exact:!0,component:Gi}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation/create"),exact:!0,component:mc}),Object(N.jsx)(s.b,{path:"".concat(r,"/quotation/edit"),exact:!0,component:kc})]})})]})]})})),Sc=["component","auth"],Dc=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(q.a)(e,Sc);return Object(N.jsx)(s.b,Object(z.a)(Object(z.a)({},n),{},{render:function(e){return!0===a.isLoggedIn?!0===a.isAdmin?Object(N.jsx)(t,Object(z.a)({},e)):Object(N.jsx)(s.a,{to:"/user/order"}):Object(N.jsx)(s.a,{to:"/signin"})}}))})),wc=["component","auth"],Tc=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(q.a)(e,wc);return Object(N.jsx)(s.b,Object(z.a)(Object(z.a)({},n),{},{render:function(e){return!1===a.isLoggedIn?Object(N.jsx)(t,Object(z.a)({},e)):!0===a.isAdmin?Object(N.jsx)(s.a,{to:"/admin/order"}):Object(N.jsx)(s.a,{to:"/user/order"})}}))})),Ac=["component","auth"],Pc=Object(m.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(q.a)(e,Ac);return Object(N.jsx)(s.b,Object(z.a)(Object(z.a)({},n),{},{render:function(e){return!0===a.isLoggedIn?!1===a.isAdmin?Object(N.jsx)(t,Object(z.a)({},e)):Object(N.jsx)(s.a,{to:"/admin/order"}):Object(N.jsx)(s.a,{to:"/signin"})}}))})),Bc=Object(m.b)((function(e){return{auth:e.auth}}))((function(){var e=Object(s.h)(),t=e.productType,a=e.deliveryId,i=Object(n.useState)(""),c=Object(o.a)(i,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){r||I.a.post("/delivery/generatePDF",{productType:t,deliveryId:a,signature:""}).then((function(e){e.data||le.a.fire({icon:"info",title:"Alarm",text:"New Delivery PDF was created. Please click the button again to check.",allowOutsideClick:!1}),l(e.data.url),e.data.url&&(window.location.href=e.data.url)})).catch((function(e){le.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}))}),[r]),Object(N.jsx)(N.Fragment,{})}));B.getState().auth.isLoggedIn&&(I.a.defaults.headers.common.Authorization="Bearer ".concat(B.getState().auth.token));Object(j.a)();var Wc=Object(j.a)({components:{MuiButton:{variants:[{props:{color:"aaaa"},style:{root:{color:"#888888"}}}],defaultProps:{variant:"outlined"},styleOverrides:{root:{textTransform:"none"}}},MuiTextField:{defaultProps:{variant:"outlined",margin:"dense",size:"small"}},MuiSelect:{defaultProps:{margin:"dense",size:"small"}},MuiFormControl:{defaultProps:{margin:"dense"}}}});I.a.defaults.baseURL="http://localhost:4000/api",I.a.interceptors.request.use((function(e){return B.dispatch({type:"loading/beginLoading"}),e}),(function(e){return Promise.reject(e)})),I.a.interceptors.response.use((function(e){return B.dispatch({type:"loading/endLoading"}),e}),(function(e){return B.dispatch({type:"loading/endLoading"}),e.response&&401===e.response.status&&B.dispatch({type:"auth/logout"}),Promise.reject(e)}));var Ic=function(){var e=Object(n.useState)(B.getState().loading.value),t=Object(o.a)(e,2),a=t[0],i=t[1];return B.subscribe((function(){i(B.getState().loading.value)})),Object(N.jsx)(h.a,{theme:Wc,children:Object(N.jsxs)(m.a,{store:B,children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)(d.a,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(N.jsx)(p.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.modal+1}},open:a,children:Object(N.jsx)(b.a,{color:"inherit"})}),Object(N.jsx)(l.a,{children:Object(N.jsxs)(s.d,{children:[Object(N.jsx)(s.b,{path:"/",exact:!0,children:Object(N.jsx)(s.a,{to:"/signin"})}),Object(N.jsx)(s.b,{path:"/invoice/:id",exact:!0,component:H}),Object(N.jsx)(s.b,{path:"/quotation/:id",exact:!0,component:X}),Object(N.jsx)(Tc,{path:"/signin",exact:!0,component:de}),Object(N.jsx)(Tc,{path:"/signup",exact:!0,component:xe}),Object(N.jsx)(Dc,{path:"/admin",component:Zn}),Object(N.jsx)(Pc,{path:"/user",component:Cc}),Object(N.jsx)(s.b,{path:"/deliveryPDF/:productType/:deliveryId",component:Bc})]})})]})]})})},Rc=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,810)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(Ic,{})}),document.getElementById("root")),Rc()}},[[677,1,2]]]);
//# sourceMappingURL=main.743830d4.chunk.js.map