{"version":3,"sources":["store/slice/auth.slice.js","store/slice/counter.slice.js","store/slice/loading.slice.js","store/index.js","fonts/chinese.msyh.ttf","images/logo_title.png","components/Guest/Invoice.js","components/Guest/Quotation.js","services/auth.service.js","components/Guest/SignIn.js","components/Guest/SignUp.js","components/Common/AppHeader/index.js","components/Common/Sidebar/FixedSidebar.js","components/Common/Sidebar/CollapsedSidebar.js","components/Common/DataGrid/index.js","components/Admin/User.js","components/Common/MultiSelect/index.js","components/Admin/Chair/Stock.js","components/Admin/Desk/Stock.js","components/Admin/Accessory/Stock.js","components/Admin/Salement/ProductList/index.js","components/Admin/Salement/SalesOrder/View.js","components/Admin/Salement/SalesOrder/Detail.js","components/Admin/Salement/SalesOrder/Create.js","components/Admin/Salement/SalesOrder/Edit.js","components/Admin/Salement/Quotation/View.js","components/Admin/Salement/Quotation/Detail.js","components/Admin/Salement/Quotation/Create.js","components/Admin/Salement/Quotation/Edit.js","components/Admin/Delivery/Chair.js","components/Admin/Delivery/Desk.js","components/Admin/Delivery/Accessory.js","components/Admin/index.js","components/Standard/Chair/Stock.js","components/Standard/Desk/Stock.js","components/Standard/Accessory/Stock.js","components/Standard/Salement/ProductList/index.js","components/Standard/Salement/SalesOrder/View.js","components/Standard/Salement/SalesOrder/Detail.js","components/Standard/Salement/SalesOrder/Create.js","components/Standard/Salement/SalesOrder/Edit.js","components/Standard/Salement/Quotation/View.js","components/Standard/Salement/Quotation/Detail.js","components/Standard/Salement/Quotation/Create.js","components/Standard/Salement/Quotation/Edit.js","components/Standard/index.js","components/Common/Routes/AdminRoute.js","components/Common/Routes/GuestRoute.js","components/Common/Routes/PrivateRoute.js","components/Common/DeliveryPDF/index.js","App.js","reportWebVitals.js","index.js"],"names":["auth","createSlice","name","initialState","isLoggedIn","isAdmin","token","reducers","loginSuccess","state","action","payload","loginFail","logout","actions","counter","value","increment","decrement","incrementByAmount","beginLoading","endLoading","reducer","combineReducers","loading","preloadedState","localStorage","getItem","JSON","parse","store","configureStore","subscribe","setItem","stringify","getState","connect","props","height","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","header","width","fontSize","lineHeight","marginBottom","flexDirection","alignItems","title","fontFamily","textTransform","logo","marginLeft","info","companyInfo","paddingRight","clientInfo","email","color","textDecoration","subtitle","margin","fontWeight","text","textAlign","table","border","tableRow","borderBottom","minHeight","tableColumn","flex","padding","borderRight","Font","register","family","src","microsoft_yahei","monthNames","useState","success","setSuccess","Seller","ChairStocks","DeskStocks","AccessoryStocks","ServiceToQuotations","quotation","setQuotation","id","useParams","useEffect","source","axios","CancelToken","getQuotation","cancelToken","cancel","get","then","response","console","log","data","catch","error","Backdrop","sx","zIndex","theme","drawer","open","CircularProgress","style","wrap","time","tmp","Date","getMonth","getDate","getFullYear","getDateString","createdAt","prefix","getDateNum","quotationNum","substr","logoTitle","unit","floor","block","street","district","phone","cells","content","backgroundColor","firstName","lastName","timeLine","paymentTerms","validTil","map","rowIndex","rowArr","rowRestProps","length","index","cellArr","cellRestProps","flexBasis","maxWidth","item","ChairToQuotation","qty","brand","model","withHeadrest","withAdArmrest","remark","deliveryOption","unitPrice","DeskToQuotation","armSize","feetSize","beamSize","hasDeskTop","topMaterial","topColor","topLength","topWidth","topThickness","topRoundedCorners","topCornerRadius","topHoleCount","topHoleType","AccessoryToQuotation","category","description","price","Array","Math","max","fill","reduce","acc","cur","discountType","discount","surchargeType","surcharge","position","bottom","left","flexGrow","marginTop","Warning","Typography","dispatch","defaults","headers","common","type","Copyright","variant","align","Link","href","login","Promise","resolve","reject","post","Box","mx","mt","display","LogoTitile","alt","Avatar","m","bgcolor","component","onSubmit","event","preventDefault","form","currentTarget","FormData","password","err","Swal","fire","icon","html","message","replace","allowOutsideClick","noValidate","Grid","container","spacing","xs","TextField","required","fullWidth","label","autoComplete","autoFocus","FormControlLabel","control","Checkbox","Button","mb","RouterLink","to","history","push","sm","FormControl","InputLabel","size","Select","labelId","defaultValue","MenuItem","justifyContent","drawerHeight","handleDrawerToggle","AppBar","maxHeight","Toolbar","IconButton","edge","onClick","mr","Menu","noWrap","useFixedSidebarStyles","makeStyles","root","boxSizing","drawerWidth","overflow","borderRadius","navlink","transition","minWidth","FixedSidebar","handleLogout","lists","classes","expList","setExpList","expIndex","setExpIndex","className","list","listIndex","List","pl","listitem","itemIndex","children","ListItem","button","secondaryAction","ExpandMore","transform","ListItemIcon","ListItemText","primary","Collapse","in","disablePadding","child","childIndex","path","exact","activeClassName","Divider","Logout","handleDrawerClose","mobileOpen","Drawer","onClose","ModalProps","keepMounted","PaperProps","e","descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","sort","EnhancedTableHead","columns","onSelectAllClick","numSelected","nonSelect","rowCount","onRequestSort","TableHead","TableRow","TableCell","indeterminate","checked","onChange","inputProps","property","nonSort","restProps","p","sortDirection","TableSortLabel","active","direction","IconComponent","ArrowDropDownIcon","EnhancedTableToolbar","onBulkEditClick","onBulkRemoveClick","pr","alpha","palette","main","activatedOpacity","Tooltip","Delete","useDataGridStyles","tableCellClasses","head","teal","grey","DataGrid","rows","setOrder","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","rowsLength","setRowsLength","prevRows","useRef","current","join","filter","row","includes","emptyRows","Paper","TableContainer","Table","target","newSelecteds","n","TableBody","slice","isItemSelected","indexOf","role","tabIndex","selectedIndex","newSelected","concat","handleClick","filedIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","users","setUsers","editOpen","setEditOpen","setID","formProps","setFormProps","setType","handleEditClick","handleRemoveClick","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","delete","getUsers","isActive","stopPropagation","put","edit","onEditClick","onRemoveClick","ids","Dialog","DialogTitle","DialogContent","Stack","DialogContentText","DialogActions","useStyles","formControl","marginRight","float","indeterminateColor","selectAllText","selectedAll","MenuProps","ITEM_HEIGHT","anchorOrigin","vertical","horizontal","transformOrigin","CheckableMultiSelect","options","isAllSelected","htmlFor","multiple","renderValue","option","hideColumns","Stock","useTheme","formMode","setFormMode","stocks","setStocks","formOpen","setFormOpen","balance","setBalance","setUnitPrice","shipmentQty","setShipmentQty","features","setFeatures","filterBrand","setFilterBrand","filterModel","setFilterModel","selectedHideColumns","setSelectedHideColumns","frameColor","backColor","seatColor","backMaterial","seatMaterial","multiline","shipmentDate","arrivalDate","getStocks","handleSave","thumbnailURL","uploadData","append","url","Boolean","Number","handleCreate","startIcon","Add","accept","files","ml","flexWrap","c","chars","Autocomplete","renderInput","params","values","thumbnail","showCloseButton","showConfirmButton","column","i","find","hideColumn","undefined","fullScreen","useMediaQuery","breakpoints","down","restParams","InputLabelProps","shrink","defaultChecked","Remove","filterSupplier","setFilterSupplier","filterColor","setFilterColor","supplierCode","autocomParams","initStocks","setInitStocks","filterCategory","setFilterCategory","selected_category","stock","ProductList","styled","ProductListItem","boxShadow","ProductListItemText","indigo","ProductPriceAmount","amount","whiteSpace","textOverflow","flexShrink","paddingLeft","orders","setOrders","setName","setEmail","setPhone","whatsAppOpen","setWhatsAppOpen","emailOpen","setEmailOpen","detailOpen","setDetailOpen","whatsAppMessage","emailContent","filterAnchor","setFilterAnchor","orderIndex","setOrderIndex","paymentLink","setPaymentLink","chairDeliveries","deskDeliveries","accessoryDeliveries","getOrders","invoiceNum","isPreOrder","paid","seller","orderDate","createdTime","setMinutes","getMinutes","getTimezoneOffset","toISOString","split","clientAddress","ChairToOrder","preOrder","DeskToOrder","products","my","Badge","badgeContent","Deck","emailIcon","Email","whatsappIcon","ReactDOMServer","renderToStaticMarkup","qrcode","level","qrerror","WhatsApp","pathname","onFilterClick","onlyCountries","defaultCountry","InputProps","readOnly","inputRef","minRows","maxRows","link","secondary","ref","proDeliveryDate","estDeliveryDate","from","delivered","topSketchURL","AccessoryToOrder","chairToOrders","deskToOrders","accessoryToOrders","TabPanel","other","hidden","chairColumns","hideChairColumns","deskColumns","hideDeskColumns","accessoryColumns","componentType","initialClient","initialCart","initialServices","setTopHoleCount","topHolePosition","setTopHolePosition","setTopHoleType","clientForm","currentStep","setCurrentStep","addOpen","setAddOpen","deskAddOpen","setDeskAddOpen","setHasDeskTop","productType","setProductType","productDetail","setProductDetail","productPrice","setProductPrice","productAmount","setProductAmount","productRemark","setProductRemark","cart","setCart","setPaid","chairStocks","setChairStocks","deskStocks","setDeskStocks","accessoryStocks","setAccessoryStocks","initAccessoryStocks","setInitAccessoryStocks","stocksIndex","setStocksIndex","chairFeatures","setChairFeatures","deskFeatures","setDeskFeatures","setAccessoryFeatures","chairFilterBrand","setChairFilterBrand","chairFilterModel","setChairFilterModel","deskFilterSupplier","setDeskFilterSupplier","deskFilterModel","setDeskFilterModel","deskFilterColor","setDeskFilterColor","accessoryFilterCategory","setAccessoryFilterCategory","initServices","service","Object","assign","services","setServices","selectedHideChairColumns","setSelectedHideChairColumns","selectedHideDeskColumns","setSelectedHideDeskColumns","getDeskFeatures","getAccessoryFeatures","getChairStocks","getDeskStocks","getAccessoryStocks","Stepper","activeStep","step","labelProps","checkValidity","optional","Step","StepLabel","setValue","min","RadioGroup","Radio","px","product","productIndex","productDeliveryOption","borderColor","Tabs","Tab","add","newService","uuidv4","Card","pb","serviceId","newServices","onDeleteService","Close","onChangeServiceDes","parseFloat","onChangeServicePrice","clientData","paymentData","productId","dueDate","disabled","endAdornment","InputAdornment","visibility","suffix","fieldParams","selectParams","selectOption","selectOptionIndex","Create","Detail","Edit","useLocation","ServiceToOrders","client","sellerId","deskTopProps","quotations","setquotations","quotationIndex","setquotationIndex","getQuotations","quotationDate","deliveries","setDeliveries","setIDs","getDeliveries","SalesOrder","ChairStock","reamrk","deliveryPDF","poNum","DeskStock","akNum","heworkNum","AccessoryStock","menuLists","Storefront","BookOnline","DeliveryDining","PeopleAlt","setMobileOpen","useRouteMatch","CollapsedSidebar","User","SalesOrderView","SalesOrderCreate","SalesOrderEdit","QuotationView","QuotationCreate","QuotationEdit","ChairDelivery","DeskDelivery","AccessoryDelivery","Component","rest","render","deliveryId","setLink","signature","window","location","createTheme","components","MuiButton","variants","defaultProps","styleOverrides","MuiTextField","MuiSelect","MuiFormControl","baseURL","interceptors","request","use","config","status","App","setLoading","ThemeProvider","CssBaseline","Container","disableGutters","modal","Invoice","Quotation","SignIn","SignUp","Admin","Standard","DeliveryPDF","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.743830d4.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const auth = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    token: null,\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.token = action.payload.token;\r\n      state.isAdmin = action.payload.isAdmin;\r\n    },\r\n    loginFail: (state) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    logout: (state) => {\r\n      state.isLoggedIn = false;\r\n      state.isAdmin = false;\r\n      state.token = null;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { loginSuccess, loginFail, logout } = auth.actions;\r\n\r\nexport default auth.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counter = createSlice({\r\n  name: 'loading',\r\n  initialState: {\r\n    value: false,\r\n  },\r\n  reducers: {\r\n    beginLoading: (state) => {\r\n      state.value = true;\r\n    },\r\n    endLoading: (state) => {\r\n      state.value = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount } = counter.actions;\r\n\r\nexport default counter.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport auth from './slice/auth.slice';\r\nimport counter from './slice/counter.slice';\r\nimport loading from './slice/loading.slice';\r\n\r\nconst reducer = combineReducers({\r\n  auth,\r\n  counter,\r\n  loading,\r\n});\r\n\r\nconst preloadedState = localStorage.getItem('state')\r\n  ? JSON.parse(localStorage.getItem('state'))\r\n  : {};\r\n\r\nconst store = configureStore({\r\n  reducer,\r\n  preloadedState,\r\n});\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('state', JSON.stringify(store.getState()));\r\n});\r\n\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/chinese.msyh.554cdb5e.ttf\";","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from '@react-pdf/renderer';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Warning as WarningIcon } from '@mui/icons-material';\r\nimport { Backdrop, CircularProgress, Typography } from '@mui/material';\r\n\r\nimport microsoft_yahei from 'fonts/chinese.msyh.ttf';\r\nimport logoTitle from 'images/logo_title.png';\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n\r\n  return (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page>\r\n          <View>\r\n            <View>\r\n              <Text>Invoice</Text>\r\n            </View>\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  )\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Document,\r\n  Image,\r\n  Font,\r\n  Page,\r\n  PDFViewer,\r\n  Text,\r\n  StyleSheet,\r\n  View,\r\n  Tspan,\r\n} from '@react-pdf/renderer';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Warning as WarningIcon } from '@mui/icons-material';\r\nimport { Backdrop, CircularProgress, Typography } from '@mui/material';\r\n\r\nimport microsoft_yahei from 'fonts/chinese.msyh.ttf';\r\nimport logoTitle from 'images/logo_title.png';\r\n\r\nconst styles = StyleSheet.create({\r\n  body: {\r\n    paddingTop: 35,\r\n    paddingBottom: 65,\r\n    paddingHorizontal: 35,\r\n  },\r\n  header: {\r\n    width: '100%',\r\n    fontSize: 8,\r\n    lineHeight: 1.2,\r\n    marginBottom: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  title: {\r\n    fontFamily: 'Microsoft Yahei',\r\n    fontSize: 15,\r\n    marginBottom: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  logo: {\r\n    marginLeft: 'auto',\r\n    width: 50,\r\n  },\r\n  info: {\r\n    flexDirection: 'row',\r\n    marginBottom: 10,\r\n  },\r\n  companyInfo: {\r\n    fontFamily: 'Microsoft Yahei',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  clientInfo: {\r\n    fontFamily: 'Microsoft Yahei',\r\n    fontSize: 8,\r\n    width: 200,\r\n    paddingRight: 10,\r\n    lineHeight: 1.2,\r\n  },\r\n  email: {\r\n    color: '#0000ff',\r\n    textDecoration: 'underline',\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    margin: 12,\r\n    fontWeight: 100,\r\n    fontFamily: 'Microsoft Yahei',\r\n  },\r\n  text: {\r\n    margin: 12,\r\n    fontSize: 14,\r\n    textAlign: 'justify',\r\n    fontFamily: 'Times-Roman',\r\n  },\r\n  table: {\r\n    fontSize: 8,\r\n    marginBottom: 10,\r\n    border: '0.5px solid #808080',\r\n  },\r\n  tableRow: {\r\n    fontSize: 8,\r\n    borderBottom: '0.5px solid #808080',\r\n    flexDirection: 'row',\r\n    minHeight: 15,\r\n  },\r\n  tableColumn: {\r\n    flex: 1,\r\n    padding: '3px 5px',\r\n    borderRight: '0.5px solid #808080',\r\n  },\r\n});\r\n\r\nFont.register({\r\n  family: 'Microsoft Yahei',\r\n  src: microsoft_yahei,\r\n});\r\n\r\nconst monthNames = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\nconst mapStateToProps = (state) => {\r\n  const loading = state.loading.value;\r\n  return { loading };\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const { loading } = props;\r\n  const [success, setSuccess] = useState(false);\r\n  const [quotation, setQuotation] = useState({\r\n    Seller: {},\r\n    ChairStocks: [],\r\n    DeskStocks: [],\r\n    AccessoryStocks: [],\r\n    ServiceToQuotations: []\r\n  });\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotation({ id, cancelToken: source.token });\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, [id]);\r\n\r\n  const getDateString = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${\r\n      monthNames[tmp.getMonth()]\r\n    } ${tmp.getDate()}, ${tmp.getFullYear()}`;\r\n  };\r\n\r\n  const getDateNum = (time) => {\r\n    const tmp = new Date(time);\r\n    return `${tmp.getFullYear()}${tmp.getMonth()}${tmp.getDate()}`;\r\n  };\r\n\r\n  const getQuotation = ({ id, cancelToken }) => {\r\n    axios\r\n      .get(`/quotation/${id}`, { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        console.log(response.data)\r\n        setSuccess(true);\r\n        setQuotation(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setSuccess(false);\r\n      });\r\n  };\r\n\r\n  return loading ? (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  ) : success ? (\r\n    <PDFViewer height=\"100%\">\r\n      <Document>\r\n        <Page style={styles.body} wrap>\r\n          <View style={styles.header}>\r\n            <View>\r\n              <Text style={styles.title}>Quotation</Text>\r\n              <Text>Date: {getDateString(quotation.createdAt)}</Text>\r\n              <Text>\r\n                {`No: Q-${quotation.Seller.prefix}${getDateNum(\r\n                  quotation.createdAt\r\n                )}${('000' + quotation.quotationNum).substr(-3)}`}\r\n              </Text>\r\n            </View>\r\n            <View style={styles.logo}>\r\n              <Image src={logoTitle} />\r\n            </View>\r\n          </View>\r\n          <View style={styles.info}>\r\n            <View style={styles.companyInfo}>\r\n              <Text>Blueocean Intl (HK) Ltd</Text>\r\n              <Text>19/F</Text>\r\n              <Text>Bel Trade Commercial Building</Text>\r\n              <Text>3 Burrows Street</Text>\r\n              <Text>Wanchai, Hong Kong</Text>\r\n              <Text>Tel: 2169 3337</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>info@ergoseatings.com</Tspan>\r\n              </Text>\r\n            </View>\r\n            <View style={styles.clientInfo}>\r\n              <Text>Client's Name: {quotation.name}</Text>\r\n              {quotation.unit ? <Text>Unit {quotation.unit}</Text> : null}\r\n              {quotation.floor ? <Text>Floor {quotation.floor}</Text> : null}\r\n              {quotation.block ? <Text>Block {quotation.block}</Text> : null}\r\n              <Text>{quotation.street}</Text>\r\n              <Text>{quotation.district}</Text>\r\n              <Text>Phone: {quotation.phone}</Text>\r\n              <Text>\r\n                Email: <Tspan style={styles.email}>{quotation.email}</Tspan>\r\n              </Text>\r\n            </View>\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'Salesperson', width: '15%' },\r\n                  { content: 'Proposed Delivery Date', width: '55%' },\r\n                  { content: 'Payment Terms', width: '15%' },\r\n                  { content: 'Valid Til', textAlign: 'right', width: '15%' },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: `${quotation.Seller.firstName} ${quotation.Seller.lastName}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content:\r\n                      quotation.timeLine % 7 === 0\r\n                        ? `Est ${quotation.timeLine / 7} working week${\r\n                            quotation.timeLine / 7 === 1 ? '' : 's'\r\n                          } after payment`\r\n                        : `Est ${quotation.timeLine} working day${\r\n                            quotation.timeLine === 1 ? '' : 's'\r\n                          } after payment`,\r\n                    width: '55%',\r\n                  },\r\n                  { content: quotation.paymentTerms, width: '15%' },\r\n                  {\r\n                    content: `${quotation.validTil} month${\r\n                      quotation.validTil === 1 ? '' : 's'\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n          </View>\r\n          <View style={styles.table}>\r\n            {[\r\n              {\r\n                cells: [\r\n                  { content: 'QTY', width: '15%' },\r\n                  { content: 'Description', width: '55%' },\r\n                  { content: 'Unit Price', width: '15%' },\r\n                  {\r\n                    content: 'Line Total (HKD)',\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n                backgroundColor: '#dbe5f1',\r\n                textTransform: 'uppercase',\r\n              },\r\n              ...quotation.ChairStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.ChairToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Chair Brand: ${item.brand}\\nChair Model: ${\r\n                      item.model\r\n                    }\\n${\r\n                      item.withHeadrest ? 'With Headrest' : 'Without Headrest'\r\n                    }\\n${\r\n                      item.withAdArmrest\r\n                        ? 'With Adjustable Armrest'\r\n                        : 'Without Adjustable Armrest'\r\n                    }\\nRemark: ${\r\n                      item.ChairToQuotation.remark\r\n                    }\\n${\r\n                      JSON.parse(item.ChairToQuotation.deliveryOption)\r\n                    }`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.ChairToQuotation.unitPrice}`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.ChairToQuotation.unitPrice *\r\n                      item.ChairToQuotation.qty\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.DeskStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.DeskToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `Desk Model: ${item.model}\\nColor of Legs: ${\r\n                      item.color\r\n                    }\\nArmSize: ${item.armSize}\\nFeetSize: ${\r\n                      item.feetSize\r\n                    }\\nBeam Size: ${item.beamSize}\\n${\r\n                      item.DeskToQuotation.hasDeskTop\r\n                        ? `Table Top: ${item.DeskToQuotation.topMaterial} ${item.DeskToQuotation.topColor}\\nTable Top Size: ${item.DeskToQuotation.topLength}x${item.DeskToQuotation.topWidth}x${item.DeskToQuotation.topThickness}\\nTable Top Color:\\nRounded Corners: ${item.DeskToQuotation.topRoundedCorners}, Radius: R${item.DeskToQuotation.topCornerRadius}\\nHoles Required: ${item.DeskToQuotation.topHoleCount}, Holes Shaped: ${item.DeskToQuotation.topHoleType}, \\nRemark: ${item.DeskToQuotation.remark}`\r\n                        : 'Without DeskTop'\r\n                    }\\n${\r\n                      JSON.parse(item.DeskToQuotation.deliveryOption)\r\n                    }`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.DeskToQuotation.unitPrice}`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.DeskToQuotation.unitPrice * item.DeskToQuotation.qty\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.AccessoryStocks.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.qty}`,\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${item.name}\\nAccessory Category: ${item.category}\\nRemark: ${item.AccessoryToQuotation.remark}\\n${\r\n                      JSON.parse(item.AccessoryToQuotation.deliveryOption)\r\n                    }`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.AccessoryToQuotation.unitPrice}`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${\r\n                      item.AccessoryToQuotation.unitPrice *\r\n                      item.AccessoryToQuotation.qty\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...quotation.ServiceToQuotations.map((item) => ({\r\n                cells: [\r\n                  {\r\n                    content: '1',\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${item.description}`,\r\n                    width: '55%',\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                  {\r\n                    content: `${item.price}`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              })),\r\n              ...Array(\r\n                Math.max(\r\n                  0,\r\n                  6 -\r\n                    quotation.ChairStocks.length -\r\n                    quotation.DeskStocks.length -\r\n                    quotation.AccessoryStocks.length -\r\n                    quotation.ServiceToQuotations.length\r\n                )\r\n              ).fill({\r\n                cells: [\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '55%' },\r\n                  { content: '', width: '15%' },\r\n                  { content: '', width: '15%' },\r\n                ],\r\n              }),\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SUBTOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskStocks.length\r\n                        ? quotation.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToQuotation.unitPrice *\r\n                              item.DeskToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0)\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'DISCOUNT', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'SURCHARGE', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                    borderBottom: '0.5px solid #808080',\r\n                  },\r\n                ],\r\n                borderBottom: 'none',\r\n              },\r\n              {\r\n                cells: [\r\n                  {\r\n                    content: ``,\r\n                    width: '70%',\r\n                    fontSize: 12,\r\n                  },\r\n                  { content: 'TOTAL', width: '15%' },\r\n                  {\r\n                    content: `${\r\n                      (quotation.ChairStocks.length\r\n                        ? quotation.ChairStocks.map(\r\n                            (item) =>\r\n                              item.ChairToQuotation.unitPrice *\r\n                              item.ChairToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.DeskStocks.length\r\n                        ? quotation.DeskStocks.map(\r\n                            (item) =>\r\n                              item.DeskToQuotation.unitPrice *\r\n                              item.DeskToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.AccessoryStocks.length\r\n                        ? quotation.AccessoryStocks.map(\r\n                            (item) =>\r\n                              item.AccessoryToQuotation.unitPrice *\r\n                              item.AccessoryToQuotation.qty\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) +\r\n                      (quotation.ServiceToQuotations.length\r\n                        ? quotation.ServiceToQuotations.map(\r\n                            (item) => item.price\r\n                          ).reduce((acc, cur) => acc + cur)\r\n                        : 0) -\r\n                      (quotation.discountType\r\n                        ? quotation.discount\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.discount) /\r\n                          100) +\r\n                      (quotation.surchargeType\r\n                        ? quotation.surcharge\r\n                        : (((quotation.ChairStocks.length\r\n                            ? quotation.ChairStocks.map(\r\n                                (item) =>\r\n                                  item.ChairToQuotation.unitPrice *\r\n                                  item.ChairToQuotation.qty\r\n                              ).reduce((acc, cur) => acc + cur)\r\n                            : 0) +\r\n                            (quotation.DeskStocks.length\r\n                              ? quotation.DeskStocks.map(\r\n                                  (item) =>\r\n                                    item.DeskToQuotation.unitPrice *\r\n                                    item.DeskToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0) +\r\n                            (quotation.AccessoryStocks.length\r\n                              ? quotation.AccessoryStocks.map(\r\n                                  (item) =>\r\n                                    item.AccessoryToQuotation.unitPrice *\r\n                                    item.AccessoryToQuotation.qty\r\n                                ).reduce((acc, cur) => acc + cur)\r\n                              : 0)) *\r\n                            quotation.surcharge) /\r\n                          100)\r\n                    }`,\r\n                    textAlign: 'right',\r\n                    width: '15%',\r\n                  },\r\n                ],\r\n              },\r\n            ].map(({ cells, ...rowRestProps }, rowIndex, rowArr) => (\r\n              <View\r\n                key={rowIndex}\r\n                style={[\r\n                  styles.tableRow,\r\n                  {\r\n                    borderBottom:\r\n                      rowIndex === rowArr.length - 1 ? 'none' : null,\r\n                    ...rowRestProps,\r\n                  },\r\n                ]}\r\n              >\r\n                {cells.map(\r\n                  ({ content, width, ...cellRestProps }, index, cellArr) => (\r\n                    <Text\r\n                      key={index}\r\n                      style={[\r\n                        styles.tableColumn,\r\n                        {\r\n                          borderRight:\r\n                            index === cellArr.length - 1 ? 'none' : null,\r\n                          flexBasis: width,\r\n                          maxWidth: width,\r\n                          ...cellRestProps,\r\n                        },\r\n                      ]}\r\n                    >\r\n                      {content}\r\n                    </Text>\r\n                  )\r\n                )}\r\n              </View>\r\n            ))}\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                padding: 3,\r\n                position: 'absolute',\r\n                width: '70%',\r\n                bottom: 0,\r\n                left: 0,\r\n              }}\r\n            >\r\n              NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank\r\n              address: 1 Queen's Road Central, Hong Kong. SWIFT code:\r\n              HSBCHKHHHKH or FPS: info@ergoseatings.com\r\n            </Text>\r\n          </View>\r\n          {[\r\n            `Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.`,\r\n            `If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.`,\r\n            `If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.`,\r\n            `Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.`,\r\n            `You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. `,\r\n          ].map((text, index) => (\r\n            <View key={index} style={{ flexDirection: 'row', margin: '5px 0' }}>\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  margin: '0 10px 0 0',\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text></Text>\r\n              </View>\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              marginTop: '5px',\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            The warranty is effective from the date of purchase from Blueocean\r\n            International (HK) Ltd by the original purchaser. Such warranty\r\n            applies under the following terms and conditions and is covered by\r\n            the original manufacturers for specific period stated:\r\n          </Text>\r\n          {[\r\n            `Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.`,\r\n            `Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.`,\r\n            `Standing desks: 5 years by manufacturer`,\r\n            `Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.`,\r\n            `Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.`,\r\n            `Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.`,\r\n            `Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH`,\r\n            `Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n            `HAG chairs: 2 years for defective parts under regular usage, by manufacturer`,\r\n          ].map((text, index) => (\r\n            <View\r\n              key={index}\r\n              style={{ flexDirection: 'row', marginLeft: '10px' }}\r\n            >\r\n              <View\r\n                style={{\r\n                  width: 2,\r\n                  height: 2,\r\n                  margin: '5px 10px 0 0',\r\n                  backgroundColor: '#888888',\r\n                }}\r\n              />\r\n              <View\r\n                style={{\r\n                  flexGrow: 1,\r\n                  fontSize: 10,\r\n                  lineHeight: 1.2,\r\n                  color: '#888888',\r\n                }}\r\n              >\r\n                <Text>{text}</Text>\r\n              </View>\r\n            </View>\r\n          ))}\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Claiming of any aforementioned warranties only covers replacement of\r\n            the defective or broken parts only and does not include the\r\n            following cost, which shall be borne by the claimant. A quotation\r\n            will be provided in advance for approval by the claimant: 1) labor\r\n            costs of technician for replacing the parts; 2) transportation costs\r\n            incurred for sending the product(s) to our company and delivering\r\n            back to the claimant from our shop after service. I, the\r\n            undersigned, have read and understand these policies and agree to\r\n            all the above.\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Agreement to this quotation represents that client understands our\r\n            refund policy and terms and condition as stated in our website\r\n            ergoseatings.com and ergoseatings.com.hk\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 10,\r\n              lineHeight: 1.2,\r\n              marginTop: 10,\r\n              color: '#888888',\r\n            }}\r\n          >\r\n            Initials: _________________\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              lineHeight: 1.2,\r\n              marginTop: 12,\r\n              fontWeight: 'bold',\r\n              textAlign: 'center',\r\n            }}\r\n          >\r\n            Thank you for your business!\r\n          </Text>\r\n        </Page>\r\n      </Document>\r\n    </PDFViewer>\r\n  ) : (\r\n    <Backdrop\r\n      sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      open={true}\r\n    >\r\n      <WarningIcon />\r\n      <Typography>This url is not a valid quotation url.</Typography>\r\n    </Backdrop>\r\n  );\r\n});\r\n","import axios from 'axios';\r\n\r\nexport const login = (data) => (dispatch) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post('/user/login', data)\r\n      .then((response) => {\r\n        // handle success\r\n        const { token, type } = response.data;\r\n        const isAdmin = type === 'admin' ? true : false;\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n        dispatch({ type: 'auth/loginSuccess', payload: { token, isAdmin } });\r\n        resolve();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        reject(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  delete axios.defaults.headers.common['Authorization'];\r\n  dispatch({ type: 'auth/logout' });\r\n};\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Link,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport { login } from 'services/auth.service';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    props\r\n      .login({\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n      })\r\n      .then()\r\n      .catch((err) => {\r\n        form.password.value = '';\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Login Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  Link,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Swal from 'sweetalert2';\r\nimport LogoTitile from 'images/logo_title.png';\r\n\r\nimport axios from 'axios';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://blueoceanblue.com/\">\r\n        Blueoceanblue.com\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const form = event.currentTarget;\r\n    const data = new FormData(form);\r\n    axios\r\n      .post('user/register', {\r\n        firstName: data.get('firstName'),\r\n        lastName: data.get('lastName'),\r\n        email: data.get('email'),\r\n        password: data.get('password'),\r\n        prefix: data.get('prefix'),\r\n        type: data.get('type'),\r\n      })\r\n      .then(() => {\r\n        // handle success\r\n        props.history.push('/signin');\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'SignUp Success',\r\n          html: `Your account was successfully registered.<br>You can use your account once Adminstrator allows.`,\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        // handle error\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'SignUp Failure',\r\n          html: err.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          mx: 2,\r\n          mt: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <img src={LogoTitile} style={{ maxWidth: '100%' }} alt=\"Ergoseating\" />\r\n        <Avatar sx={{ m: 2, bgcolor: 'secondary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign Up\r\n        </Typography>\r\n        <Box\r\n          maxWidth=\"sm\"\r\n          width=\"100%\"\r\n          component=\"form\"\r\n          onSubmit={handleSubmit}\r\n          noValidate\r\n          sx={{ mt: 1 }}\r\n        >\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                autoComplete=\"fname\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                label=\"Last Name\"\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                required\r\n                fullWidth\r\n                name=\"prefix\"\r\n                label=\"Prefix\"\r\n                type=\"text\"\r\n                autoComplete=\"prefix\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                  Type\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"user-type-select-label\"\r\n                  id=\"user-type-select\"\r\n                  defaultValue=\"\"\r\n                  name=\"type\"\r\n                  label=\"Type\"\r\n                >\r\n                  <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                  <MenuItem value=\"driver\">Driver</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justifyContent=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                {'Already have an account? Sign In'}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 8, mb: 4 }} />\r\n    </>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { AppBar, IconButton, Toolbar, Typography } from '@mui/material';\r\nimport { Menu as MenuIcon } from '@mui/icons-material';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AppHeader = ({\r\n  component: Component,\r\n  auth,\r\n  drawerHeight,\r\n  handleDrawerToggle,\r\n  title,\r\n  ...rest\r\n}) => (\r\n  <AppBar\r\n    position=\"static\"\r\n    sx={{\r\n      backgroundColor: '#5664d2',\r\n      flexBasis: `${drawerHeight}px`,\r\n      maxHeight: `${drawerHeight}px`,\r\n    }}\r\n  >\r\n    <Toolbar variant=\"dense\">\r\n      <IconButton\r\n        color=\"inherit\"\r\n        aria-label=\"open drawer\"\r\n        edge=\"start\"\r\n        onClick={handleDrawerToggle}\r\n        sx={{ mr: 2, display: { sm: 'none' } }}\r\n      >\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Typography variant=\"h6\" noWrap component=\"div\">\r\n        {title}\r\n      </Typography>\r\n    </Toolbar>\r\n  </AppBar>\r\n);\r\n\r\nAppHeader.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  drawerHeight: PropTypes.number.isRequired,\r\n  handleDrawerToggle: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppHeader);\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n    overflow: 'auto',\r\n    '&::-webkit-scrollbar': {\r\n      width: 8,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#6b778c',\r\n      borderRadius: 4,\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({ drawerWidth, handleLogout, lists }) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Box\r\n      className={classes.root}\r\n      sx={{\r\n        display: { xs: 'none', sm: 'block' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                activeClassName=\"active\"\r\n                {...listitem}\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem button className={classes.navlink} onClick={handleLogout}>\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport {\r\n  Collapse,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { makeStyles } from '@mui/styles';\r\nimport {\r\n  Logout as LogoutIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@mui/icons-material';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst useFixedSidebarStyles = makeStyles({\r\n  root: {\r\n    boxSizing: 'border-box',\r\n    paddingTop: '10px',\r\n    width: (props) => props.drawerWidth,\r\n    backgroundColor: '#fff',\r\n    borderRight: '1px solid rgba(0, 0, 0, 0.12)',\r\n    '& a': {\r\n      textDecoration: 'none',\r\n    },\r\n  },\r\n  navlink: {\r\n    color: '#6b778c',\r\n    '&:hover': {\r\n      // backgroundColor: '#5664d20a',\r\n    },\r\n    transition: 'background-color ease .5s',\r\n\r\n    '& .MuiListItemIcon-root': {\r\n      minWidth: '40px',\r\n    },\r\n    '& .MuiListItemIcon-root, & .MuiListItemText-root': {\r\n      '.active &': {\r\n        color: '#5664d2',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst FixedSidebar = ({\r\n  drawerWidth,\r\n  handleLogout,\r\n  handleDrawerClose,\r\n  lists,\r\n  mobileOpen,\r\n}) => {\r\n  const classes = useFixedSidebarStyles({ drawerWidth });\r\n  const [expList, setExpList] = useState(-1);\r\n  const [expIndex, setExpIndex] = useState(-1);\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"temporary\"\r\n      open={mobileOpen}\r\n      onClose={handleDrawerClose}\r\n      ModalProps={{\r\n        keepMounted: true, // Better open performance on mobile.\r\n      }}\r\n      PaperProps={{\r\n        className: classes.root,\r\n      }}\r\n      sx={{\r\n        display: { xs: 'block', sm: 'none' },\r\n      }}\r\n    >\r\n      {lists.map((list, listIndex) => [\r\n        <List key={`list-${listIndex}`}>\r\n          {list.category ? (\r\n            <Typography variant=\"h6\" sx={{ pl: '10px' }}>\r\n              {list.category}\r\n            </Typography>\r\n          ) : null}\r\n          {list.content.map((listitem, itemIndex) =>\r\n            listitem.children ? (\r\n              [\r\n                <ListItem\r\n                  key={`listitem-${itemIndex}`}\r\n                  button\r\n                  className={classes.navlink}\r\n                  onClick={() => {\r\n                    if (expIndex === itemIndex && expList === listIndex) {\r\n                      setExpIndex(-1);\r\n                      setExpList(-1);\r\n                    } else {\r\n                      setExpIndex(itemIndex);\r\n                      setExpList(listIndex);\r\n                    }\r\n                  }}\r\n                  secondaryAction={\r\n                    <ExpandMoreIcon\r\n                      sx={{\r\n                        transition: 'transform ease .3s',\r\n                        transform:\r\n                          expIndex === itemIndex && expList === listIndex\r\n                            ? ''\r\n                            : 'Rotate(-90deg)',\r\n                      }}\r\n                    />\r\n                  }\r\n                >\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>,\r\n                <Collapse\r\n                  key={`listcollapse-${itemIndex}`}\r\n                  in={expIndex === itemIndex && expList === listIndex}\r\n                >\r\n                  <List disablePadding>\r\n                    {listitem.children.map((child, childIndex) => (\r\n                      <NavLink\r\n                        key={childIndex}\r\n                        to={child.path}\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                      >\r\n                        <ListItem button className={classes.navlink}>\r\n                          <ListItemIcon>{null}</ListItemIcon>\r\n                          <ListItemText primary={child.label} />\r\n                        </ListItem>\r\n                      </NavLink>\r\n                    ))}\r\n                  </List>\r\n                </Collapse>,\r\n              ]\r\n            ) : (\r\n              <NavLink\r\n                key={`listitem-${itemIndex}`}\r\n                {...listitem}\r\n                activeClassName=\"active\"\r\n              >\r\n                <ListItem button className={classes.navlink}>\r\n                  <ListItemIcon>{listitem.icon}</ListItemIcon>\r\n                  <ListItemText primary={listitem.label} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )\r\n          )}\r\n        </List>,\r\n        <Divider key={`listdivider-${listIndex}`} />,\r\n      ])}\r\n      <List>\r\n        <ListItem\r\n          button\r\n          className={classes.navlink}\r\n          onClick={(e) => {\r\n            handleDrawerClose(e);\r\n            handleLogout(e);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <LogoutIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Logout\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nFixedSidebar.propTypes = {\r\n  drawerWidth: PropTypes.number.isRequired,\r\n  handleLogout: PropTypes.func.isRequired,\r\n  handleDrawerClose: PropTypes.func.isRequired,\r\n  lists: PropTypes.array.isRequired,\r\n  mobileOpen: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FixedSidebar;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { alpha } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  tableCellClasses,\r\n  TableSortLabel,\r\n} from '@mui/material';\r\nimport { yellow, grey, teal } from '@mui/material/colors';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport {\r\n  ArrowDropDown as ArrowDropDownIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n} from '@mui/icons-material';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\n// This method is created for cross-browser compatibility, if you don't\r\n// need to support IE11, you can use Array.prototype.sort() directly\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) {\r\n      return order;\r\n    }\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    columns,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    nonSelect,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {!nonSelect && (\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{\r\n                'aria-label': 'select all desserts',\r\n              }}\r\n            />\r\n          </TableCell>\r\n        )}\r\n        {columns.map(({ id, label, nonSort, sx, ...restProps }) => (\r\n          <TableCell\r\n            key={id}\r\n            align=\"left\"\r\n            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n            sortDirection={orderBy === id ? order : false}\r\n            {...restProps}\r\n          >\r\n            {nonSort ? (\r\n              label\r\n            ) : (\r\n              <TableSortLabel\r\n                active={orderBy === id}\r\n                direction={orderBy === id ? order : 'asc'}\r\n                onClick={createSortHandler(id)}\r\n                IconComponent={ArrowDropDownIcon}\r\n              >\r\n                {label}\r\n              </TableSortLabel>\r\n            )}\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  columns: PropTypes.arrayOf(Object).isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const { title, numSelected, onBulkEditClick, onBulkRemoveClick } = props;\r\n\r\n  return (\r\n    <Toolbar\r\n      sx={{\r\n        pl: { sm: 2 },\r\n        pr: { xs: 1, sm: 1 },\r\n        ...(numSelected > 0 && {\r\n          bgcolor: (theme) =>\r\n            alpha(\r\n              theme.palette.primary.main,\r\n              theme.palette.action.activatedOpacity\r\n            ),\r\n        }),\r\n      }}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          color=\"inherit\"\r\n          variant=\"subtitle1\"\r\n          component=\"div\"\r\n        >\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography\r\n          sx={{ flex: '1 1 100%' }}\r\n          variant=\"h6\"\r\n          id=\"tableTitle\"\r\n          component=\"div\"\r\n        >\r\n          {title}\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 && (\r\n        <>\r\n          {onBulkEditClick && (\r\n            <Tooltip title=\"Edit\">\r\n              <IconButton onClick={onBulkEditClick}>\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n          {onBulkRemoveClick && (\r\n            <Tooltip title=\"Delete\">\r\n              <IconButton onClick={onBulkRemoveClick}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  title: PropTypes.string,\r\n  numSelected: PropTypes.number,\r\n  onBulkEditClick: PropTypes.func,\r\n  onBulkRemoveClick: PropTypes.func,\r\n};\r\n\r\nconst useDataGridStyles = makeStyles((theme) => ({\r\n  table: {\r\n    [`& .MuiTableCell-root.${tableCellClasses.head}`]: {\r\n      backgroundColor: teal[400],\r\n      '&, & *': { color: teal[50] },\r\n      fontSize: 16,\r\n      fontWeight: 600,\r\n    },\r\n    [`& .MuiTableCell-root.${tableCellClasses.body}`]: {\r\n      fontSize: 14,\r\n    },\r\n    '& .MuiTableRow-root': {\r\n      height: 40,\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: grey[50],\r\n      },\r\n      '&:last-child td, &:last-child th': {\r\n        border: 0,\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst DataGrid = (props) => {\r\n  const {\r\n    title,\r\n    columns,\r\n    nonSelect,\r\n    onBulkEditClick,\r\n    onBulkRemoveClick,\r\n    rows,\r\n  } = props;\r\n\r\n  const classes = useDataGridStyles();\r\n\r\n  const [order, setOrder] = useState('asc');\r\n  const [orderBy, setOrderBy] = useState('index');\r\n  const [selected, setSelected] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [rowsLength, setRowsLength] = useState(rows.length)\r\n\r\n  const prevRows = useRef();\r\n\r\n  useEffect(() => {\r\n    if (prevRows.current !== rows.map((tmp) => tmp.id).join(',')) {\r\n      prevRows.current = rows.map((tmp) => tmp.id).join(',');\r\n      setSelected(\r\n        selected.filter((item) => rows.map((row) => row.id).includes(item))\r\n      );\r\n    }\r\n\r\n    if (rows.length !== rowsLength) {\r\n      setPage(0);\r\n      setRowsLength(rows.length)\r\n    }\r\n  }, [rows, selected]);\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.id);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n  // Avoid a layout jump when reaching the last page with empty rows.\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0;\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Paper sx={{ width: '100%', mt: 2 }}>\r\n        <EnhancedTableToolbar\r\n          title={title}\r\n          numSelected={selected.length}\r\n          onBulkEditClick={\r\n            onBulkEditClick\r\n              ? (event) => {\r\n                  event.preventDefault();\r\n                  onBulkEditClick(selected);\r\n                }\r\n              : null\r\n          }\r\n          onBulkRemoveClick={\r\n            onBulkRemoveClick\r\n              ? (event) => {\r\n                  event.preventDefault();\r\n                  onBulkRemoveClick(selected);\r\n                }\r\n              : null\r\n          }\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            sx={{ minWidth: 750 }}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              columns={columns}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              nonSelect={nonSelect}\r\n              rowCount={rows.length}\r\n            />\r\n            <TableBody>\r\n              {/* if you don't need to support IE11, you can replace the `stableSort` call with:\r\n                 rows.slice().sort(getComparator(order, orderBy)) */}\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={index}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      {!nonSelect && (\r\n                        <TableCell padding=\"checkbox\">\r\n                          <Checkbox\r\n                            onClick={(event) => handleClick(event, row.id)}\r\n                            color=\"primary\"\r\n                            checked={isItemSelected}\r\n                            inputProps={{\r\n                              'aria-labelledby': labelId,\r\n                            }}\r\n                          />\r\n                        </TableCell>\r\n                      )}\r\n\r\n                      {columns.map(\r\n                        (\r\n                          { id, label, nonSort, sx, ...restProps },\r\n                          filedIndex\r\n                        ) => (\r\n                          <TableCell\r\n                            key={filedIndex}\r\n                            component=\"th\"\r\n                            id={filedIndex === 0 ? labelId : ''}\r\n                            scope=\"row\"\r\n                            sx={{ p: '3px 0 3px 5px', ...sx }}\r\n                            {...restProps}\r\n                          >\r\n                            {id === 'index' ? row[id] + 1 : row[id]}\r\n                          </TableCell>\r\n                        )\r\n                      )}\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow\r\n                  style={{\r\n                    height: 33 * emptyRows,\r\n                  }}\r\n                >\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nDataGrid.propTypes = {\r\n  title: PropTypes.string,\r\n  nonSelect: PropTypes.bool,\r\n  columns: PropTypes.array.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  onBulkRemoveClick: PropTypes.func,\r\n  onBulkEditClick: PropTypes.func,\r\n};\r\n\r\nexport default DataGrid;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  FormControl,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { Edit as EditIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'email',\r\n    label: 'Email',\r\n  },\r\n  {\r\n    id: 'firstName',\r\n    label: 'First Name',\r\n  },\r\n  {\r\n    id: 'lastName',\r\n    label: 'Last Name',\r\n  },\r\n  {\r\n    id: 'type',\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'prefix',\r\n    label: 'Prefix',\r\n  },\r\n  {\r\n    id: 'isActive',\r\n    label: 'Active',\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'edit',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [editOpen, setEditOpen] = useState(false);\r\n\r\n  const [id, setID] = useState('');\r\n  const [formProps, setFormProps] = useState([]);\r\n  const [type, setType] = useState('');\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      setID(users[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'email',\r\n          defaultValue: users[index].email,\r\n          label: 'Email',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'firstName',\r\n          defaultValue: users[index].firstName,\r\n          label: 'First Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'lastName',\r\n          defaultValue: users[index].lastName,\r\n          label: 'Last Name',\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'prefix',\r\n          defaultValue: users[index].prefix,\r\n          label: 'Prefix',\r\n          width: '100%',\r\n        },\r\n      ]);\r\n      setType(users[index].type);\r\n    }\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < users.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current account permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep this account.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/user/${users[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getUsers();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairColors permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/user', { data: { ids: selected } })\r\n          .then((response) => {\r\n            // handle success\r\n            getUsers();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEditOpen(false);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    const data = new FormData(e.currentTarget);\r\n    new axios.put(`/user/${id}`, {\r\n      email: data.get('email'),\r\n      firstName: data.get('firstName'),\r\n      lastName: data.get('lastName'),\r\n      type: type,\r\n      prefix: data.get('prefix'),\r\n    })\r\n      .then((response) => {\r\n        // handle success\r\n        setEditOpen(false);\r\n        getUsers();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEditOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEditOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getUsers = (cancelToken) => {\r\n    axios\r\n      .get('/user', { cancelToken: cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setUsers(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let source = axios.CancelToken.source();\r\n    getUsers(source.token);\r\n    return () => source.cancel('Users Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <DataGrid\r\n        title=\"Users\"\r\n        rows={users.map(({ isActive, ...restProps }, index) => ({\r\n          index,\r\n          isActive: (\r\n            <Checkbox\r\n              checked={isActive}\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n                axios\r\n                  .put(`/user/${restProps.id}`, {\r\n                    isActive: !isActive,\r\n                  })\r\n                  .then(() => {\r\n                    getUsers();\r\n                  })\r\n                  .catch(function (error) {\r\n                    // handle error\r\n                    Swal.fire({\r\n                      icon: 'error',\r\n                      title: 'Error',\r\n                      text: error.response.data.message,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  })\r\n                  .then(function () {\r\n                    // always executed\r\n                  });\r\n              }}\r\n            />\r\n          ),\r\n          edit: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleEditClick(index);\r\n              }}\r\n            >\r\n              <EditIcon />\r\n            </IconButton>\r\n          ),\r\n          delete: (\r\n            <IconButton\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                handleRemoveClick(index);\r\n              }}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          ),\r\n          ...restProps,\r\n        }))}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        open={editOpen}\r\n        PaperProps={{ component: 'form', onSubmit: handleSave }}\r\n      >\r\n        <DialogTitle>Edit User</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <DialogContentText>\r\n              Please Edit the User information and Click Save button.\r\n            </DialogContentText>\r\n            {formProps.map(({ width, ...restProps }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            ))}\r\n            <FormControl>\r\n              <InputLabel id=\"user-type-select-label\" size=\"small\">\r\n                Type\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"user-type-select-label\"\r\n                id=\"user-type-select\"\r\n                value={type}\r\n                label=\"Type\"\r\n                onChange={(event) => {\r\n                  event.preventDefault();\r\n                  setType(event.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value=\"admin\">Admin</MenuItem>\r\n                <MenuItem value=\"salesman\">Salesman</MenuItem>\r\n                <MenuItem value=\"driver\">Driver</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      marginTop: 30,\r\n      marginRight: 20,\r\n      width: 400,\r\n      float: \"right\"\r\n    },\r\n    indeterminateColor: {\r\n      color: \"#f50057\"\r\n    },\r\n    selectAllText: {\r\n      fontWeight: 500\r\n    },\r\n    selectedAll: {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.08)\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"rgba(0, 0, 0, 0.08)\"\r\n      }\r\n    }\r\n  }));\r\n  \r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 1;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250\r\n      }\r\n    },\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"center\"\r\n    },\r\n    transformOrigin: {\r\n      vertical: \"top\",\r\n      horizontal: \"center\"\r\n    },\r\n    variant: \"menu\"\r\n};\r\n\r\nfunction CheckableMultiSelect(props) {\r\n    const { options, onChange, selected } = props\r\n    const classes = useStyles();\r\n    // const [selected, setSelected] = useState([]);\r\n    const isAllSelected =\r\n        options.length > 0 && selected.length === options.length;\r\n\r\n    const handleChange = (event) => {\r\n        const value = event.target.value;\r\n        if (value[value.length - 1] === \"all\") {\r\n            onChange(selected.length === options.length ? [] : options);\r\n        return;\r\n        }\r\n        onChange(value);\r\n    };\r\n\r\n    return (\r\n        <FormControl className={classes.formControl} variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"mutiple-select-label\">Select columns</InputLabel>\r\n            <Select\r\n                multiple\r\n                value={selected}\r\n                onChange={handleChange}\r\n                renderValue={(selected) => selected.join(\", \")}\r\n                MenuProps={MenuProps}\r\n                label=\"Select columns\"\r\n                size=\"normal\"\r\n            >\r\n                <MenuItem\r\n                value=\"all\"\r\n                classes={{\r\n                    root: isAllSelected ? classes.selectedAll : \"\"\r\n                }}\r\n                >\r\n                <ListItemIcon>\r\n                    <Checkbox\r\n                    classes={{ indeterminate: classes.indeterminateColor }}\r\n                    checked={isAllSelected}\r\n                    indeterminate={\r\n                        selected.length > 0 && selected.length < options.length\r\n                    }\r\n                    />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                    classes={{ primary: classes.selectAllText }}\r\n                    primary=\"Select All\"\r\n                />\r\n                </MenuItem>\r\n                {options.map((option) => (\r\n                <MenuItem key={option} value={option}>\r\n                    <ListItemIcon>\r\n                    <Checkbox checked={selected.indexOf(option) > -1} />\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={option} />\r\n                </MenuItem>\r\n                ))}\r\n            </Select>\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nexport default CheckableMultiSelect;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'brand',\r\n          label: 'Brand',\r\n          type: 'text',\r\n          defaultValue: stocks[index].brand,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'frameColor',\r\n          label: 'Frame Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].frameColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'backColor',\r\n          label: 'Back Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].backColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'seatColor',\r\n          label: 'Seat Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].seatColor,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'backMaterial',\r\n          label: 'Back Material',\r\n          type: 'text',\r\n          defaultValue: stocks[index].backMaterial,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'seatMaterial',\r\n          label: 'Seat Material',\r\n          type: 'text',\r\n          defaultValue: stocks[index].seatMaterial,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'withHeadrest',\r\n          label: 'Headrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withHeadrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'withAdArmrest',\r\n          label: 'Adjustable Armrest',\r\n          type: 'checkbox',\r\n          defaultValue: stocks[index].withAdArmrest,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current ChairStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/chairStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected ChairStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/chairStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/chairStock/${id}`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        backMaterial: data.get('backMaterial'),\r\n        seatMaterial: data.get('seatMaterial'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/chairStock/create`, {\r\n        brand: data.get('brand'),\r\n        model: data.get('model'),\r\n        frameColor: data.get('frameColor'),\r\n        backColor: data.get('backColor'),\r\n        seatColor: data.get('seatColor'),\r\n        backMaterial: data.get('backMaterial'),\r\n        seatMaterial: data.get('seatMaterial'),\r\n        withHeadrest: Boolean(data.get('withHeadrest')),\r\n        withAdArmrest: Boolean(data.get('withAdArmrest')),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'brand',\r\n              label: 'Brand',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'frameColor',\r\n              label: 'Frame Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'backColor',\r\n              label: 'Back Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'seatColor',\r\n              label: 'Seat Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'backMaterial',\r\n              label: 'Back Material',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'seatMaterial',\r\n              label: 'Seat Material',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'withHeadrest',\r\n              label: 'Headrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'withAdArmrest',\r\n              label: 'Adjustable Armrest',\r\n              type: 'checkbox',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: 'none' }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append('file', e.target.files[0]);\r\n                const response = await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5 && i < 16) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const [stocks, setStocks] = useState([]);\r\n  const [formMode, setFormMode] = useState('create');\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'supplierCode',\r\n          label: 'Supplier',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].supplierCode,\r\n          options: ['AK', 'JC', 'AW', 'LK'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'model',\r\n          label: 'Model',\r\n          type: 'text',\r\n          defaultValue: stocks[index].model,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'color',\r\n          label: 'Color',\r\n          type: 'text',\r\n          defaultValue: stocks[index].color,\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'armSize',\r\n          label: 'Arm Size',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].armSize,\r\n          options: ['400', '500', '600'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'feetSize',\r\n          label: 'FeetSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].feetSize,\r\n          options: ['400', '500', '600', '700'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'beamSize',\r\n          label: 'BeamSize',\r\n          type: 'autocomplete',\r\n          defaultValue: stocks[index].beamSize,\r\n          options: ['740-1100', 'Regular'],\r\n          width: '30%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current DeskStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/deskStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected DeskStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/deskStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/deskStock/${id}`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(`/chairStock/upload`, uploadData, {\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n          },\r\n        });\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/deskStock/create`, {\r\n        supplierCode: data.get('supplierCode'),\r\n        model: data.get('model'),\r\n        color: data.get('color'),\r\n        armSize: data.get('armSize'),\r\n        feetSize: data.get('feetSize'),\r\n        beamSize: data.get('beamSize'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'supplierCode',\r\n              label: 'Supplier',\r\n              type: 'autocomplete',\r\n              options: ['AK', 'JC', 'AW', 'LK'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'model',\r\n              label: 'Model',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'color',\r\n              label: 'Color',\r\n              type: 'text',\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'armSize',\r\n              label: 'Arm Size',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'feetSize',\r\n              label: 'FeetSize',\r\n              type: 'autocomplete',\r\n              options: ['400', '500', '600', '700'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'beamSize',\r\n              label: 'BeamSize',\r\n              type: 'autocomplete',\r\n              options: ['740-1100', 'Regular'],\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <label htmlFor=\"contained-button-file\">\r\n        <input\r\n          accept=\".xlsx\"\r\n          id=\"contained-button-file\"\r\n          type=\"file\"\r\n          style={{ display: 'none' }}\r\n          onChange={async (e) => {\r\n            e.preventDefault();\r\n            try {\r\n              if (e.target.files.length > 0) {\r\n                const uploadData = new FormData();\r\n                uploadData.append('file', e.target.files[0]);\r\n                const response = await axios.post(\r\n                  `/chairStock/uploadCreate`,\r\n                  uploadData,\r\n                  {\r\n                    headers: {\r\n                      'Content-Type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                  }\r\n                );\r\n                getStocks();\r\n              }\r\n            } catch (error) {\r\n              console.log(error);\r\n            } finally {\r\n              e.target.value = null;\r\n            }\r\n          }}\r\n        />\r\n        <Button component=\"span\" sx={{ ml: 2 }}>\r\n          Bulk Upload\r\n        </Button>\r\n      </label>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  />\r\n                );\r\n              } else if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select \r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'delete',\r\n    nonSort: true,\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [formMode, setFormMode] = useState('create');\r\n\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const [id, setID] = useState('');\r\n\r\n  const [balance, setBalance] = useState(0);\r\n  const [unitPrice, setUnitPrice] = useState(1000);\r\n  const [shipmentQty, setShipmentQty] = useState(0);\r\n\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      setID(stocks[index].id);\r\n      setFormProps([\r\n        {\r\n          name: 'name',\r\n          label: 'Name',\r\n          type: 'text',\r\n          defaultValue: stocks[index].name,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'category',\r\n          label: 'Category',\r\n          type: 'select',\r\n          defaultValue: stocks[index].category,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'remark',\r\n          label: 'Remark',\r\n          multiline: true,\r\n          type: 'text',\r\n          defaultValue: stocks[index].remark,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'shipmentDate',\r\n          label: 'Shipment Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].shipmentDate,\r\n          width: '48%',\r\n        },\r\n        {\r\n          name: 'arrivalDate',\r\n          label: 'Arrival Date',\r\n          type: 'date',\r\n          defaultValue: stocks[index].arrivalDate,\r\n          width: '48%',\r\n        },\r\n      ]);\r\n      setBalance(stocks[index].balance);\r\n      setUnitPrice(stocks[index].unitPrice);\r\n      setShipmentQty(stocks[index].qty - stocks[index].balance);\r\n    }\r\n    setFormMode('edit');\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < stocks.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current AccessoryStock permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/accessoryStock/${stocks[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getStocks();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected AccessoryStocks permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/accessoryStock', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getStocks();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSave = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .put(`/accessoryStock/${id}`, {\r\n        name: data.get('name'),\r\n        category: data.get('category'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleCreate = async (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    let thumbnailURL = '';\r\n    if (data.get('thumbnail').name) {\r\n      const uploadData = new FormData();\r\n      uploadData.append('file', data.get('thumbnail'));\r\n      try {\r\n        const response = await axios.post(\r\n          `/accessoryStock/upload`,\r\n          uploadData,\r\n          {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n          }\r\n        );\r\n        thumbnailURL = response.data.url;\r\n      } catch (err) {}\r\n    }\r\n    axios\r\n      .post(`/accessoryStock/create`, {\r\n        name: data.get('name'),\r\n        category: data.get('category'),\r\n        remark: data.get('remark'),\r\n        thumbnailURL,\r\n        unitPrice: data.get('unitPrice'),\r\n        shipmentDate: data.get('shipmentDate') || null,\r\n        arrivalDate: data.get('arrivalDate') || null,\r\n        balance: balance,\r\n        qty: Number(balance) + Number(shipmentQty),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getStocks();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks)\r\n    } else {\r\n      setStocks(initStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        startIcon={<AddIcon />}\r\n        onClick={() => {\r\n          setFormProps([\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'category',\r\n              label: 'Category',\r\n              type: 'select',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'remark',\r\n              label: 'Remark',\r\n              type: 'text',\r\n              width: '100%',\r\n            },\r\n            {\r\n              name: 'shipmentDate',\r\n              label: 'Shipment Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'arrivalDate',\r\n              label: 'Arrival Date',\r\n              type: 'date',\r\n              width: '48%',\r\n            },\r\n          ]);\r\n          setBalance(0);\r\n          setUnitPrice(1000);\r\n          setShipmentQty(0);\r\n          setFormMode('create');\r\n          setFormOpen(true);\r\n        }}\r\n      >\r\n        New Stock\r\n      </Button>\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              edit: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleEditClick(index);\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n              ),\r\n              delete: (\r\n                <IconButton\r\n                  onClick={(event) => {\r\n                    event.preventDefault();\r\n                    handleRemoveClick(index);\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              ),\r\n              shipmentDate: shipmentDate || 'No',\r\n              arrivalDate: arrivalDate || 'No',\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: formMode === 'create' ? handleCreate : handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>\r\n          {formMode === 'create' ? 'New Stock' : 'Edit Stock'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'text') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'date') {\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    size=\"small\"\r\n                    type=\"date\"\r\n                    InputLabelProps={{ shrink: true }}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n              } else if (type === 'checkbox') {\r\n                const { defaultValue, label, name } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    control={\r\n                      <Checkbox name={name} defaultChecked={defaultValue} />\r\n                    }\r\n                    label={label}\r\n                  />\r\n                );\r\n              } else if (type === 'select') {\r\n                return (\r\n                  <FormControl\r\n                    size=\"small\"\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id=\"category_select\">Category</InputLabel>\r\n                    <Select\r\n                      key={index}\r\n                      labelId=\"category_select\"\r\n                      {...restParams}\r\n                    >\r\n                      <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n                      <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n                      <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                      <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else return null;\r\n            })}\r\n            <TextField\r\n              label=\"Thumbnail\"\r\n              name=\"thumbnail\"\r\n              type=\"file\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n              inputProps={{\r\n                accept: 'image/png, image/gif, image/jpeg',\r\n              }}\r\n              InputLabelProps={{ shrink: true }}\r\n            />\r\n            <FormControlLabel\r\n              sx={{\r\n                flexBasis: ['100%', '48%'],\r\n                minWidth: ['100%', '48%'],\r\n                alignItems: 'baseline',\r\n                m: 0,\r\n              }}\r\n              control={\r\n                <TextField\r\n                  label=\"Unit Price\"\r\n                  type=\"number\"\r\n                  name=\"unitPrice\"\r\n                  defaultValue={unitPrice}\r\n                  fullWidth\r\n                  sx={{ m: '10px 5px 0 0' }}\r\n                />\r\n              }\r\n              label=\"HKD\"\r\n            />\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance > 1 ? balance - 1 : 0);\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Balance\"\r\n                value={balance}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  if (e.target.value > 0) setBalance(e.target.value);\r\n                  else setBalance(0);\r\n                  setUnitPrice(1000);\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setBalance(balance + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box\r\n              display=\"flex\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n              sx={{ flexBasis: ['100%', '48%'], minWidth: ['100%', '48%'] }}\r\n            >\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(Math.max(shipmentQty - 1, 0));\r\n                }}\r\n              >\r\n                <RemoveIcon />\r\n              </IconButton>\r\n              <TextField\r\n                label=\"Shipment\"\r\n                value={shipmentQty}\r\n                type=\"number\"\r\n                sx={{ width: '80px', mx: '5px' }}\r\n                onChange={(e) => {\r\n                  setShipmentQty(Math.max(e.target.value, 0));\r\n                }}\r\n              />\r\n              <IconButton\r\n                onClick={() => {\r\n                  setShipmentQty(shipmentQty + 1);\r\n                }}\r\n              >\r\n                <AddIcon />\r\n              </IconButton>\r\n            </Box>\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">\r\n            {formMode === 'create' ? 'Create' : 'Save'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount, deliveryOption }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount, deliveryOption].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: index === 2 ? 150 : 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'PreOrder',\r\n  'Remark',\r\n  'Discount',\r\n  'SurCharge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n\r\n  const [paymentLink, setPaymentLink] = useState(\"\")\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Order permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Orders permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/salesOrder', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/salesOrder', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        console.log(response.data)\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum, \r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/order/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 14) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={\r\n                      item.DeskToOrder.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.DeskToOrder.topMaterial}, ${item.DeskToOrder.topColor}, ${item.DeskToOrder.topLength}x${item.DeskToOrder.topWidth}x${item.DeskToOrder.topThickness}, ${item.DeskToOrder.topRoundedCorners}-R${item.DeskToOrder.topCornerRadius}, ${item.DeskToOrder.topHoleCount}-${item.DeskToOrder.topHoleType} `}\r\n                          <a\r\n                            href={item.DeskToOrder.topSketchURL}\r\n                            target=\"_blank\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToOrder.qty}`}\r\n                    deliveryOption={`${item.DeskToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.DeskToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.DeskToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.DeskToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.DeskToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.DeskToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.DeskToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.DeskToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.category}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post('/salesOrder/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n]\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState('Left');\r\n  const [topHoleType, setTopHoleType] = useState('Rounded');\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Details',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState('')\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices ? initialServices.map(service=>Object.assign(service, {productType: 'misc'})) : []\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if ((cart.length === 0 && services.length === 0) && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value)\r\n  }\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks)\r\n    } else {\r\n      setAccessoryStocks(initAccessoryStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: '',\r\n      price: 0,\r\n      productType: 'misc'\r\n    }\r\n    setServices([...services, newService])\r\n  }\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter(service=>service.id !== serviceId)\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { description: e.target.value })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { price: parseFloat(e.target.value) })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values)\r\n  }\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={['hk']}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : 'Without DeskTop'\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor = chairStocks[index].frameColor == \"\" ? \"___\" : chairStocks[index].frameColor;\r\n                            let seatColor = chairStocks[index].seatColor == \"\" ? \"___\" : chairStocks[index].seatColor;\r\n                            let backColor = chairStocks[index].backColor == \"\" ? \"___\" : chairStocks[index].backColor;\r\n                            let remark = \"FrameColor:\" + frameColor + \", SeatColor:\" + seatColor + \", BackColor:\" + backColor;\r\n                            setProductRemark(remark)\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                  columns={\r\n                    chairColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideChairColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[{\r\n                    label: 'Supplier',\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier || item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier || item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                  columns={\r\n                    deskColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideDeskColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductRemark(accessoryStocks[index].remark)\r\n                            setProductPrice(accessoryStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button \r\n                  variant=\"contained\" \r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  { \r\n                    services.map((service) =>  \r\n                      <Grid item xs={4} key={service.id}>\r\n                        <Card sx={{ px: 2, pb: 2 }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                            <IconButton aria-label=\"settings\" size=\"small\" onClick={()=>onDeleteService(service.id)}>\r\n                              <CloseIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                          </Box>\r\n                          <TextField\r\n                            label=\"Description\"\r\n                            multiline\r\n                            rows={5}\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            value={service.description}\r\n                            onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                          />\r\n                          <TextField\r\n                            type=\"number\"\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            label=\"Price\"\r\n                            value={service.price}\r\n                            onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                          />\r\n                        </Card>  \r\n                      </Grid>\r\n                    )\r\n                  }\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products and services list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Sub Total: {\r\n              cart.reduce((p, c)=>p+c.productAmount*parseFloat(c.productPrice), 0) +\r\n              services.reduce((p, c)=>p+c.price, 0)\r\n            }\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: '30%',\r\n              minWidth: '30%',\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: '70%',\r\n              minWidth: '70%',\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: e.currentTarget.unitPrice.value,\r\n                remark: productRemark\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\"  sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography> \r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\"  sx={{ ml:\"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={ productRemark }\r\n              sx={{ width: 400, mx:\"5px\" }}\r\n              onChange={ handleProductRemark }\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'desk' &&\r\n                  item.productDetail.id === productDetail.id\r\n              ) && !hasDeskTop\r\n            ) {\r\n              setDeskAddOpen(false);\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              })\r\n              return;\r\n            }\r\n\r\n            const data = new FormData(e.currentTarget);\r\n            let topSketchURL = '';\r\n            if (data.get('topSketchImg') && data.get('topSketchImg').name) {\r\n              const uploadData = new FormData();\r\n              uploadData.append('file', data.get('topSketchImg'));\r\n              try {\r\n                const response = await axios.post(`/upload`, uploadData, {\r\n                  headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                  },\r\n                });\r\n                topSketchURL = response.data.url;\r\n              } catch (err) {}\r\n            }\r\n            setDeskAddOpen(false);\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: Boolean(data.get('hasDeskTop'))\r\n                  ? Number(data.get('deskTotalPrice'))\r\n                  : Number(data.get('deskLegPrice')),\r\n                hasDeskTop: Boolean(data.get('hasDeskTop')) || false,\r\n                topMaterial: data.get('topMaterial') || '',\r\n                topColor: data.get('topColor') || '',\r\n                topLength: data.get('topLength') || 0,\r\n                topWidth: data.get('topWidth') || 0,\r\n                topThickness: data.get('topThickness') || 0,\r\n                topRoundedCorners: data.get('topRoundedCorners') || 0,\r\n                topCornerRadius: data.get('topCornerRadius') || 50,\r\n                topHoleCount: data.get('topHoleCount') || 0,\r\n                topHoleType: data.get('topHoleType') || '',\r\n                topHolePosition: topHolePosition || '',\r\n                remark: data.get('remark') || '',\r\n                topSketchURL: topSketchURL,\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? 'hidden' : 'visible' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            />\r\n            {[\r\n              {\r\n                name: 'topMaterial',\r\n                label: 'Material',\r\n                type: 'autocomplete',\r\n                defaultValue: 'Melamine',\r\n                options: [\r\n                  'Melamine',\r\n                  'Laminate',\r\n                  'North American Walnut',\r\n                  'South American Walnut',\r\n                  'Red Oak',\r\n                  'Maple',\r\n                  'Bamboo',\r\n                  'Melamine with glass top',\r\n                  'Toppal Plyedge'\r\n                ],\r\n                width: '65%',\r\n              },\r\n              {\r\n                name: 'topColor',\r\n                label: 'Color',\r\n                type: 'text',\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topLength',\r\n                label: 'Length',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 700,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topWidth',\r\n                label: 'Width',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 400,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topThickness',\r\n                label: 'Thickness',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 25,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topRoundedCorners',\r\n                label: 'Rounded Corners',\r\n                type: 'select',\r\n                defaultValue: 0,\r\n                options: [0, 1, 2, 3, 4],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topCornerRadius',\r\n                label: 'Corner Radius',\r\n                type: 'number',\r\n                defaultValue: 50,\r\n                inputProps: { min: 0 },\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleCount',\r\n                label: 'Number of Holes',\r\n                type: 'select',\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1)\r\n                    setTopHolePosition('Left')\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition('Left_Right')\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition('Left_Right_Center')\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleType',\r\n                label: 'Type of Holes',\r\n                type: 'select',\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: ['Rounded', 'Rectangular'],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHolePosition',\r\n                label: 'Hole Position',\r\n                type: 'select',\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options: topHoleCount === 1 ? ['Left', 'Right', 'Center'] : ['Left', 'Right', 'Center', 'Left_Right', 'Left_Right_Center'],\r\n                disabled: topHoleCount !== 1 || topHoleType !== 'Rounded',\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'remark',\r\n                label: 'Remark',\r\n                type: 'text',\r\n                width: '100%',\r\n              },\r\n              {\r\n                name: 'topSketchImg',\r\n                label: 'Sketch Image (Optional)',\r\n                type: 'file',\r\n                inputProps: {\r\n                  accept: 'image/png, image/gif, image/jpeg',\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: '100%',\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === 'suffixNumber') {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: 'baseline',\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: '10px 5px 0 0' }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === 'select') {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id={`desk-top-${name}-select-label`}>\r\n                      {label}\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId={`desk-top-${name}-select-label`}\r\n                      id={`desk-top-${name}-select`}\r\n                      name={name}\r\n                      label={label}\r\n                      size=\"small\"\r\n                      disabled={!hasDeskTop}\r\n                      {...selectParams}\r\n                    >\r\n                      {options.map((selectOption, selectOptionIndex) => (\r\n                        <MenuItem key={selectOptionIndex} value={selectOption}>\r\n                          {selectOption}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: 'auto' }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToOrder, ...restProps }) => {\r\n            const {\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: restProps,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption,\r\n          }))\r\n        )}\r\n        initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'quotationDate',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'Remark',\r\n  'Discount',\r\n  'SurC harge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Quotation permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Quotations permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get('/quotation', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/admin/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                { quotationNum }\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/admin/quotation/edit',\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={\r\n                      item.DeskToQuotation.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.DeskToQuotation.topMaterial}, ${item.DeskToQuotation.topColor}, ${item.DeskToQuotation.topLength}x${item.DeskToQuotation.topWidth}x${item.DeskToQuotation.topThickness}, ${item.DeskToQuotation.topRoundedCorners}-R${item.DeskToQuotation.topCornerRadius}, ${item.DeskToQuotation.topHoleCount}-${item.DeskToQuotation.topHoleType} `}\r\n                          <a\r\n                            href={item.DeskToQuotation.topSketchURL}\r\n                            target=\"_blank\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToQuotation.qty}`}\r\n                    deliveryOption={`${item.DeskToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.category}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n]\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState('Left');\r\n  const [topHoleType, setTopHoleType] = useState('Rounded');\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Details',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState('')\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices ? initialServices.map(service=>Object.assign(service, {productType: 'misc'})) : []\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if ((cart.length === 0 && services.length === 0) && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value)\r\n  }\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks)\r\n    } else {\r\n      setAccessoryStocks(initAccessoryStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: '',\r\n      price: 0,\r\n      productType: 'misc'\r\n    }\r\n    setServices([...services, newService])\r\n  }\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter(service=>service.id !== serviceId)\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { description: e.target.value })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { price: parseFloat(e.target.value) })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values)\r\n  }\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={['hk']}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : 'Without DeskTop'\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor = chairStocks[index].frameColor == \"\" ? \"___\" : chairStocks[index].frameColor;\r\n                            let seatColor = chairStocks[index].seatColor == \"\" ? \"___\" : chairStocks[index].seatColor;\r\n                            let backColor = chairStocks[index].backColor == \"\" ? \"___\" : chairStocks[index].backColor;\r\n                            let remark = \"FrameColor:\" + frameColor + \", SeatColor:\" + seatColor + \", BackColor:\" + backColor;\r\n                            setProductRemark(remark)\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                  columns={\r\n                    chairColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideChairColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[ {\r\n                    label: 'Supplier',\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier || item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier || item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                  columns={\r\n                    deskColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideDeskColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductRemark(accessoryStocks[index].remark)\r\n                            setProductPrice(accessoryStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button \r\n                  variant=\"contained\" \r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  { \r\n                    services.map((service) =>  \r\n                      <Grid item xs={4} key={service.id}>\r\n                        <Card sx={{ px: 2, pb: 2 }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                            <IconButton aria-label=\"settings\" size=\"small\" onClick={()=>onDeleteService(service.id)}>\r\n                              <CloseIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                          </Box>\r\n                          <TextField\r\n                            label=\"Description\"\r\n                            multiline\r\n                            rows={5}\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            value={service.description}\r\n                            onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                          />\r\n                          <TextField\r\n                            type=\"number\"\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            label=\"Price\"\r\n                            value={service.price}\r\n                            onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                          />\r\n                        </Card>  \r\n                      </Grid>\r\n                    )\r\n                  }\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products and services list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                validTil: paymentData.get('validTil') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                validTil: paymentData.get('validTil') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/admin/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Sub Total: {\r\n              cart.reduce((p, c)=>p+c.productAmount*parseFloat(c.productPrice), 0) +\r\n              services.reduce((p, c)=>p+c.price, 0)\r\n            }\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: '100%',\r\n              minWidth: '100%',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 10px 0' }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: e.currentTarget.unitPrice.value,\r\n                remark: productRemark\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: '200px' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml:\"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={ productRemark }\r\n              sx={{ width: 400, mx:\"5px\" }}\r\n              onChange={ handleProductRemark }\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'desk' &&\r\n                  item.productDetail.id === productDetail.id\r\n              ) && !hasDeskTop\r\n            ) {\r\n              setDeskAddOpen(false);\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              })\r\n              return;\r\n            }\r\n\r\n            const data = new FormData(e.currentTarget);\r\n            let topSketchURL = '';\r\n            if (data.get('topSketchImg') && data.get('topSketchImg').name) {\r\n              const uploadData = new FormData();\r\n              uploadData.append('file', data.get('topSketchImg'));\r\n              try {\r\n                const response = await axios.post(`/upload`, uploadData, {\r\n                  headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                  },\r\n                });\r\n                topSketchURL = response.data.url;\r\n              } catch (err) {}\r\n            }\r\n            setDeskAddOpen(false);\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: Boolean(data.get('hasDeskTop'))\r\n                  ? Number(data.get('deskTotalPrice'))\r\n                  : Number(data.get('deskLegPrice')),\r\n                hasDeskTop: Boolean(data.get('hasDeskTop')) || false,\r\n                topMaterial: data.get('topMaterial') || '',\r\n                topColor: data.get('topColor') || '',\r\n                topLength: data.get('topLength') || 0,\r\n                topWidth: data.get('topWidth') || 0,\r\n                topThickness: data.get('topThickness') || 0,\r\n                topRoundedCorners: data.get('topRoundedCorners') || 0,\r\n                topCornerRadius: data.get('topCornerRadius') || 50,\r\n                topHoleCount: data.get('topHoleCount') || 0,\r\n                topHoleType: data.get('topHoleType') || '',\r\n                topHolePosition: topHolePosition || '',\r\n                remark: data.get('remark') || '',\r\n                topSketchURL: topSketchURL,\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? 'hidden' : 'visible' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            />\r\n            {[\r\n              {\r\n                name: 'topMaterial',\r\n                label: 'Material',\r\n                type: 'autocomplete',\r\n                defaultValue: 'Melamine',\r\n                options: [\r\n                  'Melamine',\r\n                  'Laminate',\r\n                  'North American Walnut',\r\n                  'South American Walnut',\r\n                  'Red Oak',\r\n                  'Maple',\r\n                  'Bamboo',\r\n                  'Melamine with glass top',\r\n                  'Toppal Plyedge'\r\n                ],\r\n                width: '65%',\r\n              },\r\n              {\r\n                name: 'topColor',\r\n                label: 'Color',\r\n                type: 'text',\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topLength',\r\n                label: 'Length',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 700,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topWidth',\r\n                label: 'Width',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 400,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topThickness',\r\n                label: 'Thickness',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 25,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topRoundedCorners',\r\n                label: 'Rounded Corners',\r\n                type: 'select',\r\n                defaultValue: 0,\r\n                options: [0, 1, 2, 3, 4],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topCornerRadius',\r\n                label: 'Corner Radius',\r\n                type: 'number',\r\n                defaultValue: 50,\r\n                inputProps: { min: 0 },\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleCount',\r\n                label: 'Number of Holes',\r\n                type: 'select',\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1)\r\n                    setTopHolePosition('Left')\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition('Left_Right')\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition('Left_Right_Center')\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleType',\r\n                label: 'Type of Holes',\r\n                type: 'select',\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: ['Rounded', 'Rectangular'],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHolePosition',\r\n                label: 'Hole Position',\r\n                type: 'select',\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options: topHoleCount === 1 ? ['Left', 'Right', 'Center'] : ['Left', 'Right', 'Center', 'Left_Right', 'Left_Right_Center'],\r\n                disabled: topHoleCount !== 1 || topHoleType !== 'Rounded',\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'remark',\r\n                label: 'Remark',\r\n                type: 'text',\r\n                width: '100%',\r\n              },\r\n              {\r\n                name: 'topSketchImg',\r\n                label: 'Sketch Image (Optional)',\r\n                type: 'file',\r\n                inputProps: {\r\n                  accept: 'image/png, image/gif, image/jpeg',\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: '100%',\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === 'suffixNumber') {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: 'baseline',\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: '10px 5px 0 0' }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === 'select') {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id={`desk-top-${name}-select-label`}>\r\n                      {label}\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId={`desk-top-${name}-select-label`}\r\n                      id={`desk-top-${name}-select`}\r\n                      name={name}\r\n                      label={label}\r\n                      size=\"small\"\r\n                      disabled={!hasDeskTop}\r\n                      {...selectParams}\r\n                    >\r\n                      {options.map((selectOption, selectOptionIndex) => (\r\n                        <MenuItem key={selectOptionIndex} value={selectOption}>\r\n                          {selectOption}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: 'auto' }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToQuotation, ...restProps }) => {\r\n            const {\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: restProps,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/admin/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'brand', label: 'Brand' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'frameColor', label: 'FColor' },\r\n  { id: 'backColor', label: 'BColor' },\r\n  { id: 'seatColor', label: 'SColor' },\r\n  { id: 'withHeadrest', label: 'Headrest' },\r\n  { id: 'withAdArmrest', label: 'Armrest' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/chair`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allChair', props)\r\n      .then((response) => {\r\n        // handle success\r\n        setDeliveries(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Chair Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, ChairStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            brand: ChairStock === null ? '' : ChairStock.brand,\r\n            model: ChairStock === null ? '' : ChairStock.model,\r\n            frameColor: ChairStock === null ? '' : ChairStock.frameColor,\r\n            backColor: ChairStock === null ? '' : ChairStock.backColor,\r\n            seatColor: ChairStock === null ? '' : ChairStock.seatColor,\r\n            withHeadrest: ChairStock === null ? 'No' : ChairStock.withHeadrest ? 'Yes' : 'No',\r\n            withAdArmrest: ChairStock === null ? 'No' : ChairStock.withAdArmrest ? 'Yes' : 'No',\r\n            remark: ChairStock === null ? '' : ChairStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/chair/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'akNum', label: 'AK #', sx: { minWidth: 100 } },\r\n  { id: 'heworkNum', label: 'Hework #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'model', label: 'Model' },\r\n  { id: 'color', label: 'Color' },\r\n  { id: 'armSize', label: 'Arm Size' },\r\n  { id: 'feetSize', label: 'Feet Size' },\r\n  { id: 'beamSize', label: 'Beam Size' },\r\n  { id: 'deskTop', label: 'Table Top' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'akNum',\r\n          label: 'AK #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].akNum,\r\n          width: '100%',\r\n        },\r\n        {\r\n          name: 'heworkNum',\r\n          label: 'Hework #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].heworkNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'akNum',\r\n        label: 'AK #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n      {\r\n        name: 'heworkNum',\r\n        label: 'Hework #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/desk`, {\r\n        ids,\r\n        akNum: data.get('akNum'),\r\n        heworkNum: data.get('heworkNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allDesk', props)\r\n      .then((response) => {\r\n        // handle success\r\n        setDeliveries(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Desk Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, DeskStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            model: DeskStock.model,\r\n            color: DeskStock.color,\r\n            color: DeskStock.color,\r\n            armSize: DeskStock.armSize,\r\n            feetSize: DeskStock.feetSize,\r\n            beamSize: DeskStock.beamSize,\r\n            deskTop: `${\r\n              restProps.hasDeskTop\r\n                ? `${restProps.topMaterial}, ${restProps.topColor}, ${restProps.topLength}x${restProps.topWidth}x${restProps.topThickness}, ${restProps.topRoundedCorners}-R${restProps.topCornerRadius}, ${restProps.topHoleCount}-${restProps.topHoleType}`\r\n                : 'Without DeskTop'\r\n            }`,\r\n            remark: DeskStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/desk/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit AK and Hework #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Button,\r\n  Box,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Paper,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport axios from 'axios';\r\nimport { Edit as EditIcon } from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'proDeliveryDate',\r\n    label: 'Proposed Delivery Date',\r\n    sx: { paddingLeft: '10px', minWidth: 120 },\r\n  },\r\n  { id: 'orderDate', label: 'Order Date', sx: { minWidth: 100 } },\r\n  { id: 'invoiceNum', label: 'Inovice #', sx: { minWidth: 100 } },\r\n  { id: 'poNum', label: 'PO #', sx: { minWidth: 100 } },\r\n  { id: 'district', label: 'Delivery Address' },\r\n  { id: 'name', label: 'Name' },\r\n  { id: 'phone', label: 'Phone' },\r\n  { id: 'category', label: 'Category' },\r\n  { id: 'remark', label: 'Remark' },\r\n  { id: 'deliveryPDF', label: 'Note', sx: { paddingRight: '10px' } },\r\n  { id: 'edit' },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [deliveries, setDeliveries] = useState([]);\r\n  const [ids, setIDs] = useState([]);\r\n  const [formOpen, setFormOpen] = useState(false);\r\n  const [formProps, setFormProps] = useState([]);\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < deliveries.length && index >= 0) {\r\n      setIDs([deliveries[index].id]);\r\n      setFormProps([\r\n        {\r\n          name: 'poNum',\r\n          label: 'PO #',\r\n          type: 'text',\r\n          defaultValue: deliveries[index].poNum,\r\n          width: '100%',\r\n        },\r\n      ]);\r\n    }\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleBulkEditClick = (selected) => {\r\n    setIDs(selected);\r\n    setFormProps([\r\n      {\r\n        name: 'poNum',\r\n        label: 'PO #',\r\n        type: 'text',\r\n        width: '100%',\r\n      },\r\n    ]);\r\n    setFormOpen(true);\r\n  };\r\n\r\n  const handleSave = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    axios\r\n      .put(`/delivery/accessory`, {\r\n        ids,\r\n        poNum: data.get('poNum'),\r\n      })\r\n      .then((response) => {\r\n        // handle success\r\n        setFormOpen(false);\r\n        getDeliveries();\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setFormOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          html: error.response.data.message.replace('\\n', '<br />'),\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setFormOpen(true);\r\n        });\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeliveries = (props) => {\r\n    axios\r\n      .get('/delivery/allAccessory', props)\r\n      .then((response) => {\r\n        // handle success\r\n        console.log(response.data)\r\n        setDeliveries(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getDeliveries({\r\n      cancelToken: source.token,\r\n      // params: {\r\n      //   fromDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     now.setDate(now.getDate() - 10);\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      //   toDate: (() => {\r\n      //     const now = new Date();\r\n      //     now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n      //     return now.toISOString().split('T')[0];\r\n      //   })(),\r\n      // },\r\n    });\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      {/* <Paper\r\n        component=\"form\"\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const data = new FormData(e.currentTarget);\r\n          getDeliveries({\r\n            params: {\r\n              fromDate: data.get('fromDate'),\r\n              toDate: data.get('toDate'),\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'fromDate',\r\n            label: 'From Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              now.setDate(now.getDate() - 10);\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n          {\r\n            width: ['100%', '43%'],\r\n            type: 'date',\r\n            name: 'toDate',\r\n            label: 'To Date',\r\n            defaultValue: (() => {\r\n              const now = new Date();\r\n              now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\r\n              return now.toISOString().split('T')[0];\r\n            })(),\r\n            InputLabelProps: { shrink: true },\r\n          },\r\n        ].map(({ width, ...restParams }, index) => (\r\n          <TextField\r\n            key={index}\r\n            sx={{ flexBasis: width, minWidth: width }}\r\n            {...restParams}\r\n          />\r\n        ))}\r\n        <Button\r\n          type=\"submit\"\r\n          sx={{ flexBasis: ['100%', '10%'], minWidth: ['100%', '10%'] }}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Paper> */}\r\n      <DataGrid\r\n        title=\"Accessory Delivery\"\r\n        rows={deliveries.map(\r\n          ({ id, SalesOrder, AccessoryStock, ...restProps }, index) => ({\r\n            id,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(SalesOrder.createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            invoiceNum: `I-${SalesOrder.Seller.prefix}${new Date(\r\n              SalesOrder.createdAt\r\n            ).getFullYear()}-${('000' + SalesOrder.invoiceNum).substr(-3)}`,\r\n            district: SalesOrder.district,\r\n            name: SalesOrder.name,\r\n            phone: SalesOrder.phone,\r\n            email: SalesOrder.email,\r\n            category: AccessoryStock.category,\r\n            remark: AccessoryStock.reamrk,\r\n            deliveryPDF: (\r\n              <Button\r\n                variant=\"contained\"\r\n                sx={{ my: '5px', width: 100, fontSize: 10 }}\r\n                component={RouterLink}\r\n                target=\"_blank\"\r\n                to={`/deliveryPDF/accessory/${id}`}\r\n              >\r\n                Delivery Note\r\n              </Button>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleEditClick(index);\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={columns}\r\n        onBulkEditClick={handleBulkEditClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={formOpen}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: handleSave,\r\n        }}\r\n      >\r\n        <DialogTitle>Edit PO #</DialogTitle>\r\n        <DialogContent>\r\n          <Paper\r\n            sx={{\r\n              mt: '5px',\r\n              p: '10px',\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {formProps.map(({ width, ...restParams }, index) => (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restParams}\r\n              />\r\n            ))}\r\n          </Paper>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setFormOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">Save</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  DeliveryDining as DeliveryDiningIcon,\r\n  PeopleAlt as PeopleAltIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\nimport User from './User';\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\nimport { ChairDelivery, DeskDelivery, AccessoryDelivery } from './Delivery';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/admin/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/admin/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/admin/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Sales',\r\n    content: [\r\n      { to: '/admin/order', icon: <BookOnlineIcon />, label: 'Order' },\r\n      {\r\n        to: '/admin/quotation',\r\n        icon: <BookOnlineIcon />,\r\n        label: 'Quotation',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Delivery',\r\n    content: [\r\n      {\r\n        to: '/admin/delivery/chair',\r\n        icon: <DeliveryDiningIcon />,\r\n        label: 'Chair',\r\n      },\r\n      {\r\n        to: '/admin/delivery/desk',\r\n        icon: <DeliveryDiningIcon />,\r\n        label: 'Desk',\r\n      },\r\n      {\r\n        to: '/admin/delivery/accessory',\r\n        icon: <DeliveryDiningIcon />,\r\n        label: 'Accessory',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'User',\r\n    content: [{ to: '/admin/user', icon: <PeopleAltIcon />, label: 'Users' }],\r\n  },\r\n];\r\n\r\nconst Admin = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n    // props.logout();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Administrator\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n            maxWidth: '100%',\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/user`} component={User} />\r\n            <Route path={`${path}/chair/stock`} exact component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} exact component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              exact\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n            <Route\r\n              path={`${path}/delivery/chair`}\r\n              exact\r\n              component={ChairDelivery}\r\n            />\r\n            <Route\r\n              path={`${path}/delivery/desk`}\r\n              exact\r\n              component={DeskDelivery}\r\n            />\r\n            <Route\r\n              path={`${path}/delivery/accessory`}\r\n              exact\r\n              component={AccessoryDelivery}\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Admin);\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterBrand, setFilterBrand] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Brand',\r\n            value: filterBrand,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterBrand(value);\r\n              setFilterModel(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.brand)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n            },\r\n            options: features\r\n              .filter((item) => !filterBrand || item.brand === filterBrand)\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Chair Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterBrand || item.brand === filterBrand) &&\r\n              (!filterModel || item.model === filterModel)\r\n          )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 5) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField } from '@mui/material';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n    hidden: true\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterSupplier, setFilterSupplier] = useState(null);\r\n  const [filterModel, setFilterModel] = useState(null);\r\n  const [filterColor, setFilterColor] = useState(null);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        {[\r\n          {\r\n            label: 'Supplier',\r\n            value: filterSupplier,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterSupplier(value);\r\n              setFilterModel(null);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .map((item) => item.supplierCode)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Model',\r\n            value: filterModel,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterModel(value);\r\n              setFilterColor(null);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  !filterSupplier || item.supplierCode === filterSupplier\r\n              )\r\n              .map((item) => item.model)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n          {\r\n            label: 'Color',\r\n            value: filterColor,\r\n            onChange: (event, value) => {\r\n              event.preventDefault();\r\n              setFilterColor(value);\r\n            },\r\n            options: features\r\n              .filter(\r\n                (item) =>\r\n                  (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n                  (!filterModel || item.model === filterModel)\r\n              )\r\n              .map((item) => item.color)\r\n              .filter((c, index, chars) => chars.indexOf(c) === index),\r\n          },\r\n        ].map(({ label, ...props }, index) => (\r\n          <Autocomplete\r\n            key={index}\r\n            sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n            renderInput={(params) => <TextField {...params} label={label} />}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </Paper>\r\n      <CheckableMultiSelect \r\n        options={hideColumns}\r\n        onChange={onHideColumnChanged}\r\n        selected={selectedHideColumns} \r\n      />\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Desk Leg Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              {\r\n                withHeadrest,\r\n                withAdArmrest,\r\n                thumbnailURL,\r\n                shipmentDate,\r\n                arrivalDate,\r\n                ...restProps\r\n              },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n              withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )\r\n          .filter(\r\n            (item) =>\r\n              (!filterSupplier || item.supplierCode === filterSupplier) &&\r\n              (!filterModel || item.model === filterModel) &&\r\n              (!filterColor || item.color === filterColor)\r\n          )}\r\n          columns={\r\n            columns.map((column, i) => {\r\n              if (i > 5) {\r\n                if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                  return column\r\n              } else {\r\n                return column\r\n              }\r\n            }).filter(column=>column !== undefined)\r\n          }\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Autocomplete, Box, Paper, TextField, MenuItem, FormControl, Select, InputLabel,  } from '@mui/material';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst Stock = connect(mapStateToProps)((props) => {\r\n  const [stocks, setStocks] = useState([]);\r\n  const [initStocks, setInitStocks] = useState([]);\r\n  const [features, setFeatures] = useState([]);\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"All\");\r\n\r\n  const getFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setStocks(response.data);\r\n        setInitStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getFeatures(source.token);\r\n    getStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const handleFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setStocks(initStocks)\r\n    } else {\r\n      setStocks(initStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Paper\r\n        sx={{\r\n          marginTop: '10px',\r\n          padding: '5px 10px',\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          justifyContent: 'space-around',\r\n        }}\r\n      >\r\n        <FormControl\r\n          size=\"small\"\r\n          sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n        >\r\n          <InputLabel id=\"category_filter\">Category</InputLabel>\r\n          <Select\r\n            labelId=\"category_filter\"\r\n            label=\"Category\"\r\n            value={filterCategory}\r\n            onChange={handleFilterCategory}\r\n          >\r\n            <MenuItem value=\"All\">All</MenuItem>\r\n            <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n            <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n            <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n            <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n            <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Paper>\r\n      <DataGrid\r\n        nonSelect={true}\r\n        title=\"Accessory Stocks\"\r\n        rows={stocks\r\n          .map(\r\n            (\r\n              { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n              index\r\n            ) => ({\r\n              thumbnail: (\r\n                <a\r\n                  href=\"/\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    Swal.fire({\r\n                      html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                      showCloseButton: true,\r\n                      showConfirmButton: false,\r\n                      allowOutsideClick: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"\"\r\n                    width=\"80px\"\r\n                    src={thumbnailURL}\r\n                    style={{ marginTop: '5px' }}\r\n                  />\r\n                </a>\r\n              ),\r\n              shipmentDate: (() => {\r\n                if (shipmentDate === null) return 'No';\r\n                const createdTime = new Date(shipmentDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              arrivalDate: (() => {\r\n                if (arrivalDate === null) return 'No';\r\n                const createdTime = new Date(arrivalDate);\r\n                createdTime.setMinutes(\r\n                  createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n                );\r\n                return createdTime.toISOString().split('T')[0];\r\n              })(),\r\n              ...restProps,\r\n            })\r\n          )}\r\n        columns={columns}\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Stock;\r\n","import { Box, List, ListItem, ListItemText, Typography } from '@mui/material';\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n  yellow,\r\n  purple,\r\n  pink,\r\n  indigo,\r\n  orange,\r\n  lightGreen,\r\n  teal,\r\n} from '@mui/material/colors';\r\n\r\nexport const ProductList = styled(List)(({ theme }) => ({\r\n  backgroundColor: teal[600],\r\n  padding: '10px',\r\n}));\r\n\r\nexport const ProductListItem = styled(ListItem)(({ theme }) => ({\r\n  backgroundColor: teal[300],\r\n  boxShadow: `0px 2px 1px -1px rgb(0 0 0 / 20%)`,\r\n  margin: '10px 0',\r\n  flexWrap: 'wrap',\r\n}));\r\n\r\nexport const ProductListItemText = styled(ListItemText)(({ theme }) => ({\r\n  color: indigo[900],\r\n}));\r\n\r\nexport const ProductPriceAmount = ({ unitPrice, amount }) => {\r\n  return (\r\n    <Box flexBasis=\"100%\" display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\">\r\n      {[unitPrice, amount].map((item, index) => (\r\n        <Typography\r\n          key={index}\r\n          variant=\"span\"\r\n          sx={{\r\n            color: 'white',\r\n            width: 80,\r\n            whiteSpace: 'noWrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            textAlign: 'center',\r\n            backgroundColor: indigo[400],\r\n            fontSize: ['10px', '12px'],\r\n            padding: '3px 0',\r\n            margin: '3px 10px 3px 0',\r\n            flexShrink: 0,\r\n            borderRadius: '2px',\r\n          }}\r\n        >\r\n          {item}\r\n        </Typography>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControlLabel,\r\n  IconButton,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'invoiceNum',\r\n    label: 'Invoice',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'orderDate',\r\n    label: 'Order',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'isPreOrder',\r\n    label: 'PreOrder',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\n\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'PreOrder',\r\n  'Remark',\r\n  'Discount',\r\n  'SurCharge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [orderIndex, setOrderIndex] = useState(0);\r\n  const [paymentLink, setPaymentLink] = useState(\"\")\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const chairDeliveries = useRef([]);\r\n  const deskDeliveries = useRef([]);\r\n  const accessoryDeliveries = useRef([]);\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n        link: paymentLink\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < orders.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Order permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/salesOrder/${orders[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getOrders();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Orders permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/salesOrder', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getOrders();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getOrders = (cancelToken) => {\r\n    axios\r\n      .get('/salesOrder/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setOrders(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getOrders(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/order/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Order\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales Orders\"\r\n        rows={orders.map(\r\n          (\r\n            {\r\n              id,\r\n              invoiceNum, \r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              isPreOrder,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            orderDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            isPreOrder:\r\n              (!orders[index].ChairStocks.length ||\r\n                !orders[index].ChairStocks.reduce(\r\n                  (acc, cur) => cur.ChairToOrder.preOrder * acc\r\n                )) *\r\n              (!orders[index].DeskStocks.length ||\r\n                !orders[index].DeskStocks.reduce(\r\n                  (acc, cur) => cur.DeskToOrder.preOrder * acc\r\n                ))\r\n                ? 'No'\r\n                : 'Yes',\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  chairDeliveries.current = [];\r\n                  deskDeliveries.current = [];\r\n                  accessoryDeliveries.current = [];\r\n                  setOrderIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/salesOrder/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getOrders();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            invoiceNum: (\r\n              <RouterLink\r\n                to={`/invoice/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                {invoiceNum}\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/order/edit',\r\n                  state: { order: orders[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 14) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name},\\nThank you for your order! Please find here (payment link URL) for your payment.\\nOnce finished, your order will be processed accordingly.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n\r\n            <TextField\r\n              label=\"Link\"\r\n              type=\"text\"\r\n              value={paymentLink}\r\n              onChange={(e) => setPaymentLink(e.target.value)}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        open={detailOpen}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToOrder.qty}`}\r\n                    deliveryOption={`${item.ChairToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/chair/${item.ChairToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => chairDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.ChairToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.ChairToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.ChairToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.ChairToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.ChairToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={\r\n                      item.DeskToOrder.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.DeskToOrder.topMaterial}, ${item.DeskToOrder.topColor}, ${item.DeskToOrder.topLength}x${item.DeskToOrder.topWidth}x${item.DeskToOrder.topThickness}, ${item.DeskToOrder.topRoundedCorners}-R${item.DeskToOrder.topCornerRadius}, ${item.DeskToOrder.topHoleCount}-${item.DeskToOrder.topHoleType} `}\r\n                          <a\r\n                            href={item.DeskToOrder.topSketchURL}\r\n                            target=\"_blank\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToOrder.qty}`}\r\n                    deliveryOption={`${item.DeskToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/desk/${item.DeskToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => deskDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.DeskToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.DeskToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est. Delivery Date\"\r\n                        defaultValue={item.DeskToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.DeskToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.DeskToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.DeskToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n            {orderIndex < orders.length &&\r\n              orders[orderIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.category}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToOrder.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToOrder.qty}`}\r\n                    deliveryOption={`${item.AccessoryToOrder.deliveryOption}`}\r\n                  />\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    sx={{ mt: '5px' }}\r\n                    component={RouterLink}\r\n                    target=\"_blank\"\r\n                    to={`/deliveryPDF/accessory/${item.AccessoryToOrder.id}`}\r\n                  >\r\n                    Delivery Note\r\n                  </Button>\r\n                  {orders[orderIndex].paid && (\r\n                    <Paper\r\n                      ref={(ref) => accessoryDeliveries.current.push(ref)}\r\n                      component=\"form\"\r\n                      sx={{\r\n                        flexBasis: '100%',\r\n                        display: 'flex',\r\n                        flexWrap: 'wrap',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-between',\r\n                        marginTop: '10px',\r\n                        padding: '10px',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        name=\"id\"\r\n                        type=\"hidden\"\r\n                        value={item.AccessoryToOrder.id}\r\n                      />\r\n                      <TextField\r\n                        name=\"proDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Proposed Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.proDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"estDeliveryDate\"\r\n                        type=\"date\"\r\n                        label=\"Est Delivery Date\"\r\n                        defaultValue={item.AccessoryToOrder.estDeliveryDate}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{\r\n                          flexBasis: '100%',\r\n                          my: '5px',\r\n                        }}\r\n                      />\r\n                      <TextField\r\n                        name=\"from\"\r\n                        type=\"time\"\r\n                        label=\"From\"\r\n                        defaultValue={item.AccessoryToOrder.from}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <TextField\r\n                        name=\"to\"\r\n                        type=\"time\"\r\n                        label=\"To\"\r\n                        defaultValue={item.AccessoryToOrder.to}\r\n                        InputLabelProps={{ shrink: true }}\r\n                        sx={{ flexBasis: '48%', my: '5px' }}\r\n                      />\r\n                      <FormControlLabel\r\n                        key={index}\r\n                        control={\r\n                          <Checkbox\r\n                            name=\"delivered\"\r\n                            defaultChecked={item.AccessoryToOrder.delivered}\r\n                          />\r\n                        }\r\n                        label=\"Delivered\"\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              const chairToOrders = chairDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const deskToOrders = deskDeliveries.current.map((item) => ({\r\n                id: item.id.value,\r\n                proDeliveryDate: item.proDeliveryDate.value || null,\r\n                estDeliveryDate: item.estDeliveryDate.value || null,\r\n                from: item.from.value || null,\r\n                to: item.to.value || null,\r\n                delivered: item.delivered.checked,\r\n              }));\r\n              const accessoryToOrders = accessoryDeliveries.current.map(\r\n                (item) => ({\r\n                  id: item.id.value,\r\n                  proDeliveryDate: item.proDeliveryDate.value || null,\r\n                  estDeliveryDate: item.estDeliveryDate.value || null,\r\n                  from: item.from.value || null,\r\n                  to: item.to.value || null,\r\n                  delivered: item.delivered.checked,\r\n                })\r\n              );\r\n              axios\r\n                .post('/salesOrder/products', {\r\n                  chairToOrders,\r\n                  deskToOrders,\r\n                  accessoryToOrders,\r\n                })\r\n                .then(() => {\r\n                  // handle success\r\n                  getOrders();\r\n                })\r\n                .catch(function (error) {\r\n                  // handle error\r\n                  console.log(error);\r\n                })\r\n                .then(function () {\r\n                  // always executed\r\n                  setDetailOpen(false);\r\n                });\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n]\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState('Left');\r\n  const [topHoleType, setTopHoleType] = useState('Rounded');\r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Details',\r\n  ];\r\n\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState('')\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [paid, setPaid] = useState(initialClient.paid);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices ? initialServices.map(service=>Object.assign(service, {productType: 'misc'})) : []\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if ((cart.length === 0 && services.length === 0) && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value)\r\n  }\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks)\r\n    } else {\r\n      setAccessoryStocks(initAccessoryStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: '',\r\n      price: 0,\r\n      productType: 'misc'\r\n    }\r\n    setServices([...services, newService])\r\n  }\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter(service=>service.id !== serviceId)\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { description: e.target.value })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { price: parseFloat(e.target.value) })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values)\r\n  }\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={['hk']}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : 'Without DeskTop'\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor = chairStocks[index].frameColor == \"\" ? \"___\" : chairStocks[index].frameColor;\r\n                            let seatColor = chairStocks[index].seatColor == \"\" ? \"___\" : chairStocks[index].seatColor;\r\n                            let backColor = chairStocks[index].backColor == \"\" ? \"___\" : chairStocks[index].backColor;\r\n                            let remark = \"FrameColor:\" + frameColor + \", SeatColor:\" + seatColor + \", BackColor:\" + backColor;\r\n                            setProductRemark(remark)\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                  columns={\r\n                    chairColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideChairColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[{\r\n                    label: 'Supplier',\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier || item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier || item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                  columns={\r\n                    deskColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideDeskColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductRemark(accessoryStocks[index].remark)\r\n                            setProductPrice(accessoryStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button \r\n                  variant=\"contained\" \r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  { \r\n                    services.map((service) =>  \r\n                      <Grid item xs={4} key={service.id}>\r\n                        <Card sx={{ px: 2, pb: 2 }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                            <IconButton aria-label=\"settings\" size=\"small\" onClick={()=>onDeleteService(service.id)}>\r\n                              <CloseIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                          </Box>\r\n                          <TextField\r\n                            label=\"Description\"\r\n                            multiline\r\n                            rows={5}\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            value={service.description}\r\n                            onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                          />\r\n                          <TextField\r\n                            type=\"number\"\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            label=\"Price\"\r\n                            value={service.price}\r\n                            onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                          />\r\n                        </Card>  \r\n                      </Grid>\r\n                    )\r\n                  }\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products and services list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/salesOrder/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/user/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/salesOrder/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                dueDate: paymentData.get('dueDate') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/user/order');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Sub Total: {\r\n              cart.reduce((p, c)=>p+c.productAmount*parseFloat(c.productPrice), 0) + \r\n              services.reduce((p, c)=>p+c.price, 0)\r\n            }\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: '30%',\r\n              minWidth: '30%',\r\n              marginRight: 0,\r\n            }}\r\n            control={\r\n              <Checkbox\r\n                name=\"paid\"\r\n                checked={paid}\r\n                onChange={(e) => {\r\n                  setPaid(e.target.checked);\r\n                }}\r\n              />\r\n            }\r\n            label=\"Paid\"\r\n          />\r\n          <TextField\r\n            type=\"date\"\r\n            disabled={paid}\r\n            name=\"dueDate\"\r\n            label=\"Due Date\"\r\n            sx={{\r\n              flexBasis: '70%',\r\n              minWidth: '70%',\r\n            }}\r\n            defaultValue={initialClient.dueDate}\r\n            InputLabelProps={{ shrink: true }}\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: e.currentTarget.unitPrice.value,\r\n                remark: productRemark\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200 }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml:\"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={ productRemark }\r\n              sx={{ width: 400, mx:\"5px\" }}\r\n              onChange={ handleProductRemark }\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'desk' &&\r\n                  item.productDetail.id === productDetail.id\r\n              ) && !hasDeskTop\r\n            ) {\r\n              setDeskAddOpen(false);\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              })\r\n              return;\r\n            }\r\n\r\n            const data = new FormData(e.currentTarget);\r\n            let topSketchURL = '';\r\n            if (data.get('topSketchImg') && data.get('topSketchImg').name) {\r\n              const uploadData = new FormData();\r\n              uploadData.append('file', data.get('topSketchImg'));\r\n              try {\r\n                const response = await axios.post(`/upload`, uploadData, {\r\n                  headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                  },\r\n                });\r\n                topSketchURL = response.data.url;\r\n              } catch (err) {}\r\n            }\r\n            setDeskAddOpen(false);\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: Boolean(data.get('hasDeskTop'))\r\n                  ? Number(data.get('deskTotalPrice'))\r\n                  : Number(data.get('deskLegPrice')),\r\n                hasDeskTop: Boolean(data.get('hasDeskTop')) || false,\r\n                topMaterial: data.get('topMaterial') || '',\r\n                topColor: data.get('topColor') || '',\r\n                topLength: data.get('topLength') || 0,\r\n                topWidth: data.get('topWidth') || 0,\r\n                topThickness: data.get('topThickness') || 0,\r\n                topRoundedCorners: data.get('topRoundedCorners') || 0,\r\n                topCornerRadius: data.get('topCornerRadius') || 50,\r\n                topHoleCount: data.get('topHoleCount') || 0,\r\n                topHoleType: data.get('topHoleType') || '',\r\n                topHolePosition: topHolePosition || '',\r\n                remark: data.get('remark') || '',\r\n                topSketchURL: topSketchURL,\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? 'hidden' : 'visible' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            />\r\n            {[\r\n              {\r\n                name: 'topMaterial',\r\n                label: 'Material',\r\n                type: 'autocomplete',\r\n                defaultValue: 'Melamine',\r\n                options: [\r\n                  'Melamine',\r\n                  'Laminate',\r\n                  'North American Walnut',\r\n                  'South American Walnut',\r\n                  'Red Oak',\r\n                  'Maple',\r\n                  'Bamboo',\r\n                  'Melamine with glass top',\r\n                  'Toppal Plyedge'\r\n                ],\r\n                width: '65%',\r\n              },\r\n              {\r\n                name: 'topColor',\r\n                label: 'Color',\r\n                type: 'text',\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topLength',\r\n                label: 'Length',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 700,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topWidth',\r\n                label: 'Width',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 400,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topThickness',\r\n                label: 'Thickness',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 25,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topRoundedCorners',\r\n                label: 'Rounded Corners',\r\n                type: 'select',\r\n                defaultValue: 0,\r\n                options: [0, 1, 2, 3, 4],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topCornerRadius',\r\n                label: 'Corner Radius',\r\n                type: 'number',\r\n                defaultValue: 50,\r\n                inputProps: { min: 0 },\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleCount',\r\n                label: 'Number of Holes',\r\n                type: 'select',\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1)\r\n                    setTopHolePosition('Left')\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition('Left_Right')\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition('Left_Right_Center')\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleType',\r\n                label: 'Type of Holes',\r\n                type: 'select',\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: ['Rounded', 'Rectangular'],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHolePosition',\r\n                label: 'Hole Position',\r\n                type: 'select',\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options: topHoleCount === 1 ? ['Left', 'Right', 'Center'] : ['Left', 'Right', 'Center', 'Left_Right', 'Left_Right_Center'],\r\n                disabled: topHoleCount !== 1 || topHoleType !== 'Rounded',\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'remark',\r\n                label: 'Remark',\r\n                type: 'text',\r\n                width: '100%',\r\n              },\r\n              {\r\n                name: 'topSketchImg',\r\n                label: 'Sketch Image (Optional)',\r\n                type: 'file',\r\n                inputProps: {\r\n                  accept: 'image/png, image/gif, image/jpeg',\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: '100%',\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === 'suffixNumber') {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: 'baseline',\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: '10px 5px 0 0' }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === 'select') {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id={`desk-top-${name}-select-label`}>\r\n                      {label}\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId={`desk-top-${name}-select-label`}\r\n                      id={`desk-top-${name}-select`}\r\n                      name={name}\r\n                      label={label}\r\n                      size=\"small\"\r\n                      disabled={!hasDeskTop}\r\n                      {...selectParams}\r\n                    >\r\n                      {options.map((selectOption, selectOptionIndex) => (\r\n                        <MenuItem key={selectOptionIndex} value={selectOption}>\r\n                          {selectOption}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: 'auto' }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType = \"create\"\r\n      initialClient = {{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        dueDate: '',\r\n      }}\r\n      initialCart = {[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { order } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    ServiceToOrders,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = order || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return order ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart = {ChairStocks.map(({ ChairToOrder, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: {\r\n          ...restProps,\r\n        },\r\n        remark: ChairToOrder.remark,\r\n        productPrice: ChairToOrder.unitPrice,\r\n        productAmount: ChairToOrder.qty,\r\n        productDeliveryOption: ChairToOrder.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToOrder, ...restProps }) => {\r\n            const {\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToOrder;\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: restProps,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToOrder, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: {\r\n              ...restProps,\r\n            },\r\n            remark: AccessoryToOrder.remark,\r\n            productPrice: AccessoryToOrder.unitPrice,\r\n            productAmount: AccessoryToOrder.qty,\r\n            productDeliveryOption: AccessoryToOrder.deliveryOption\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToOrders}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/order\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { blue, pink, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Deck as DeckIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Email as EmailIcon,\r\n  PictureAsPdf as PictureAsPdfIcon,\r\n  WhatsApp as WhatsAppIcon,\r\n} from '@mui/icons-material';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport QRCode from 'react-qr-code';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst columns = [\r\n  {\r\n    id: 'quotationNum',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Client',\r\n  },\r\n  {\r\n    id: 'seller',\r\n    label: 'Seller',\r\n  },\r\n  {\r\n    id: 'quotationDate',\r\n    label: 'Quotation',\r\n  },\r\n  {\r\n    id: 'clientAddress',\r\n    label: 'Address',\r\n  },\r\n  {\r\n    id: 'timeLine',\r\n    label: 'TimeLine',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Remark',\r\n  },\r\n  {\r\n    id: 'discount',\r\n    label: 'Discount',\r\n  },\r\n  {\r\n    id: 'surcharge',\r\n    label: 'SurCharge',\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: 'Products',\r\n  },\r\n  {\r\n    id: 'paid',\r\n    label: 'Paid',\r\n  },\r\n  {\r\n    id: 'emailIcon',\r\n    nonSort: true,\r\n    label: 'Con',\r\n    align: 'right',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    id: 'whatsappIcon',\r\n    nonSort: true,\r\n    label: 'tact',\r\n    align: 'left',\r\n    sx: { maxWidth: 45, width: 45, paddingLeft: 0 },\r\n  },\r\n  {\r\n    id: 'edit',\r\n    nonSort: true,\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n  {\r\n    nonSort: true,\r\n    id: 'delete',\r\n    sx: { maxWidth: 45, width: 45 },\r\n  },\r\n];\r\nconst hideColumns = [\r\n  'Address',\r\n  'TimeLine',\r\n  'Remark',\r\n  'Discount',\r\n  'SurC harge',\r\n  'Products',\r\n  'Paid',\r\n  'Con',\r\n  'tact'\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n\r\n  const [quotations, setquotations] = useState([]);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [whatsAppOpen, setWhatsAppOpen] = useState(false);\r\n  const [emailOpen, setEmailOpen] = useState(false);\r\n  const [detailOpen, setDetailOpen] = useState(false);\r\n  const whatsAppMessage = useRef(null);\r\n  const emailContent = useRef(null);\r\n  const [filterAnchor, setFilterAnchor] = useState(null);\r\n\r\n  const [quotationIndex, setquotationIndex] = useState(0);\r\n\r\n  const [selectedHideColumns, setSelectedHideColumns] = useState([])\r\n\r\n  const handleFilterClick = (e) => {\r\n    e.preventDefault();\r\n    if (filterAnchor === null) setFilterAnchor(e.currentTarget);\r\n    else setFilterAnchor(null);\r\n  };\r\n\r\n  const handleWhatsAppSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('whatsapp/send', {\r\n        phone: phone,\r\n        message: whatsAppMessage.current.value,\r\n      })\r\n      .then(() => {\r\n        setWhatsAppOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setWhatsAppOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setWhatsAppOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEmailSend = (event) => {\r\n    event.preventDefault();\r\n    axios\r\n      .post('email/send', {\r\n        email: email,\r\n        message: emailContent.current.value,\r\n      })\r\n      .then(() => {\r\n        setEmailOpen(false);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        setEmailOpen(false);\r\n        Swal.fire({\r\n          icon: 'error',\r\n          title: 'Error',\r\n          text: error.response.data.message,\r\n          allowOutsideClick: false,\r\n        }).then(() => {\r\n          setEmailOpen(true);\r\n        });\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const handleEditClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n    }\r\n  };\r\n\r\n  const handleRemoveClick = (index) => {\r\n    if (index < quotations.length && index >= 0) {\r\n      Swal.fire({\r\n        title: 'Are you sure?',\r\n        text: 'This action will remove current Quotation permanently.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes, Remove!',\r\n        cancelButtonText: 'No, Keep It.',\r\n        allowOutsideClick: false,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          axios\r\n            .delete(`/quotation/${quotations[index].id}`)\r\n            .then((response) => {\r\n              // handle success\r\n              getQuotations();\r\n            })\r\n            .catch(function (error) {\r\n              // handle error\r\n              Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: error.response.data.message,\r\n                allowOutsideClick: false,\r\n              });\r\n              console.log(error);\r\n            })\r\n            .then(function () {\r\n              // always executed\r\n            });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBulkRemoveClick = (selected) => {\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'This action will remove selected Quotations permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Remove!',\r\n      cancelButtonText: 'No, Keep Them.',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        axios\r\n          .delete('/quotation', {\r\n            data: { ids: selected },\r\n          })\r\n          .then((response) => {\r\n            // handle success\r\n            getQuotations();\r\n          })\r\n          .catch(function (error) {\r\n            // handle error\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Error',\r\n              text: error.response.data.message,\r\n              allowOutsideClick: false,\r\n            });\r\n            console.log(error);\r\n          })\r\n          .then(function () {\r\n            // always executed\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const getQuotations = (cancelToken) => {\r\n    axios\r\n      .get('/quotation/current', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setquotations(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const onHideColumnChanged = (values) => {\r\n    setSelectedHideColumns(values)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getQuotations(source.token);\r\n    return () => source.cancel('Brand Component got unmounted');\r\n  }, []);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '10px 20px',\r\n      }}\r\n    >\r\n      <Button\r\n        component={RouterLink}\r\n        to=\"/user/quotation/create\"\r\n        startIcon={<AddIcon />}\r\n      >\r\n        New Quotation\r\n      </Button>\r\n      <div>\r\n        <CheckableMultiSelect \r\n          options={hideColumns}\r\n          onChange={onHideColumnChanged}\r\n          selected={selectedHideColumns} \r\n        />\r\n      </div>\r\n      <DataGrid\r\n        title=\"Sales quotations\"\r\n        rows={quotations.map(\r\n          (\r\n            {\r\n              id,\r\n              quotationNum,\r\n              district,\r\n              street,\r\n              block,\r\n              floor,\r\n              unit,\r\n              Seller,\r\n              discount,\r\n              discountType,\r\n              surcharge,\r\n              surchargeType,\r\n              createdAt,\r\n              timeLine,\r\n              paid,\r\n              ChairStocks,\r\n              DeskStocks,\r\n              AccessoryStocks,\r\n              ...restProps\r\n            },\r\n            index\r\n          ) => ({\r\n            id,\r\n            index,\r\n            seller: (Seller.firstName || '').concat(' ', Seller.lastName || ''),\r\n            timeLine:\r\n              timeLine % 7 !== 0\r\n                ? `${timeLine} day${timeLine === 1 ? '' : 's'}`\r\n                : `${timeLine / 7} week${timeLine / 7 === 1 ? '' : 's'}`,\r\n            quotationDate: (() => {\r\n              const createdTime = new Date(createdAt);\r\n              createdTime.setMinutes(\r\n                createdTime.getMinutes() - createdTime.getTimezoneOffset()\r\n              );\r\n              return createdTime.toISOString().split('T')[0];\r\n            })(),\r\n            discount: `${discount}${discountType ? ' HKD' : '%'}`,\r\n            surcharge: `${surcharge}${surchargeType ? ' HKD' : '%'}`,\r\n            clientAddress: [district, street, block, floor, unit].join(', '),\r\n            products: (\r\n              <IconButton\r\n                sx={{ my: '5px' }}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  setquotationIndex(index);\r\n                  setDetailOpen(true);\r\n                }}\r\n              >\r\n                <Badge\r\n                  badgeContent={\r\n                    ChairStocks.length +\r\n                    DeskStocks.length +\r\n                    AccessoryStocks.length\r\n                  }\r\n                  color=\"error\"\r\n                >\r\n                  <DeckIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            ),\r\n            paid: (\r\n              <Checkbox\r\n                checked={paid}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  event.preventDefault();\r\n                  axios\r\n                    .put(`/quotation/withoutStock/${id}`, {\r\n                      paid: !paid,\r\n                    })\r\n                    .then(() => {\r\n                      getQuotations();\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      Swal.fire({\r\n                        icon: 'error',\r\n                        title: 'Error',\r\n                        text: error.response.data.message,\r\n                        allowOutsideClick: false,\r\n                      });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              />\r\n            ),\r\n            quotationNum: (\r\n              <RouterLink\r\n                to={`/quotation/${id}`}\r\n                target=\"_blank\"\r\n              >\r\n                { quotationNum }\r\n              </RouterLink>\r\n            ),\r\n            emailIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  setName(restProps.name);\r\n                  setEmail(restProps.email);\r\n                  setEmailOpen(true);\r\n                }}\r\n              >\r\n                <EmailIcon />\r\n              </IconButton>\r\n            ),\r\n            whatsappIcon: (\r\n              <IconButton\r\n                onClick={() => {\r\n                  axios\r\n                    .get('whatsapp/checkauth')\r\n                    .then(() => {\r\n                      setName(restProps.name);\r\n                      setPhone(restProps.phone);\r\n                      setWhatsAppOpen(true);\r\n                    })\r\n                    .catch(function (error) {\r\n                      // handle error\r\n                      axios\r\n                        .get('whatsapp/getqr')\r\n                        .then((response) => {\r\n                          Swal.fire({\r\n                            icon: 'info',\r\n                            title:\r\n                              'Please signin with this QRCode and Click the button again.',\r\n                            html: ReactDOMServer.renderToStaticMarkup(\r\n                              <QRCode\r\n                                value={`${response.data.qrcode}`}\r\n                                level=\"H\"\r\n                              />\r\n                            ),\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .catch(function (qrerror) {\r\n                          // handle error\r\n                          Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Error',\r\n                            text: 'Unable to use WhatsApp Messaging.',\r\n                            allowOutsideClick: false,\r\n                          });\r\n                        })\r\n                        .then(function () {\r\n                          // always executed\r\n                        });\r\n                    })\r\n                    .then(function () {\r\n                      // always executed\r\n                    });\r\n                }}\r\n              >\r\n                <WhatsAppIcon />\r\n              </IconButton>\r\n            ),\r\n            edit: (\r\n              <IconButton\r\n                component={RouterLink}\r\n                to={{\r\n                  pathname: '/user/quotation/edit',\r\n                  state: { quotation: quotations[index] },\r\n                }}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            ),\r\n            delete: (\r\n              <IconButton\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n                  handleRemoveClick(index);\r\n                }}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            ),\r\n            ...restProps,\r\n          })\r\n        )}\r\n        columns={\r\n          columns.map((column, i) => {\r\n            if (i > 3 && i < 13) {\r\n              if (selectedHideColumns.find(hideColumn=>hideColumn === column.label)) \r\n                return column\r\n            } else {\r\n              return column\r\n            }\r\n          }).filter(column=>column !== undefined)\r\n        }\r\n        onEditClick={handleEditClick}\r\n        onRemoveClick={handleRemoveClick}\r\n        onBulkRemoveClick={handleBulkRemoveClick}\r\n        onFilterClick={handleFilterClick}\r\n      />\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={whatsAppOpen}\r\n      >\r\n        <DialogTitle>Send WhatsApp Message to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <MuiPhoneNumber\r\n              variant=\"outlined\"\r\n              label=\"Phone Number\"\r\n              onlyCountries={['hk']}\r\n              defaultCountry={'hk'}\r\n              value={phone}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={whatsAppMessage}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n              // onChange={(e) => {\r\n              //   setWhatsAppMessage(e.target.value);\r\n              // }}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setWhatsAppOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleWhatsAppSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        maxWidth=\"sm\"\r\n        open={emailOpen}\r\n      >\r\n        <DialogTitle>Send Email to the Client</DialogTitle>\r\n        <DialogContent>\r\n          <Stack spacing={2}>\r\n            <TextField\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              value={email}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              inputRef={emailContent}\r\n              label=\"Message\"\r\n              fullWidth\r\n              defaultValue={`Hello ${name}.`}\r\n              multiline\r\n              minRows={4}\r\n              maxRows={10}\r\n            />\r\n          </Stack>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setEmailOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleEmailSend}>Send</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        open={detailOpen}\r\n        onClose={(event) => {\r\n          event.preventDefault();\r\n          setDetailOpen(false);\r\n        }}\r\n      >\r\n        <DialogTitle>Products Details</DialogTitle>\r\n        <DialogContent>\r\n          <ProductList>\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].ChairStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Chair: ${item.brand}, ${item.model}, ${item.frameColor}, ${item.backColor}, ${item.seatColor}`}\r\n                    secondary={`${item.withHeadrest ? 'Headrest, ' : ''}${\r\n                      item.withAdArmrest ? 'Armrest' : ''\r\n                    }`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.ChairToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.ChairToQuotation.qty}`}\r\n                    deliveryOption={`${item.ChairToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].DeskStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Desk: ${item.supplierCode}, ${item.model}, ${item.color}, ${item.armSize}, ${item.feetSize}, ${item.beamSize}`}\r\n                    secondary={\r\n                      item.DeskToQuotation.hasDeskTop ? (\r\n                        <span>\r\n                          {`${item.DeskToQuotation.topMaterial}, ${item.DeskToQuotation.topColor}, ${item.DeskToQuotation.topLength}x${item.DeskToQuotation.topWidth}x${item.DeskToQuotation.topThickness}, ${item.DeskToQuotation.topRoundedCorners}-R${item.DeskToQuotation.topCornerRadius}, ${item.DeskToQuotation.topHoleCount}-${item.DeskToQuotation.topHoleType} `}\r\n                          <a\r\n                            href={item.DeskToQuotation.topSketchURL}\r\n                            target=\"_blank\"\r\n                          >\r\n                            Sketch\r\n                          </a>\r\n                        </span>\r\n                      ) : (\r\n                        'Without DeskTop'\r\n                      )\r\n                    }\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.DeskToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.DeskToQuotation.qty}`}\r\n                    deliveryOption={`${item.DeskToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n            {quotationIndex < quotations.length &&\r\n              quotations[quotationIndex].AccessoryStocks.map((item, index) => (\r\n                <ProductListItem key={index}>\r\n                  <ProductListItemText\r\n                    primary={`Accessory: ${item.category}`}\r\n                    secondary={`${item.remark}`}\r\n                  />\r\n                  <ProductPriceAmount\r\n                    unitPrice={`${item.AccessoryToQuotation.unitPrice} HKD`}\r\n                    amount={`Amount: ${item.AccessoryToQuotation.qty}`}\r\n                    deliveryOption={`${item.AccessoryToQuotation.deliveryOption}`}\r\n                  />\r\n                </ProductListItem>\r\n              ))}\r\n          </ProductList>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              setDetailOpen(false);\r\n            }}\r\n          >\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useEffect, useRef, useState, Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Autocomplete,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n  Typography,\r\n  Card,\r\n  Grid,\r\n} from '@mui/material';\r\nimport { blue, pink, purple, red, yellow } from '@mui/material/colors';\r\nimport {\r\n  Add as AddIcon,\r\n  Delete as DeleteIcon,\r\n  Remove as RemoveIcon,\r\n  Close as CloseIcon\r\n} from '@mui/icons-material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport useMediaQuery from '@mui/material/useMediaQuery';\r\nimport MuiPhoneNumber from 'material-ui-phone-number';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport DataGrid from 'components/Common/DataGrid';\r\nimport {\r\n  ProductList,\r\n  ProductListItem,\r\n  ProductListItemText,\r\n  ProductPriceAmount,\r\n} from '../ProductList';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CheckableMultiSelect from 'components/Common/MultiSelect';\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box sx={{ p: '0 10px 10px 10px' }}>{children}</Box>}\r\n    </div>\r\n  );\r\n};\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst chairColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'brand',\r\n    label: 'Brand',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'frameColor',\r\n    label: 'Frame Color',\r\n  },\r\n  {\r\n    id: 'backColor',\r\n    label: 'Back Color',\r\n  },\r\n  {\r\n    id: 'seatColor',\r\n    label: 'Seat Color',\r\n  },\r\n  {\r\n    id: 'backMaterial',\r\n    label: 'Back Material',\r\n  },\r\n  {\r\n    id: 'seatMaterial',\r\n    label: 'Seat Material',\r\n  },\r\n  {\r\n    id: 'withHeadrest',\r\n    label: 'Headrest',\r\n  },\r\n  {\r\n    id: 'withAdArmrest',\r\n    label: 'Adjustable Armrests',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideChairColumns = [\r\n  'Frame Color',\r\n  'Back Color',\r\n  'Seat Color',\r\n  'Back Material',\r\n  'Seat Material',\r\n  'Headrest',\r\n  'Adjustable Armrests',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n]\r\n\r\nconst deskColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'supplierCode',\r\n    label: 'Supplier',\r\n  },\r\n  {\r\n    id: 'model',\r\n    label: 'Model',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'color',\r\n    label: 'Color',\r\n  },\r\n  {\r\n    id: 'armSize',\r\n    label: 'Arm Size',\r\n  },\r\n  {\r\n    id: 'feetSize',\r\n    label: 'Feet Size',\r\n  },\r\n  {\r\n    id: 'beamSize',\r\n    label: 'Beam Size',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nconst hideDeskColumns = [\r\n  'Color',\r\n  'Arm Size',\r\n  'Feet Size',\r\n  'Beam Size',\r\n  'Special Remark',\r\n  'Shipment',\r\n  'Arrival'\r\n];\r\n\r\nconst accessoryColumns = [\r\n  {\r\n    id: 'add',\r\n  },\r\n  {\r\n    id: 'thumbnail',\r\n    sx: { width: 100 },\r\n    nonSort: true,\r\n  },\r\n  {\r\n    id: 'name',\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'category',\r\n    label: 'Category',\r\n  },\r\n  {\r\n    id: 'remark',\r\n    label: 'Special Remark',\r\n  },\r\n  {\r\n    id: 'unitPrice',\r\n    label: 'Price',\r\n  },\r\n  {\r\n    id: 'balance',\r\n    label: 'Balance',\r\n  },\r\n  {\r\n    id: 'qty',\r\n    label: 'QTY',\r\n  },\r\n  {\r\n    id: 'shipmentDate',\r\n    label: 'Shipment',\r\n  },\r\n  {\r\n    id: 'arrivalDate',\r\n    label: 'Arrival',\r\n  },\r\n];\r\n\r\nexport default connect(mapStateToProps)((props) => {\r\n  const theme = useTheme();\r\n  const { componentType, initialClient, initialCart, initialServices } = props;\r\n\r\n  const [topHoleCount, setTopHoleCount] = useState(0);\r\n  const [topHolePosition, setTopHolePosition] = useState('Left');\r\n  const [topHoleType, setTopHoleType] = useState('Rounded');\r\n  \r\n\r\n  const steps = [\r\n    'Input Client Info',\r\n    'Select Products',\r\n    'Input Payment Details',\r\n  ];\r\n  const clientForm = useRef(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [deskAddOpen, setDeskAddOpen] = useState(false);\r\n  const [hasDeskTop, setHasDeskTop] = useState(false);\r\n  const [productType, setProductType] = useState('chair');\r\n  const [productDetail, setProductDetail] = useState('');\r\n  const [productPrice, setProductPrice] = useState(1000);\r\n  const [productAmount, setProductAmount] = useState(0);\r\n  const [productRemark, setProductRemark] = useState('')\r\n  const [cart, setCart] = useState(initialCart);\r\n\r\n  const [chairStocks, setChairStocks] = useState([]);\r\n  const [deskStocks, setDeskStocks] = useState([]);\r\n  const [accessoryStocks, setAccessoryStocks] = useState([]);\r\n  const [initAccessoryStocks, setInitAccessoryStocks] = useState([]);\r\n  const [stocksIndex, setStocksIndex] = useState(0);\r\n\r\n  const [chairFeatures, setChairFeatures] = useState([]);\r\n  const [deskFeatures, setDeskFeatures] = useState([]);\r\n  const [accessoryFeatures, setAccessoryFeatures] = useState([]);\r\n\r\n  const [chairFilterBrand, setChairFilterBrand] = useState(null);\r\n  const [chairFilterModel, setChairFilterModel] = useState(null);\r\n  const [deskFilterSupplier, setDeskFilterSupplier] = useState(null);\r\n  const [deskFilterModel, setDeskFilterModel] = useState(null);\r\n  const [deskFilterColor, setDeskFilterColor] = useState(null);\r\n  const [accessoryFilterCategory, setAccessoryFilterCategory] = useState(\"All\");\r\n\r\n  let initServices = initialServices ? initialServices.map(service=>Object.assign(service, {productType: 'misc'})) : []\r\n  const [services, setServices] = useState(initServices);\r\n\r\n  const [selectedHideChairColumns, setSelectedHideChairColumns] = useState([]);\r\n  const [selectedHideDeskColumns, setSelectedHideDeskColumns] = useState([]);\r\n\r\n  const getChairFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryFeatures = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock/features', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryFeatures(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getChairStocks = (cancelToken) => {\r\n    axios\r\n      .get('/chairStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setChairStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getDeskStocks = (cancelToken) => {\r\n    axios\r\n      .get('/deskStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setDeskStocks(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  const getAccessoryStocks = (cancelToken) => {\r\n    axios\r\n      .get('/accessoryStock', { cancelToken })\r\n      .then((response) => {\r\n        // handle success\r\n        setAccessoryStocks(response.data);\r\n        setInitAccessoryStocks(response.data)\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      })\r\n      .then(function () {\r\n        // always executed\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const source = axios.CancelToken.source();\r\n    getChairFeatures(source.token);\r\n    getDeskFeatures(source.token);\r\n    getAccessoryFeatures(source.token);\r\n    getChairStocks(source.token);\r\n    getDeskStocks(source.token);\r\n    getAccessoryStocks(source.token);\r\n    return () => source.cancel('Stock Component got unmounted');\r\n  }, []);\r\n\r\n  const isStepFailed = (step) => {\r\n    if (clientForm.current !== null && currentStep > 0 && step === 0)\r\n      return !clientForm.current.checkValidity();\r\n    else if ((cart.length === 0 && services.length === 0) && currentStep > 1 && step === 1) return true;\r\n    else return false;\r\n  };\r\n\r\n  const handleProductRemark = (e) => {\r\n    setProductRemark(e.target.value)\r\n  }\r\n\r\n  const handleAccessoryFilterCategory = (e) => {\r\n    var selected_category = e.target.value;\r\n    setAccessoryFilterCategory(selected_category)\r\n    if (selected_category === \"All\") {\r\n      setAccessoryStocks(initAccessoryStocks)\r\n    } else {\r\n      setAccessoryStocks(initAccessoryStocks.filter((stock)=>stock.category === selected_category));\r\n    }\r\n  }\r\n\r\n  const onAddService = () => {\r\n    const newService = {\r\n      id: uuidv4(),\r\n      description: '',\r\n      price: 0,\r\n      productType: 'misc'\r\n    }\r\n    setServices([...services, newService])\r\n  }\r\n\r\n  const onDeleteService = (serviceId) => {\r\n    const newServices = services.filter(service=>service.id !== serviceId)\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServiceDes = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { description: e.target.value })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onChangeServicePrice = (e, serviceId) => {\r\n    const newServices = services.map(service => {\r\n      if (service.id === serviceId) {\r\n          return Object.assign({}, service, { price: parseFloat(e.target.value) })\r\n      }\r\n      return service\r\n    })\r\n    setServices(newServices)\r\n  }\r\n\r\n  const onHideChairColumnChanged = (values) => {\r\n    setSelectedHideChairColumns(values)\r\n  }\r\n\r\n  const onHideDeskColumnChanged = (values) => {\r\n    setSelectedHideDeskColumns(values)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100%',\r\n        overflow: 'auto',\r\n        padding: '20px 20px 10px 20px',\r\n      }}\r\n    >\r\n      <Stepper activeStep={currentStep} sx={{ flexWrap: 'wrap' }}>\r\n        {steps.map((label, index) => {\r\n          const labelProps = {};\r\n          if (isStepFailed(index)) {\r\n            labelProps.optional = (\r\n              <Typography variant=\"caption\" color=\"error\">\r\n                {['Invalid Input', 'Products cannot be empty'][index]}\r\n              </Typography>\r\n            );\r\n\r\n            labelProps.error = true;\r\n          }\r\n\r\n          return (\r\n            <Step key={label} sx={{ my: '10px' }}>\r\n              <StepLabel {...labelProps}>{label}</StepLabel>\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        ref={clientForm}\r\n        hidden={currentStep !== 0}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          setCurrentStep(1);\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Client Info\r\n          </Typography>\r\n          {[\r\n            {\r\n              name: 'name',\r\n              label: 'Name',\r\n              type: 'text',\r\n              defaultValue: initialClient.name,\r\n              width: '100%',\r\n              required: true,\r\n            },\r\n            {\r\n              name: 'phone',\r\n              label: 'Phone',\r\n              type: 'text',\r\n              value: initialClient.phone,\r\n              onChange: initialClient.setPhone,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'email',\r\n              label: 'Email',\r\n              type: 'email',\r\n              defaultValue: initialClient.email,\r\n              width: '48%',\r\n            },\r\n            {\r\n              name: 'district',\r\n              label: 'District',\r\n              type: 'text',\r\n              defaultValue: initialClient.district,\r\n              width: '55%',\r\n            },\r\n            {\r\n              name: 'street',\r\n              label: 'Street',\r\n              type: 'text',\r\n              defaultValue: initialClient.street,\r\n              width: '40%',\r\n            },\r\n            {\r\n              name: 'block',\r\n              label: 'Block',\r\n              type: 'text',\r\n              defaultValue: initialClient.block,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'floor',\r\n              label: 'Floor',\r\n              type: 'text',\r\n              defaultValue: initialClient.floor,\r\n              width: '30%',\r\n            },\r\n            {\r\n              name: 'unit',\r\n              label: 'Unit',\r\n              type: 'text',\r\n              defaultValue: initialClient.unit,\r\n              width: '30%',\r\n            },\r\n          ].map(({ setValue, width, ...restProps }, index) =>\r\n            restProps.label === 'Phone' ? (\r\n              <MuiPhoneNumber\r\n                key={index}\r\n                variant=\"outlined\"\r\n                onlyCountries={['hk']}\r\n                defaultCountry={'hk'}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                {...restProps}\r\n              />\r\n            ) : (\r\n              <TextField\r\n                key={index}\r\n                sx={{ flexBasis: width, minWidth: width }}\r\n                {...restProps}\r\n              />\r\n            )\r\n          )}\r\n          <TextField\r\n            sx={{ flexBasis: ['100%', '30%'], minWidth: ['100%', '30%'] }}\r\n            name=\"timeLine\"\r\n            label=\"TimeLine\"\r\n            type=\"number\"\r\n            inputProps={{ min: 0 }}\r\n            defaultValue={initialClient.timeLine || 0}\r\n          />\r\n          <RadioGroup\r\n            row\r\n            name=\"timeLineFormat\"\r\n            defaultValue=\"day\"\r\n            sx={{\r\n              flexBasis: ['100%', '70%'],\r\n              minWidth: ['100%', '70%'],\r\n              justifyContent: 'flex-end',\r\n            }}\r\n          >\r\n            <FormControlLabel value=\"day\" control={<Radio />} label=\"Days\" />\r\n            <FormControlLabel value=\"week\" control={<Radio />} label=\"Weeks\" />\r\n          </RadioGroup>\r\n        </Paper>\r\n        <Button type=\"submit\" sx={{ marginTop: '10px', float: 'right' }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n      {currentStep === 1 && (\r\n        <>\r\n          {cart.length > 0 && (\r\n            <Paper>\r\n              <ProductList sx={{ px: '10px' }}>\r\n                {cart.map((item, index) => (\r\n                  <ProductListItem\r\n                    key={index}\r\n                    secondaryAction={\r\n                      <IconButton\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          setCart(\r\n                            cart.filter(\r\n                              (product, productIndex) => productIndex !== index\r\n                            )\r\n                          );\r\n                        }}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    }\r\n                  >\r\n                    {item.productType === 'chair' && (\r\n                      <ProductListItemText\r\n                        primary={`Chair: ${item.productDetail.brand}, ${item.productDetail.model}, ${item.remark}`}\r\n                        secondary={`${\r\n                          item.productDetail.withHeadrest ? 'Headrest, ' : ''\r\n                        }${item.productDetail.withAdArmrest ? 'Armrest' : ''}`}\r\n                      />\r\n                    )}\r\n                    {item.productType === 'desk' && (\r\n                      <ProductListItemText\r\n                        primary={`Desk: ${item.productDetail.supplierCode}, ${item.productDetail.model}, ${item.productDetail.color}, ${item.productDetail.armSize}, ${item.productDetail.feetSize}, ${item.productDetail.beamSize}`}\r\n                        secondary={\r\n                          item.hasDeskTop\r\n                            ? `${item.topMaterial}, ${item.topColor}, ${item.topLength}x${item.topWidth}x${item.topThickness}, ${item.topRoundedCorners}-R${item.topCornerRadius}, ${item.topHoleCount}-${item.topHoleType}`\r\n                            : 'Without DeskTop'\r\n                        }\r\n                      />\r\n                    )}\r\n                    {item.productType === 'accessory' && (\r\n                      <ProductListItemText\r\n                        primary={`Accessory: ${item.productDetail.category}`}\r\n                        secondary={`${item.remark}`}\r\n                      />\r\n                    )}\r\n                    <ProductPriceAmount\r\n                      unitPrice={`${item.productPrice} HKD`}\r\n                      amount={`Amount: ${item.productAmount}`}\r\n                      deliveryOption={`${item.productDeliveryOption}`}\r\n                    />\r\n                  </ProductListItem>\r\n                ))}\r\n              </ProductList>\r\n            </Paper>\r\n          )}\r\n          <Paper sx={{ my: '10px' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs\r\n                value={stocksIndex}\r\n                onChange={(event, value) => {\r\n                  event.preventDefault();\r\n                  setStocksIndex(value);\r\n                }}\r\n                aria-label=\"basic tabs example\"\r\n              >\r\n                <Tab label=\"Chairs\" />\r\n                <Tab label=\"Desks\" />\r\n                <Tab label=\"Accessories\" />\r\n                <Tab label=\"Miscs\" />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={stocksIndex} index={0}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[\r\n                  {\r\n                    label: 'Brand',\r\n                    value: chairFilterBrand,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterBrand(value);\r\n                      setChairFilterModel(null);\r\n                    },\r\n                    options: chairFeatures\r\n                      .map((item) => item.brand)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: chairFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setChairFilterModel(value);\r\n                    },\r\n                    options: chairFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !chairFilterBrand || item.brand === chairFilterBrand\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideChairColumns}\r\n                onChange={onHideChairColumnChanged}\r\n                selected={selectedHideChairColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Chair Stocks\"\r\n                rows={chairStocks\r\n                  .map(\r\n                    (\r\n                      {\r\n                        thumbnailURL,\r\n                        withHeadrest,\r\n                        withAdArmrest,\r\n                        shipmentDate,\r\n                        arrivalDate,\r\n                        ...restProps\r\n                      },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      withHeadrest: withHeadrest ? 'Yes' : 'No',\r\n                      withAdArmrest: withAdArmrest ? 'Yes' : 'No',\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'chair' &&\r\n                                  item.productDetail.id ===\r\n                                    chairStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setProductType('chair');\r\n                            setProductDetail(chairStocks[index]);\r\n                            let frameColor = chairStocks[index].frameColor == \"\" ? \"___\" : chairStocks[index].frameColor;\r\n                            let seatColor = chairStocks[index].seatColor == \"\" ? \"___\" : chairStocks[index].seatColor;\r\n                            let backColor = chairStocks[index].backColor == \"\" ? \"___\" : chairStocks[index].backColor;\r\n                            let remark = \"FrameColor:\" + frameColor + \", SeatColor:\" + seatColor + \", BackColor:\" + backColor;\r\n                            setProductRemark(remark)\r\n                            setProductPrice(chairStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!chairFilterBrand || item.brand === chairFilterBrand) &&\r\n                      (!chairFilterModel || item.model === chairFilterModel)\r\n                  )}\r\n                  columns={\r\n                    chairColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideChairColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={1}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                {[{\r\n                    label: 'Supplier',\r\n                    value: deskFilterSupplier,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterSupplier(value);\r\n                      setDeskFilterModel(null);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .map((item) => item.supplierCode)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Model',\r\n                    value: deskFilterModel,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterModel(value);\r\n                      setDeskFilterColor(null);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterSupplier || item.supplierCode === deskFilterSupplier\r\n                      )\r\n                      .map((item) => item.model)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                  {\r\n                    label: 'Color',\r\n                    value: deskFilterColor,\r\n                    onChange: (event, value) => {\r\n                      event.preventDefault();\r\n                      setDeskFilterColor(value);\r\n                    },\r\n                    options: deskFeatures\r\n                      .filter(\r\n                        (item) =>\r\n                          !deskFilterModel || item.model === deskFilterModel\r\n                      )\r\n                      .map((item) => item.color)\r\n                      .filter((c, index, chars) => chars.indexOf(c) === index),\r\n                  },\r\n                ].map(({ label, ...props }, index) => (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} label={label} />\r\n                    )}\r\n                    {...props}\r\n                  />\r\n                ))}\r\n              </Paper>\r\n              <CheckableMultiSelect \r\n                options={hideDeskColumns}\r\n                onChange={onHideDeskColumnChanged}\r\n                selected={selectedHideDeskColumns} \r\n              />\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Desk Leg Stocks\"\r\n                rows={deskStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n\r\n                            setProductType('desk');\r\n                            setProductDetail(deskStocks[index]);\r\n                            setProductPrice(deskStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            setHasDeskTop(false);\r\n                            setDeskAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )\r\n                  .filter(\r\n                    (item) =>\r\n                      (!deskFilterSupplier || item.supplierCode === deskFilterSupplier) &&\r\n                      (!deskFilterModel || item.model === deskFilterModel) &&\r\n                      (!deskFilterColor || item.color === deskFilterColor)\r\n                  )}\r\n                  columns={\r\n                    deskColumns.map((column, i) => {\r\n                      if (i > 6) {\r\n                        if (selectedHideDeskColumns.find(hideColumn=>hideColumn === column.label)) \r\n                          return column\r\n                      } else {\r\n                        return column\r\n                      }\r\n                    }).filter(column=>column !== undefined)\r\n                  }\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={2}>\r\n              <Paper\r\n                sx={{\r\n                  marginTop: '10px',\r\n                  padding: '5px 10px',\r\n                  display: 'flex',\r\n                  flexWrap: 'wrap',\r\n                  justifyContent: 'space-around',\r\n                }}\r\n              >\r\n                <FormControl\r\n                  size=\"small\"\r\n                  sx={{ flexBasis: '200px', maxWidth: '200px' }}\r\n                >\r\n                  <InputLabel id=\"category_filter\">Category</InputLabel>\r\n                  <Select\r\n                    labelId=\"category_filter\"\r\n                    label=\"Category\"\r\n                    value={accessoryFilterCategory}\r\n                    onChange={handleAccessoryFilterCategory}\r\n                  >\r\n                    <MenuItem value=\"All\">All</MenuItem>\r\n                    <MenuItem value=\"Desk Accessories\">Desk Accessories</MenuItem>\r\n                    <MenuItem value=\"Chair Accessories\">Chair Accessories</MenuItem>\r\n                    <MenuItem value=\"Desk on Desk\">Desk on Desk</MenuItem>\r\n                    <MenuItem value=\"Monitor Arms\">Monitor Arms</MenuItem>\r\n                    <MenuItem value=\"Cabinet\">Cabinet</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Paper>\r\n              <DataGrid\r\n                nonSelect={true}\r\n                title=\"Accessory Stocks\"\r\n                rows={accessoryStocks\r\n                  .map(\r\n                    (\r\n                      { thumbnailURL, shipmentDate, arrivalDate, ...restProps },\r\n                      index\r\n                    ) => ({\r\n                      thumbnail: (\r\n                        <a\r\n                          href=\"/\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            Swal.fire({\r\n                              html: `<img alt=\"\" width=\"400px\" src=\"${thumbnailURL}\" />`,\r\n                              showCloseButton: true,\r\n                              showConfirmButton: false,\r\n                              allowOutsideClick: false,\r\n                            });\r\n                          }}\r\n                        >\r\n                          <img\r\n                            alt=\"\"\r\n                            width=\"80px\"\r\n                            src={thumbnailURL}\r\n                            style={{ marginTop: '5px' }}\r\n                          />\r\n                        </a>\r\n                      ),\r\n                      add: (\r\n                        <IconButton\r\n                          onClick={(event) => {\r\n                            event.preventDefault();\r\n                            setProductType('accessory');\r\n                            setProductDetail(accessoryStocks[index]);\r\n                            setProductRemark(accessoryStocks[index].remark)\r\n                            setProductPrice(accessoryStocks[index].unitPrice);\r\n                            setProductAmount(1);\r\n                            if (\r\n                              cart.find(\r\n                                (item) =>\r\n                                  item.productType === 'accessory' &&\r\n                                  item.productDetail.id ===\r\n                                    accessoryStocks[index].id\r\n                              )\r\n                            ) {\r\n                              Swal.fire({\r\n                                icon: 'warning',\r\n                                title: 'Warning',\r\n                                text: 'This product is already added.',\r\n                                allowOutsideClick: false,\r\n                              });\r\n                              return;\r\n                            }\r\n                            setAddOpen(true);\r\n                          }}\r\n                        >\r\n                          <AddIcon />\r\n                        </IconButton>\r\n                      ),\r\n                      shipmentDate: (() => {\r\n                        if (shipmentDate === null) return 'No';\r\n                        const createdTime = new Date(shipmentDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      arrivalDate: (() => {\r\n                        if (arrivalDate === null) return 'No';\r\n                        const createdTime = new Date(arrivalDate);\r\n                        createdTime.setMinutes(\r\n                          createdTime.getMinutes() -\r\n                            createdTime.getTimezoneOffset()\r\n                        );\r\n                        return createdTime.toISOString().split('T')[0];\r\n                      })(),\r\n                      ...restProps,\r\n                    })\r\n                  )}\r\n                columns={accessoryColumns}\r\n              />\r\n            </TabPanel>\r\n            <TabPanel value={stocksIndex} index={3}>\r\n              <Box sx={{ m: 3 }}>\r\n                <Button \r\n                  variant=\"contained\" \r\n                  sx={{ mb: 2 }}\r\n                  onClick={onAddService}\r\n                >\r\n                  + New Service\r\n                </Button>\r\n                <Grid container spacing={2}>\r\n                  { \r\n                    services.map((service) =>  \r\n                      <Grid item xs={4} key={service.id}>\r\n                        <Card sx={{ px: 2, pb: 2 }}>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                            <IconButton aria-label=\"settings\" size=\"small\" onClick={()=>onDeleteService(service.id)}>\r\n                              <CloseIcon fontSize=\"small\"/>\r\n                            </IconButton>\r\n                          </Box>\r\n                          <TextField\r\n                            label=\"Description\"\r\n                            multiline\r\n                            rows={5}\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            value={service.description}\r\n                            onChange={(e) => onChangeServiceDes(e, service.id)}\r\n                          />\r\n                          <TextField\r\n                            type=\"number\"\r\n                            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n                            label=\"Price\"\r\n                            value={service.price}\r\n                            onChange={(e) => onChangeServicePrice(e, service.id)}\r\n                          />\r\n                        </Card>  \r\n                      </Grid>\r\n                    )\r\n                  }\r\n                </Grid>\r\n              </Box>\r\n            </TabPanel>\r\n          </Paper>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setCurrentStep(0);\r\n            }}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            sx={{ float: 'right' }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              if (cart.length === 0 && services.length === 0) {\r\n                Swal.fire({\r\n                  icon: 'warning',\r\n                  title: 'Warning',\r\n                  text: 'Products and services list cannot be empty',\r\n                  allowOutsideClick: false,\r\n                });\r\n                return;\r\n              }\r\n              setCurrentStep(2);\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </>\r\n      )}\r\n      <Box\r\n        sx={{ mx: 'auto', mt: '50px' }}\r\n        hidden={currentStep !== 2}\r\n        component=\"form\"\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const clientData = new FormData(clientForm.current);\r\n          const paymentData = new FormData(e.currentTarget);\r\n          if (componentType === 'create')\r\n            axios\r\n              .post(`/quotation/create`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  Math.max(clientData.get('timeLine'), 0) *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                validTil: paymentData.get('validTil') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/user/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          else {\r\n            axios\r\n              .put(`/quotation/${initialClient.id}`, {\r\n                name: clientData.get('name'),\r\n                phone: clientData.get('phone'),\r\n                email: clientData.get('email'),\r\n                district: clientData.get('district'),\r\n                street: clientData.get('street'),\r\n                block: clientData.get('block'),\r\n                floor: clientData.get('floor'),\r\n                unit: clientData.get('unit'),\r\n                timeLine:\r\n                  clientData.get('timeLine') *\r\n                  (clientData.get('timeLineFormat') === 'day' ? 1 : 7),\r\n                remark: \"\",\r\n                products: cart.map(({ productDetail, ...restProps }) => ({\r\n                  productId: productDetail.id,\r\n                  ...restProps,\r\n                })).concat(services),\r\n                paymentTerms: paymentData.get('paymentTerms'),\r\n                paid: Boolean(paymentData.get('paid')),\r\n                validTil: paymentData.get('validTil') || null,\r\n                discount: Math.max(\r\n                  paymentData.get('discountType') > 0\r\n                    ? paymentData.get('discount')\r\n                    : Math.min(paymentData.get('discount'), 100),\r\n                  0\r\n                ),\r\n                discountType: paymentData.get('discountType'),\r\n                surcharge: Math.max(\r\n                  paymentData.get('surchargeType') > 0\r\n                    ? paymentData.get('surcharge')\r\n                    : Math.min(paymentData.get('surcharge'), 100),\r\n                  0\r\n                ),\r\n                surchargeType: paymentData.get('surchargeType'),\r\n              })\r\n              .then(() => {\r\n                // handle success\r\n                props.history.push('/user/quotation');\r\n              })\r\n              .catch(function (error) {\r\n                // handle error\r\n                Swal.fire({\r\n                  icon: 'error',\r\n                  title: 'Error',\r\n                  text: error.response.data.message,\r\n                  allowOutsideClick: false,\r\n                }).then(() => {});\r\n                console.log(error);\r\n              })\r\n              .then(function () {\r\n                // always executed\r\n              });\r\n          }\r\n        }}\r\n      >\r\n        <Paper\r\n          sx={{\r\n            p: '10px',\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <Typography variant=\"h6\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Payment Details\r\n          </Typography>\r\n          <Typography variant=\"h7\" sx={{ flexBasis: '100%', minWidth: '100%' }}>\r\n            Sub Total: {\r\n              cart.reduce((p, c)=>p+c.productAmount*parseFloat(c.productPrice), 0) +\r\n              services.reduce((p, c)=>p+c.price, 0)\r\n            }\r\n          </Typography>\r\n          <TextField\r\n            name=\"paymentTerms\"\r\n            size=\"small\"\r\n            sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            defaultValue={initialClient.paymentTerms}\r\n            label=\"Payment Terms\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{\r\n              flexBasis: '100%',\r\n              minWidth: '100%',\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            control={\r\n              <TextField\r\n                type=\"number\"\r\n                name=\"validTil\"\r\n                label=\"Valid Til\"\r\n                inputProps={{\r\n                  max: 10,\r\n                  min: 0,\r\n                }}\r\n                defaultValue={initialClient.validTil}\r\n                InputLabelProps={{ shrink: true }}\r\n                fullWidth\r\n                sx={{ m: '10px 5px 10px 0' }}\r\n              />\r\n            }\r\n            label=\"month(s)\"\r\n          />\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            label=\"Discount\"\r\n            type=\"number\"\r\n            name=\"discount\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.discount}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              m: 0,\r\n            }}\r\n            name=\"discountType\"\r\n            defaultValue={initialClient.discountType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n          <TextField\r\n            sx={{\r\n              flexBasis: ['58%', '68%'],\r\n              minWidth: ['58%', '68%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            label=\"Surcharge\"\r\n            type=\"number\"\r\n            name=\"surcharge\"\r\n            inputProps={{\r\n              min: 0,\r\n            }}\r\n            defaultValue={initialClient.surcharge}\r\n            fullWidth\r\n          />\r\n          <Select\r\n            sx={{\r\n              flexBasis: ['40%', '30%'],\r\n              minWidth: ['40%', '30%'],\r\n              alignItems: 'baseline',\r\n              mt: '10px',\r\n              mb: 0,\r\n            }}\r\n            name=\"surchargeType\"\r\n            defaultValue={initialClient.surchargeType}\r\n          >\r\n            <MenuItem value={0}>%</MenuItem>\r\n            <MenuItem value={1}>HKD</MenuItem>\r\n          </Select>\r\n        </Paper>\r\n        <Button\r\n          sx={{ marginTop: '10px' }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setCurrentStep(1);\r\n          }}\r\n        >\r\n          Previous\r\n        </Button>\r\n        <Button sx={{ float: 'right', marginTop: '10px' }} type=\"submit\">\r\n          Finish\r\n        </Button>\r\n      </Box>\r\n      <Dialog\r\n        open={addOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const data = new FormData(e.currentTarget);\r\n            setAddOpen(false);\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === productType &&\r\n                  item.productDetail.id === productDetail.id\r\n              )\r\n            ) {\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              });\r\n              return;\r\n            }\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: e.currentTarget.unitPrice.value,\r\n                remark: productRemark\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Unit Price\"\r\n            type=\"number\"\r\n            name=\"unitPrice\"\r\n            // inputProps={{ readOnly: true }}\r\n            value={productPrice}\r\n            sx={{ width: '200px' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" sx={{ ml:\"10px\" }}>\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              my: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <TextField\r\n              label=\"Remark\"\r\n              name=\"remark\"\r\n              value={ productRemark }\r\n              sx={{ width: 400, mx:\"5px\" }}\r\n              onChange={ handleProductRemark }\r\n            />\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              setAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog\r\n        open={deskAddOpen}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        fullScreen={useMediaQuery(theme.breakpoints.down('sm'))}\r\n        PaperProps={{\r\n          component: 'form',\r\n          onSubmit: async (e) => {\r\n            e.preventDefault();\r\n\r\n            if (\r\n              cart.find(\r\n                (item) =>\r\n                  item.productType === 'desk' &&\r\n                  item.productDetail.id === productDetail.id\r\n              ) && !hasDeskTop\r\n            ) {\r\n              setDeskAddOpen(false);\r\n              Swal.fire({\r\n                icon: 'warning',\r\n                title: 'Warning',\r\n                text: 'This product is already added.',\r\n                allowOutsideClick: false,\r\n              })\r\n              return;\r\n            }\r\n\r\n            const data = new FormData(e.currentTarget);\r\n            let topSketchURL = '';\r\n            if (data.get('topSketchImg') && data.get('topSketchImg').name) {\r\n              const uploadData = new FormData();\r\n              uploadData.append('file', data.get('topSketchImg'));\r\n              try {\r\n                const response = await axios.post(`/upload`, uploadData, {\r\n                  headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                  },\r\n                });\r\n                topSketchURL = response.data.url;\r\n              } catch (err) {}\r\n            }\r\n            setDeskAddOpen(false);\r\n            setCart(\r\n              cart.concat({\r\n                productType,\r\n                productDetail,\r\n                productAmount,\r\n                productDeliveryOption: JSON.stringify(\r\n                  [\r\n                    'Delivery Included',\r\n                    'Delivery and installation included',\r\n                    'Remote Area Surcharge',\r\n                    'Stairs Surcharge',\r\n                  ].filter((item, index) =>\r\n                    Boolean(data.get(`deliveryOption_${index}`))\r\n                  )\r\n                ),\r\n                productPrice: Boolean(data.get('hasDeskTop'))\r\n                  ? Number(data.get('deskTotalPrice'))\r\n                  : Number(data.get('deskLegPrice')),\r\n                hasDeskTop: Boolean(data.get('hasDeskTop')) || false,\r\n                topMaterial: data.get('topMaterial') || '',\r\n                topColor: data.get('topColor') || '',\r\n                topLength: data.get('topLength') || 0,\r\n                topWidth: data.get('topWidth') || 0,\r\n                topThickness: data.get('topThickness') || 0,\r\n                topRoundedCorners: data.get('topRoundedCorners') || 0,\r\n                topCornerRadius: data.get('topCornerRadius') || 50,\r\n                topHoleCount: data.get('topHoleCount') || 0,\r\n                topHoleType: data.get('topHoleType') || '',\r\n                topHolePosition: topHolePosition || '',\r\n                remark: data.get('remark') || '',\r\n                topSketchURL: topSketchURL,\r\n              })\r\n            );\r\n          },\r\n        }}\r\n      >\r\n        <DialogTitle>Price and Amount</DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center' }}>\r\n          <TextField\r\n            label=\"Desk Leg Price\"\r\n            type=\"number\"\r\n            name=\"deskLegPrice\"\r\n            value={productPrice}\r\n            sx={{ width: 200, visibility: hasDeskTop ? 'hidden' : 'visible' }}\r\n            InputProps={{\r\n              readOnly: true,\r\n              endAdornment: <InputAdornment position=\"end\">HKD</InputAdornment>,\r\n            }}\r\n          />\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  name=\"hasDeskTop\"\r\n                  checked={hasDeskTop}\r\n                  onChange={(e) => {\r\n                    setHasDeskTop(e.currentTarget.checked);\r\n                  }}\r\n                />\r\n              }\r\n              label=\"with Table Top\"\r\n              sx={{ flexBasis: '100%', minWidth: '100%' }}\r\n            />\r\n            {[\r\n              {\r\n                name: 'topMaterial',\r\n                label: 'Material',\r\n                type: 'autocomplete',\r\n                defaultValue: 'Melamine',\r\n                options: [\r\n                  'Melamine',\r\n                  'Laminate',\r\n                  'North American Walnut',\r\n                  'South American Walnut',\r\n                  'Red Oak',\r\n                  'Maple',\r\n                  'Bamboo',\r\n                  'Melamine with glass top',\r\n                  'Toppal Plyedge'\r\n                ],\r\n                width: '65%',\r\n              },\r\n              {\r\n                name: 'topColor',\r\n                label: 'Color',\r\n                type: 'text',\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topLength',\r\n                label: 'Length',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 700,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topWidth',\r\n                label: 'Width',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 400,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topThickness',\r\n                label: 'Thickness',\r\n                type: 'suffixNumber',\r\n                suffix: 'mm',\r\n                defaultValue: 25,\r\n                inputProps: { min: 0 },\r\n                width: '30%',\r\n              },\r\n              {\r\n                name: 'topRoundedCorners',\r\n                label: 'Rounded Corners',\r\n                type: 'select',\r\n                defaultValue: 0,\r\n                options: [0, 1, 2, 3, 4],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topCornerRadius',\r\n                label: 'Corner Radius',\r\n                type: 'number',\r\n                defaultValue: 50,\r\n                inputProps: { min: 0 },\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleCount',\r\n                label: 'Number of Holes',\r\n                type: 'select',\r\n                value: topHoleCount,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleCount(e.target.value);\r\n                  if (e.target.value == 1)\r\n                    setTopHolePosition('Left')\r\n                  else if (e.target.value == 2)\r\n                    setTopHolePosition('Left_Right')\r\n                  else if (e.target.value == 3)\r\n                    setTopHolePosition('Left_Right_Center')\r\n                },\r\n                options: [0, 1, 2, 3],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHoleType',\r\n                label: 'Type of Holes',\r\n                type: 'select',\r\n                value: topHoleType,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHoleType(e.target.value);\r\n                },\r\n                options: ['Rounded', 'Rectangular'],\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'topHolePosition',\r\n                label: 'Hole Position',\r\n                type: 'select',\r\n                value: topHolePosition,\r\n                onChange: (e) => {\r\n                  e.preventDefault();\r\n                  setTopHolePosition(e.target.value);\r\n                },\r\n                options: topHoleCount === 1 ? ['Left', 'Right', 'Center'] : ['Left', 'Right', 'Center', 'Left_Right', 'Left_Right_Center'],\r\n                disabled: topHoleCount !== 1 || topHoleType !== 'Rounded',\r\n                width: '48%',\r\n              },\r\n              {\r\n                name: 'remark',\r\n                label: 'Remark',\r\n                type: 'text',\r\n                width: '100%',\r\n              },\r\n              {\r\n                name: 'topSketchImg',\r\n                label: 'Sketch Image (Optional)',\r\n                type: 'file',\r\n                inputProps: {\r\n                  accept: 'image/png, image/gif, image/jpeg',\r\n                },\r\n                InputLabelProps: { shrink: true },\r\n                width: '100%',\r\n              },\r\n            ].map(({ type, width, ...restParams }, index) => {\r\n              if (type === 'autocomplete') {\r\n                const { name, label, ...autocomParams } = restParams;\r\n                return (\r\n                  <Autocomplete\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    renderInput={(params) => (\r\n                      <TextField {...params} name={name} label={label} />\r\n                    )}\r\n                    disabled={!hasDeskTop}\r\n                    {...autocomParams}\r\n                  />\r\n                );\r\n              } else if (type === 'suffixNumber') {\r\n                const { suffix, ...fieldParams } = restParams;\r\n                return (\r\n                  <FormControlLabel\r\n                    key={index}\r\n                    sx={{\r\n                      flexBasis: width,\r\n                      minWidth: width,\r\n                      alignItems: 'baseline',\r\n                      mx: 0,\r\n                    }}\r\n                    control={\r\n                      <TextField\r\n                        fullWidth\r\n                        sx={{ m: '10px 5px 0 0' }}\r\n                        type=\"number\"\r\n                        disabled={!hasDeskTop}\r\n                        {...fieldParams}\r\n                      />\r\n                    }\r\n                    label={suffix}\r\n                  />\r\n                );\r\n              } else if (type === 'select') {\r\n                const { name, label, options, ...selectParams } = restParams;\r\n                return (\r\n                  <FormControl\r\n                    key={index}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                  >\r\n                    <InputLabel id={`desk-top-${name}-select-label`}>\r\n                      {label}\r\n                    </InputLabel>\r\n                    <Select\r\n                      labelId={`desk-top-${name}-select-label`}\r\n                      id={`desk-top-${name}-select`}\r\n                      name={name}\r\n                      label={label}\r\n                      size=\"small\"\r\n                      disabled={!hasDeskTop}\r\n                      {...selectParams}\r\n                    >\r\n                      {options.map((selectOption, selectOptionIndex) => (\r\n                        <MenuItem key={selectOptionIndex} value={selectOption}>\r\n                          {selectOption}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                );\r\n              } else\r\n                return (\r\n                  <TextField\r\n                    key={index}\r\n                    type={type}\r\n                    sx={{ flexBasis: width, minWidth: width }}\r\n                    disabled={!hasDeskTop}\r\n                    {...restParams}\r\n                  />\r\n                );\r\n            })}\r\n            <TextField\r\n              label=\"Desk Total Price\"\r\n              type=\"number\"\r\n              name=\"deskTotalPrice\"\r\n              defaultValue={productPrice}\r\n              sx={{ flexBasis: 200, minWidth: 200, mx: 'auto' }}\r\n              disabled={!hasDeskTop}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">HKD</InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Box>\r\n          <Divider sx={{ my: '10px' }} />\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              width: '200px',\r\n              border: '1px solid #0000003b',\r\n              borderRadius: '4px',\r\n              mt: '10px',\r\n              mx: 'auto',\r\n              p: '5px 3px',\r\n            }}\r\n          >\r\n            <Typography variant=\"span\" sx={{ flexGrow: 1 }}>\r\n              Amount\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.max(productAmount - 1, 1));\r\n              }}\r\n            >\r\n              <RemoveIcon />\r\n            </IconButton>\r\n            <Typography variant=\"span\" mx=\"10px\">\r\n              {productAmount}\r\n            </Typography>\r\n            <IconButton\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                setProductAmount(Math.min(productAmount + 1, 99));\r\n              }}\r\n            >\r\n              <AddIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_0\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery Included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_1\" defaultChecked={false} />\r\n            }\r\n            label=\"Delivery and installation included\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_2\" defaultChecked={false} />\r\n            }\r\n            label=\"Remote Area Surcharge\"\r\n          />\r\n          <FormControlLabel\r\n            sx={{ display: 'block' }}\r\n            control={\r\n              <Checkbox name=\"deliveryOption_3\" defaultChecked={false} />\r\n            }\r\n            label=\"Stairs Surcharge\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setDeskAddOpen(false);\r\n            }}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\">OK</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n});\r\n","import React, { useState } from 'react';\r\nimport Detail from './Detail';\r\n\r\nconst Create = (props) => {\r\n  const [phone, setPhone] = useState('');\r\n  return (\r\n    <Detail\r\n      componentType=\"create\"\r\n      initialClient={{\r\n        phone,\r\n        setPhone,\r\n        paid: true,\r\n        discountType: 1,\r\n        surchargeType: 1,\r\n        validTil: 1,\r\n      }}\r\n      initialCart={[]}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\n\r\nconst Edit = (props) => {\r\n  const location = useLocation();\r\n  const { quotation } = location.state || {};\r\n  const {\r\n    ChairStocks,\r\n    DeskStocks,\r\n    AccessoryStocks,\r\n    ServiceToQuotations,\r\n    Seller,\r\n    sellerId,\r\n    ...client\r\n  } = quotation || {};\r\n\r\n  const [phone, setPhone] = useState(client.phone);\r\n\r\n  return quotation ? (\r\n    <Detail\r\n      componentType=\"edit\"\r\n      initialClient={{\r\n        ...client,\r\n        phone,\r\n        setPhone,\r\n      }}\r\n      initialCart={ChairStocks.map(({ ChairToQuotation, ...restProps }) => ({\r\n        productType: 'chair',\r\n        productDetail: restProps,\r\n        remark: ChairToQuotation.remark,\r\n        productPrice: ChairToQuotation.unitPrice,\r\n        productAmount: ChairToQuotation.qty,\r\n        productDeliveryOption: ChairToQuotation.deliveryOption,\r\n      }))\r\n        .concat(\r\n          DeskStocks.map(({ DeskToQuotation, ...restProps }) => {\r\n            const {\r\n              unitPrice,\r\n              qty,\r\n              deliveryOption,\r\n              ...deskTopProps\r\n            } = DeskToQuotation;\r\n            return {\r\n              productType: 'desk',\r\n              productDetail: restProps,\r\n              productPrice: unitPrice,\r\n              productAmount: qty,\r\n              productDeliveryOption: deliveryOption,\r\n              ...deskTopProps,\r\n            };\r\n          })\r\n        )\r\n        .concat(\r\n          AccessoryStocks.map(({ AccessoryToQuotation, ...restProps }) => ({\r\n            productType: 'accessory',\r\n            productDetail: restProps,\r\n            remark: AccessoryToQuotation.remark,\r\n            productPrice: AccessoryToQuotation.unitPrice,\r\n            productAmount: AccessoryToQuotation.qty,\r\n            productDeliveryOption: AccessoryToQuotation.deliveryOption,\r\n          }))\r\n        )}\r\n      initialServices = {ServiceToQuotations}\r\n      {...props}\r\n    />\r\n  ) : (\r\n    <Redirect to=\"/user/quotation\" />\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Box } from '@mui/material';\r\nimport {\r\n  BookOnline as BookOnlineIcon,\r\n  Storefront as StorefrontIcon,\r\n} from '@mui/icons-material';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport AppHeader from 'components/Common/AppHeader';\r\nimport { CollapsedSidebar, FixedSidebar } from 'components/Common/Sidebar';\r\nimport { logout } from 'services/auth.service';\r\n\r\nimport { ChairStock } from './Chair';\r\nimport { DeskStock } from './Desk';\r\nimport { AccessoryStock } from './Accessory';\r\nimport {\r\n  SalesOrderCreate,\r\n  SalesOrderEdit,\r\n  SalesOrderView,\r\n} from './Salement/SalesOrder';\r\nimport {\r\n  QuotationCreate,\r\n  QuotationEdit,\r\n  QuotationView,\r\n} from './Salement/Quotation';\r\n\r\nfunction mapStateToProps(state) {\r\n  const { auth } = state;\r\n  return { auth };\r\n}\r\n\r\nconst drawerWidth = 240;\r\nconst drawerHeight = 50;\r\n\r\nconst menuLists = [\r\n  {\r\n    category: 'Chair',\r\n    content: [\r\n      { to: '/user/chair/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Desk',\r\n    content: [\r\n      { to: '/user/desk/stock', icon: <StorefrontIcon />, label: 'Stock' },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Accessory',\r\n    content: [\r\n      {\r\n        to: '/user/accessory/stock',\r\n        icon: <StorefrontIcon />,\r\n        label: 'Stock',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    category: 'Sales',\r\n    content: [\r\n      { to: '/user/order', icon: <BookOnlineIcon />, label: 'Order' },\r\n      { to: '/user/quotation', icon: <BookOnlineIcon />, label: 'Quotation' },\r\n    ],\r\n  },\r\n];\r\n\r\nconst Standard = (props) => {\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n  const { path } = useRouteMatch();\r\n\r\n  const handleDrawerOpen = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = (e) => {\r\n    e.preventDefault();\r\n    setMobileOpen(false);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: 'Are you sure?',\r\n      text: 'Log out will remove your session information permanently.',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonText: 'Yes, Logout!',\r\n      cancelButtonText: 'No, Keep Login',\r\n      allowOutsideClick: false,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        props.logout();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        drawerHeight={drawerHeight}\r\n        handleDrawerToggle={handleDrawerOpen}\r\n        title=\"Salesman\"\r\n      />\r\n      <Box\r\n        flexBasis={`calc(100% - ${drawerHeight}px)`}\r\n        maxHeight={`calc(100% - ${drawerHeight}px)`}\r\n        position=\"relative\"\r\n        display=\"flex\"\r\n        backgroundColor=\"#f4f5f7\"\r\n      >\r\n        <CollapsedSidebar\r\n          mobileOpen={mobileOpen}\r\n          handleDrawerClose={handleDrawerClose}\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <FixedSidebar\r\n          drawerWidth={drawerWidth}\r\n          handleLogout={handleLogout}\r\n          lists={menuLists}\r\n        />\r\n        <Box\r\n          component=\"main\"\r\n          sx={{\r\n            flexGrow: 1,\r\n            p: 3,\r\n            width: { sm: `calc(100% - ${drawerWidth}px)` },\r\n          }}\r\n        >\r\n          <Switch>\r\n            <Route path={`${path}/chair/stock`} component={ChairStock} />\r\n            <Route path={`${path}/desk/stock`} component={DeskStock} />\r\n            <Route\r\n              path={`${path}/accessory/stock`}\r\n              component={AccessoryStock}\r\n            />\r\n            <Route path={`${path}/order`} exact component={SalesOrderView} />\r\n            <Route\r\n              path={`${path}/order/create`}\r\n              exact\r\n              component={SalesOrderCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/order/edit`}\r\n              exact\r\n              component={SalesOrderEdit}\r\n            />\r\n            <Route path={`${path}/quotation`} exact component={QuotationView} />\r\n            <Route\r\n              path={`${path}/quotation/create`}\r\n              exact\r\n              component={QuotationCreate}\r\n            />\r\n            <Route\r\n              path={`${path}/quotation/edit`}\r\n              exact\r\n              component={QuotationEdit}\r\n            />\r\n          </Switch>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout })(Standard);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === true ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/user/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GuestRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === false ? (\r\n        <Component {...props} />\r\n      ) : auth.isAdmin === true ? (\r\n        <Redirect to=\"/admin/order\" />\r\n      ) : (\r\n        <Redirect to=\"/user/order\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nGuestRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(GuestRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      auth.isLoggedIn === true ? (\r\n        auth.isAdmin === false ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/admin/order\" />\r\n        )\r\n      ) : (\r\n        <Redirect to=\"/signin\" />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(() => {\r\n  const { productType, deliveryId } = useParams();\r\n  const [link, setLink] = useState('');\r\n  useEffect(() => {\r\n    if (!link) {\r\n      axios\r\n        .post('/delivery/generatePDF', {\r\n          productType,\r\n          deliveryId,\r\n          signature: '',\r\n        })\r\n        .then((response) => {\r\n          // handle success\r\n          if (!response.data) {\r\n            Swal.fire({\r\n              icon: 'info',\r\n              title: 'Alarm',\r\n              text:\r\n                'New Delivery PDF was created. Please click the button again to check.',\r\n              allowOutsideClick: false,\r\n            });\r\n          }\r\n          setLink(response.data.url);\r\n          if (response.data.url) window.location.href = response.data.url;\r\n        })\r\n        .catch(function (error) {\r\n          // handle error\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: error.response.data.message,\r\n            allowOutsideClick: false,\r\n          });\r\n        });\r\n    }\r\n  }, [link]);\r\n  return <></>;\r\n});\r\n","import React, { useState } from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  Container,\r\n  CssBaseline,\r\n} from '@mui/material';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { Provider } from 'react-redux';\r\nimport store from 'store';\r\nimport axios from 'axios';\r\n\r\nimport { Invoice, Quotation, SignIn, SignUp } from 'components/Guest';\r\nimport Admin from 'components/Admin';\r\nimport Standard from 'components/Standard';\r\nimport { AdminRoute, GuestRoute, PrivateRoute } from 'components/Common/Routes';\r\nimport DeliveryPDF from 'components/Common/DeliveryPDF';\r\n\r\nif (store.getState().auth.isLoggedIn)\r\n  axios.defaults.headers.common['Authorization'] = `Bearer ${\r\n    store.getState().auth.token\r\n  }`;\r\n\r\nconst defaultTheme = createTheme();\r\n\r\nconst theme = createTheme({\r\n  components: {\r\n    MuiButton: {\r\n      variants: [\r\n        {\r\n          props: { color: 'aaaa' },\r\n          style: {\r\n            root: { color: `#888888` },\r\n          },\r\n        },\r\n      ],\r\n      defaultProps: {\r\n        variant: 'outlined',\r\n      },\r\n      styleOverrides: {\r\n        root: {\r\n          textTransform: 'none',\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      defaultProps: {\r\n        variant: 'outlined',\r\n        margin: 'dense',\r\n        size: 'small',\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      defaultProps: {\r\n        margin: 'dense',\r\n        size: 'small',\r\n      },\r\n    },\r\n    MuiFormControl: {\r\n      defaultProps: {\r\n        margin: 'dense',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\naxios.defaults.baseURL = 'http://localhost:4000/api';\r\n// axios.defaults.baseURL = 'http://97.74.83.170/api';\r\n// axios.defaults.baseURL = 'http://blueoceanblue.com/api';\r\n\r\naxios.interceptors.request.use(\r\n  function (config) {\r\n    store.dispatch({ type: 'loading/beginLoading' });\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    store.dispatch({ type: 'loading/endLoading' });\r\n    return response;\r\n  },\r\n  function (error) {\r\n    store.dispatch({ type: 'loading/endLoading' });\r\n    if (error.response && error.response.status === 401)\r\n      store.dispatch({ type: 'auth/logout' });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst App = () => {\r\n  const [loading, setLoading] = useState(store.getState().loading.value);\r\n  store.subscribe(() => {\r\n    setLoading(store.getState().loading.value);\r\n  });\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <Container\r\n          maxWidth={false}\r\n          disableGutters\r\n          sx={{\r\n            height: '100vh',\r\n            overflow: 'auto',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n          }}\r\n        >\r\n          <Backdrop\r\n            sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.modal + 1 }}\r\n            open={loading}\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route path=\"/\" exact>\r\n                <Redirect to=\"/signin\" />\r\n              </Route>\r\n              <Route path=\"/invoice/:id\" exact component={Invoice} />\r\n              <Route path=\"/quotation/:id\" exact component={Quotation} />\r\n              <GuestRoute path=\"/signin\" exact component={SignIn} />\r\n              <GuestRoute path=\"/signup\" exact component={SignUp} />\r\n              <AdminRoute path=\"/admin\" component={Admin} />\r\n              <PrivateRoute path=\"/user\" component={Standard} />\r\n              <Route\r\n                path=\"/deliveryPDF/:productType/:deliveryId\"\r\n                component={DeliveryPDF}\r\n              />\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </Container>\r\n      </Provider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}